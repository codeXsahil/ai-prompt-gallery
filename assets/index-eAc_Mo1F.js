var QA=Object.defineProperty;var xw=t=>{throw TypeError(t)};var YA=(t,e,n)=>e in t?QA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Tr=(t,e,n)=>YA(t,typeof e!="symbol"?e+"":e,n),wf=(t,e,n)=>e.has(t)||xw("Cannot "+n);var U=(t,e,n)=>(wf(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?xw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(wf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wt=(t,e,n)=>(wf(t,e,"access private method"),n);var Xc=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return U(t,e,r)}});function XA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function fc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v1={exports:{}},ih={},w1={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pc=Symbol.for("react.element"),JA=Symbol.for("react.portal"),ZA=Symbol.for("react.fragment"),eP=Symbol.for("react.strict_mode"),tP=Symbol.for("react.profiler"),nP=Symbol.for("react.provider"),rP=Symbol.for("react.context"),sP=Symbol.for("react.forward_ref"),iP=Symbol.for("react.suspense"),oP=Symbol.for("react.memo"),aP=Symbol.for("react.lazy"),Tw=Symbol.iterator;function lP(t){return t===null||typeof t!="object"?null:(t=Tw&&t[Tw]||t["@@iterator"],typeof t=="function"?t:null)}var _1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E1=Object.assign,x1={};function ma(t,e,n){this.props=t,this.context=e,this.refs=x1,this.updater=n||_1}ma.prototype.isReactComponent={};ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T1(){}T1.prototype=ma.prototype;function xg(t,e,n){this.props=t,this.context=e,this.refs=x1,this.updater=n||_1}var Tg=xg.prototype=new T1;Tg.constructor=xg;E1(Tg,ma.prototype);Tg.isPureReactComponent=!0;var Sw=Array.isArray,S1=Object.prototype.hasOwnProperty,Sg={current:null},b1={key:!0,ref:!0,__self:!0,__source:!0};function I1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)S1.call(e,r)&&!b1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:pc,type:t,key:i,ref:o,props:s,_owner:Sg.current}}function cP(t,e){return{$$typeof:pc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bg(t){return typeof t=="object"&&t!==null&&t.$$typeof===pc}function uP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bw=/\/+/g;function _f(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uP(""+t.key):e.toString(36)}function Nu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pc:case JA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+_f(o,0):r,Sw(s)?(n="",t!=null&&(n=t.replace(bw,"$&/")+"/"),Nu(s,e,n,"",function(u){return u})):s!=null&&(bg(s)&&(s=cP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sw(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+_f(i,a);o+=Nu(i,e,n,c,s)}else if(c=lP(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+_f(i,a++),o+=Nu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jc(t,e,n){if(t==null)return t;var r=[],s=0;return Nu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function dP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Ou={transition:null},hP={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Ou,ReactCurrentOwner:Sg};function C1(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Jc,forEach:function(t,e,n){Jc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jc(t,function(){e++}),e},toArray:function(t){return Jc(t,function(e){return e})||[]},only:function(t){if(!bg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ma;fe.Fragment=ZA;fe.Profiler=tP;fe.PureComponent=xg;fe.StrictMode=eP;fe.Suspense=iP;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hP;fe.act=C1;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)S1.call(e,c)&&!b1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:pc,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:rP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nP,_context:t},t.Consumer=t};fe.createElement=I1;fe.createFactory=function(t){var e=I1.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:sP,render:t}};fe.isValidElement=bg;fe.lazy=function(t){return{$$typeof:aP,_payload:{_status:-1,_result:t},_init:dP}};fe.memo=function(t,e){return{$$typeof:oP,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Ou.transition;Ou.transition={};try{t()}finally{Ou.transition=e}};fe.unstable_act=C1;fe.useCallback=function(t,e){return Mt.current.useCallback(t,e)};fe.useContext=function(t){return Mt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Mt.current.useEffect(t,e)};fe.useId=function(){return Mt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Mt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};fe.useRef=function(t){return Mt.current.useRef(t)};fe.useState=function(t){return Mt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Mt.current.useTransition()};fe.version="18.3.1";w1.exports=fe;var x=w1.exports;const W=fc(x),Ig=XA({__proto__:null,default:W},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP=x,pP=Symbol.for("react.element"),mP=Symbol.for("react.fragment"),gP=Object.prototype.hasOwnProperty,yP=fP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vP={key:!0,ref:!0,__self:!0,__source:!0};function A1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)gP.call(e,r)&&!vP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pP,type:t,key:i,ref:o,props:s,_owner:yP.current}}ih.Fragment=mP;ih.jsx=A1;ih.jsxs=A1;v1.exports=ih;var p=v1.exports,P1={exports:{}},rn={},R1={exports:{}},k1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var K=j.length;j.push(z);e:for(;0<K;){var ie=K-1>>>1,ee=j[ie];if(0<s(ee,z))j[ie]=z,j[K]=ee,K=ie;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],K=j.pop();if(K!==z){j[0]=K;e:for(var ie=0,ee=j.length,de=ee>>>1;ie<de;){var ce=2*(ie+1)-1,Oe=j[ce],Ke=ce+1,ye=j[Ke];if(0>s(Oe,K))Ke<ee&&0>s(ye,Oe)?(j[ie]=ye,j[Ke]=K,ie=Ke):(j[ie]=Oe,j[ce]=K,ie=ce);else if(Ke<ee&&0>s(ye,K))j[ie]=ye,j[Ke]=K,ie=Ke;else break e}}return z}function s(j,z){var K=j.sortIndex-z.sortIndex;return K!==0?K:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,m=3,g=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=j)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function N(j){if(v=!1,T(j),!S)if(n(c)!==null)S=!0,Q(D);else{var z=n(u);z!==null&&Z(N,z.startTime-j)}}function D(j,z){S=!1,v&&(v=!1,_(I),I=-1),g=!0;var K=m;try{for(T(z),h=n(c);h!==null&&(!(h.expirationTime>z)||j&&!A());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,m=h.priorityLevel;var ee=ie(h.expirationTime<=z);z=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(c)&&r(c),T(z)}else r(c);h=n(c)}if(h!==null)var de=!0;else{var ce=n(u);ce!==null&&Z(N,ce.startTime-z),de=!1}return de}finally{h=null,m=K,g=!1}}var M=!1,b=null,I=-1,P=5,R=-1;function A(){return!(t.unstable_now()-R<P)}function O(){if(b!==null){var j=t.unstable_now();R=j;var z=!0;try{z=b(!0,j)}finally{z?k():(M=!1,b=null)}}else M=!1}var k;if(typeof w=="function")k=function(){w(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=O,k=function(){q.postMessage(null)}}else k=function(){E(O,0)};function Q(j){b=j,M||(M=!0,k())}function Z(j,z){I=E(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||g||(S=!0,Q(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var K=m;m=z;try{return j()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=m;m=j;try{return z()}finally{m=K}},t.unstable_scheduleCallback=function(j,z,K){var ie=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=K+ee,j={id:d++,callback:z,priorityLevel:j,startTime:K,expirationTime:ee,sortIndex:-1},K>ie?(j.sortIndex=K,e(u,j),n(c)===null&&j===n(u)&&(v?(_(I),I=-1):v=!0,Z(N,K-ie))):(j.sortIndex=ee,e(c,j),S||g||(S=!0,Q(D))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var z=m;return function(){var K=m;m=z;try{return j.apply(this,arguments)}finally{m=K}}}})(k1);R1.exports=k1;var wP=R1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P=x,nn=wP;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N1=new Set,kl={};function qi(t,e){Zo(t,e),Zo(t+"Capture",e)}function Zo(t,e){for(kl[t]=e,t=0;t<e.length;t++)N1.add(e[t])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bp=Object.prototype.hasOwnProperty,EP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iw={},Cw={};function xP(t){return bp.call(Cw,t)?!0:bp.call(Iw,t)?!1:EP.test(t)?Cw[t]=!0:(Iw[t]=!0,!1)}function TP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SP(t,e,n,r){if(e===null||typeof e>"u"||TP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cg=/[\-:]([a-z])/g;function Ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cg,Ag);yt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cg,Ag);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cg,Ag);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pg(t,e,n,r){var s=yt.hasOwnProperty(e)?yt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SP(e,n,s,r)&&(n=null),r||s===null?xP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qr=_P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),O1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),M1=Symbol.for("react.offscreen"),Aw=Symbol.iterator;function Wa(t){return t===null||typeof t!="object"?null:(t=Aw&&t[Aw]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Ef;function rl(t){if(Ef===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ef=e&&e[1]||""}return`
`+Ef+t}var xf=!1;function Tf(t,e){if(!t||xf)return"";xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{xf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rl(t):""}function bP(t){switch(t.tag){case 5:return rl(t.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return t=Tf(t.type,!1),t;case 11:return t=Tf(t.type.render,!1),t;case 1:return t=Tf(t.type,!0),t;default:return""}}function Pp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case go:return"Fragment";case mo:return"Portal";case Ip:return"Profiler";case Rg:return"StrictMode";case Cp:return"Suspense";case Ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D1:return(t.displayName||"Context")+".Consumer";case O1:return(t._context.displayName||"Context")+".Provider";case kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ng:return e=t.displayName||null,e!==null?e:Pp(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return Pp(t(e))}catch{}}return null}function IP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pp(e);case 8:return e===Rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function L1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CP(t){var e=L1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eu(t){t._valueTracker||(t._valueTracker=CP(t))}function V1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=L1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ld(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rp(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j1(t,e){e=e.checked,e!=null&&Pg(t,"checked",e,!1)}function kp(t,e){j1(t,e);var n=Bs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Np(t,e.type,n):e.hasOwnProperty("defaultValue")&&Np(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Np(t,e,n){(e!=="number"||ld(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sl=Array.isArray;function Ao(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Op(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(sl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bs(n)}}function F1(t,e){var n=Bs(e.value),r=Bs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tu,$1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tu=tu||document.createElement("div"),tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AP=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(t){AP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pl[e]=pl[t]})});function z1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||pl.hasOwnProperty(t)&&pl[t]?(""+e).trim():e+"px"}function B1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=z1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var PP=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mp(t,e){if(e){if(PP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Lp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=null;function Og(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jp=null,Po=null,Ro=null;function Ow(t){if(t=yc(t)){if(typeof jp!="function")throw Error(H(280));var e=t.stateNode;e&&(e=uh(e),jp(t.stateNode,t.type,e))}}function H1(t){Po?Ro?Ro.push(t):Ro=[t]:Po=t}function W1(){if(Po){var t=Po,e=Ro;if(Ro=Po=null,Ow(t),e)for(t=0;t<e.length;t++)Ow(e[t])}}function q1(t,e){return t(e)}function G1(){}var Sf=!1;function K1(t,e,n){if(Sf)return t(e,n);Sf=!0;try{return q1(t,e,n)}finally{Sf=!1,(Po!==null||Ro!==null)&&(G1(),W1())}}function Ol(t,e){var n=t.stateNode;if(n===null)return null;var r=uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Fp=!1;if(Mr)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Fp=!1}function RP(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ml=!1,cd=null,ud=!1,Up=null,kP={onError:function(t){ml=!0,cd=t}};function NP(t,e,n,r,s,i,o,a,c){ml=!1,cd=null,RP.apply(kP,arguments)}function OP(t,e,n,r,s,i,o,a,c){if(NP.apply(this,arguments),ml){if(ml){var u=cd;ml=!1,cd=null}else throw Error(H(198));ud||(ud=!0,Up=u)}}function Gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dw(t){if(Gi(t)!==t)throw Error(H(188))}function DP(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Dw(s),t;if(i===r)return Dw(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Y1(t){return t=DP(t),t!==null?X1(t):null}function X1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X1(t);if(e!==null)return e;t=t.sibling}return null}var J1=nn.unstable_scheduleCallback,Mw=nn.unstable_cancelCallback,MP=nn.unstable_shouldYield,LP=nn.unstable_requestPaint,qe=nn.unstable_now,VP=nn.unstable_getCurrentPriorityLevel,Dg=nn.unstable_ImmediatePriority,Z1=nn.unstable_UserBlockingPriority,dd=nn.unstable_NormalPriority,jP=nn.unstable_LowPriority,ex=nn.unstable_IdlePriority,oh=null,ir=null;function FP(t){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(oh,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:zP,UP=Math.log,$P=Math.LN2;function zP(t){return t>>>=0,t===0?32:31-(UP(t)/$P|0)|0}var nu=64,ru=4194304;function il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=il(a):(i&=o,i!==0&&(r=il(i)))}else o=n&~s,o!==0?r=il(o):i!==0&&(r=il(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-On(e),s=1<<n,r|=t[n],e&=~s;return r}function BP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-On(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=BP(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function $p(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tx(){var t=nu;return nu<<=1,!(nu&4194240)&&(nu=64),t}function bf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=n}function WP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-On(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-On(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function nx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rx,Lg,sx,ix,ox,zp=!1,su=[],As=null,Ps=null,Rs=null,Dl=new Map,Ml=new Map,fs=[],qP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lw(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Dl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(e.pointerId)}}function Ga(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yc(e),e!==null&&Lg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function GP(t,e,n,r,s){switch(e){case"focusin":return As=Ga(As,t,e,n,r,s),!0;case"dragenter":return Ps=Ga(Ps,t,e,n,r,s),!0;case"mouseover":return Rs=Ga(Rs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dl.set(i,Ga(Dl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ml.set(i,Ga(Ml.get(i)||null,t,e,n,r,s)),!0}return!1}function ax(t){var e=vi(t.target);if(e!==null){var n=Gi(e);if(n!==null){if(e=n.tag,e===13){if(e=Q1(n),e!==null){t.blockedOn=e,ox(t.priority,function(){sx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vp=r,n.target.dispatchEvent(r),Vp=null}else return e=yc(n),e!==null&&Lg(e),t.blockedOn=n,!1;e.shift()}return!0}function Vw(t,e,n){Du(t)&&n.delete(e)}function KP(){zp=!1,As!==null&&Du(As)&&(As=null),Ps!==null&&Du(Ps)&&(Ps=null),Rs!==null&&Du(Rs)&&(Rs=null),Dl.forEach(Vw),Ml.forEach(Vw)}function Ka(t,e){t.blockedOn===e&&(t.blockedOn=null,zp||(zp=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,KP)))}function Ll(t){function e(s){return Ka(s,t)}if(0<su.length){Ka(su[0],t);for(var n=1;n<su.length;n++){var r=su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Ka(As,t),Ps!==null&&Ka(Ps,t),Rs!==null&&Ka(Rs,t),Dl.forEach(e),Ml.forEach(e),n=0;n<fs.length;n++)r=fs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fs.length&&(n=fs[0],n.blockedOn===null);)ax(n),n.blockedOn===null&&fs.shift()}var ko=qr.ReactCurrentBatchConfig,fd=!0;function QP(t,e,n,r){var s=Te,i=ko.transition;ko.transition=null;try{Te=1,Vg(t,e,n,r)}finally{Te=s,ko.transition=i}}function YP(t,e,n,r){var s=Te,i=ko.transition;ko.transition=null;try{Te=4,Vg(t,e,n,r)}finally{Te=s,ko.transition=i}}function Vg(t,e,n,r){if(fd){var s=Bp(t,e,n,r);if(s===null)Mf(t,e,r,pd,n),Lw(t,r);else if(GP(s,t,e,n,r))r.stopPropagation();else if(Lw(t,r),e&4&&-1<qP.indexOf(t)){for(;s!==null;){var i=yc(s);if(i!==null&&rx(i),i=Bp(t,e,n,r),i===null&&Mf(t,e,r,pd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mf(t,e,r,null,n)}}var pd=null;function Bp(t,e,n,r){if(pd=null,t=Og(r),t=vi(t),t!==null)if(e=Gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pd=t,null}function lx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VP()){case Dg:return 1;case Z1:return 4;case dd:case jP:return 16;case ex:return 536870912;default:return 16}default:return 16}}var Ss=null,jg=null,Mu=null;function cx(){if(Mu)return Mu;var t,e=jg,n=e.length,r,s="value"in Ss?Ss.value:Ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Mu=s.slice(t,1<r?1-r:void 0)}function Lu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function iu(){return!0}function jw(){return!1}function sn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?iu:jw,this.isPropagationStopped=jw,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fg=sn(ga),gc=Fe({},ga,{view:0,detail:0}),XP=sn(gc),If,Cf,Qa,ah=Fe({},gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(If=t.screenX-Qa.screenX,Cf=t.screenY-Qa.screenY):Cf=If=0,Qa=t),If)},movementY:function(t){return"movementY"in t?t.movementY:Cf}}),Fw=sn(ah),JP=Fe({},ah,{dataTransfer:0}),ZP=sn(JP),eR=Fe({},gc,{relatedTarget:0}),Af=sn(eR),tR=Fe({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),nR=sn(tR),rR=Fe({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sR=sn(rR),iR=Fe({},ga,{data:0}),Uw=sn(iR),oR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lR[t])?!!e[t]:!1}function Ug(){return cR}var uR=Fe({},gc,{key:function(t){if(t.key){var e=oR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(t){return t.type==="keypress"?Lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dR=sn(uR),hR=Fe({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$w=sn(hR),fR=Fe({},gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),pR=sn(fR),mR=Fe({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),gR=sn(mR),yR=Fe({},ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vR=sn(yR),wR=[9,13,27,32],$g=Mr&&"CompositionEvent"in window,gl=null;Mr&&"documentMode"in document&&(gl=document.documentMode);var _R=Mr&&"TextEvent"in window&&!gl,ux=Mr&&(!$g||gl&&8<gl&&11>=gl),zw=" ",Bw=!1;function dx(t,e){switch(t){case"keyup":return wR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yo=!1;function ER(t,e){switch(t){case"compositionend":return hx(e);case"keypress":return e.which!==32?null:(Bw=!0,zw);case"textInput":return t=e.data,t===zw&&Bw?null:t;default:return null}}function xR(t,e){if(yo)return t==="compositionend"||!$g&&dx(t,e)?(t=cx(),Mu=jg=Ss=null,yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ux&&e.locale!=="ko"?null:e.data;default:return null}}var TR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TR[t.type]:e==="textarea"}function fx(t,e,n,r){H1(r),e=md(e,"onChange"),0<e.length&&(n=new Fg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yl=null,Vl=null;function SR(t){Sx(t,0)}function lh(t){var e=_o(t);if(V1(e))return t}function bR(t,e){if(t==="change")return e}var px=!1;if(Mr){var Pf;if(Mr){var Rf="oninput"in document;if(!Rf){var Ww=document.createElement("div");Ww.setAttribute("oninput","return;"),Rf=typeof Ww.oninput=="function"}Pf=Rf}else Pf=!1;px=Pf&&(!document.documentMode||9<document.documentMode)}function qw(){yl&&(yl.detachEvent("onpropertychange",mx),Vl=yl=null)}function mx(t){if(t.propertyName==="value"&&lh(Vl)){var e=[];fx(e,Vl,t,Og(t)),K1(SR,e)}}function IR(t,e,n){t==="focusin"?(qw(),yl=e,Vl=n,yl.attachEvent("onpropertychange",mx)):t==="focusout"&&qw()}function CR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lh(Vl)}function AR(t,e){if(t==="click")return lh(e)}function PR(t,e){if(t==="input"||t==="change")return lh(e)}function RR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:RR;function jl(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!bp.call(e,s)||!Ln(t[s],e[s]))return!1}return!0}function Gw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kw(t,e){var n=Gw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gw(n)}}function gx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yx(){for(var t=window,e=ld();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ld(t.document)}return e}function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kR(t){var e=yx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gx(n.ownerDocument.documentElement,n)){if(r!==null&&zg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kw(n,i);var o=Kw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NR=Mr&&"documentMode"in document&&11>=document.documentMode,vo=null,Hp=null,vl=null,Wp=!1;function Qw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wp||vo==null||vo!==ld(r)||(r=vo,"selectionStart"in r&&zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vl&&jl(vl,r)||(vl=r,r=md(Hp,"onSelect"),0<r.length&&(e=new Fg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vo)))}function ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wo={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},kf={},vx={};Mr&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function ch(t){if(kf[t])return kf[t];if(!wo[t])return t;var e=wo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vx)return kf[t]=e[n];return t}var wx=ch("animationend"),_x=ch("animationiteration"),Ex=ch("animationstart"),xx=ch("transitionend"),Tx=new Map,Yw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(t,e){Tx.set(t,e),qi(e,[t])}for(var Nf=0;Nf<Yw.length;Nf++){var Of=Yw[Nf],OR=Of.toLowerCase(),DR=Of[0].toUpperCase()+Of.slice(1);ei(OR,"on"+DR)}ei(wx,"onAnimationEnd");ei(_x,"onAnimationIteration");ei(Ex,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(xx,"onTransitionEnd");Zo("onMouseEnter",["mouseout","mouseover"]);Zo("onMouseLeave",["mouseout","mouseover"]);Zo("onPointerEnter",["pointerout","pointerover"]);Zo("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Xw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OP(r,e,void 0,t),t.currentTarget=null}function Sx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Xw(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Xw(s,a,u),i=c}}}if(ud)throw t=Up,ud=!1,Up=null,t}function Re(t,e){var n=e[Yp];n===void 0&&(n=e[Yp]=new Set);var r=t+"__bubble";n.has(r)||(bx(e,t,2,!1),n.add(r))}function Df(t,e,n){var r=0;e&&(r|=4),bx(n,t,r,e)}var au="_reactListening"+Math.random().toString(36).slice(2);function Fl(t){if(!t[au]){t[au]=!0,N1.forEach(function(n){n!=="selectionchange"&&(MR.has(n)||Df(n,!1,t),Df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[au]||(e[au]=!0,Df("selectionchange",!1,e))}}function bx(t,e,n,r){switch(lx(e)){case 1:var s=QP;break;case 4:s=YP;break;default:s=Vg}n=s.bind(null,e,n,t),s=void 0,!Fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vi(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}K1(function(){var u=i,d=Og(n),h=[];e:{var m=Tx.get(t);if(m!==void 0){var g=Fg,S=t;switch(t){case"keypress":if(Lu(n)===0)break e;case"keydown":case"keyup":g=dR;break;case"focusin":S="focus",g=Af;break;case"focusout":S="blur",g=Af;break;case"beforeblur":case"afterblur":g=Af;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Fw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ZP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=pR;break;case wx:case _x:case Ex:g=nR;break;case xx:g=gR;break;case"scroll":g=XP;break;case"wheel":g=vR;break;case"copy":case"cut":case"paste":g=sR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$w}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var w=u,T;w!==null;){T=w;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,_!==null&&(N=Ol(w,_),N!=null&&v.push(Ul(w,N,T)))),E)break;w=w.return}0<v.length&&(m=new g(m,S,null,n,d),h.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Vp&&(S=n.relatedTarget||n.fromElement)&&(vi(S)||S[Lr]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=u,S=S?vi(S):null,S!==null&&(E=Gi(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=u),g!==S)){if(v=Fw,N="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=$w,N="onPointerLeave",_="onPointerEnter",w="pointer"),E=g==null?m:_o(g),T=S==null?m:_o(S),m=new v(N,w+"leave",g,n,d),m.target=E,m.relatedTarget=T,N=null,vi(d)===u&&(v=new v(_,w+"enter",S,n,d),v.target=T,v.relatedTarget=E,N=v),E=N,g&&S)t:{for(v=g,_=S,w=0,T=v;T;T=io(T))w++;for(T=0,N=_;N;N=io(N))T++;for(;0<w-T;)v=io(v),w--;for(;0<T-w;)_=io(_),T--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=io(v),_=io(_)}v=null}else v=null;g!==null&&Jw(h,m,g,v,!1),S!==null&&E!==null&&Jw(h,E,S,v,!0)}}e:{if(m=u?_o(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var D=bR;else if(Hw(m))if(px)D=PR;else{D=CR;var M=IR}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=AR);if(D&&(D=D(t,u))){fx(h,D,n,d);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Np(m,"number",m.value)}switch(M=u?_o(u):window,t){case"focusin":(Hw(M)||M.contentEditable==="true")&&(vo=M,Hp=u,vl=null);break;case"focusout":vl=Hp=vo=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,Qw(h,n,d);break;case"selectionchange":if(NR)break;case"keydown":case"keyup":Qw(h,n,d)}var b;if($g)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else yo?dx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ux&&n.locale!=="ko"&&(yo||I!=="onCompositionStart"?I==="onCompositionEnd"&&yo&&(b=cx()):(Ss=d,jg="value"in Ss?Ss.value:Ss.textContent,yo=!0)),M=md(u,I),0<M.length&&(I=new Uw(I,t,null,n,d),h.push({event:I,listeners:M}),b?I.data=b:(b=hx(n),b!==null&&(I.data=b)))),(b=_R?ER(t,n):xR(t,n))&&(u=md(u,"onBeforeInput"),0<u.length&&(d=new Uw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}Sx(h,e)})}function Ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function md(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ol(t,n),i!=null&&r.unshift(Ul(t,i,s)),i=Ol(t,e),i!=null&&r.push(Ul(t,i,s))),t=t.return}return r}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ol(n,i),c!=null&&o.unshift(Ul(n,c,a))):s||(c=Ol(n,i),c!=null&&o.push(Ul(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LR=/\r\n?/g,VR=/\u0000|\uFFFD/g;function Zw(t){return(typeof t=="string"?t:""+t).replace(LR,`
`).replace(VR,"")}function lu(t,e,n){if(e=Zw(e),Zw(t)!==e&&n)throw Error(H(425))}function gd(){}var qp=null,Gp=null;function Kp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qp=typeof setTimeout=="function"?setTimeout:void 0,jR=typeof clearTimeout=="function"?clearTimeout:void 0,e0=typeof Promise=="function"?Promise:void 0,FR=typeof queueMicrotask=="function"?queueMicrotask:typeof e0<"u"?function(t){return e0.resolve(null).then(t).catch(UR)}:Qp;function UR(t){setTimeout(function(){throw t})}function Lf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ll(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ll(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ya=Math.random().toString(36).slice(2),nr="__reactFiber$"+ya,$l="__reactProps$"+ya,Lr="__reactContainer$"+ya,Yp="__reactEvents$"+ya,$R="__reactListeners$"+ya,zR="__reactHandles$"+ya;function vi(t){var e=t[nr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[nr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t0(t);t!==null;){if(n=t[nr])return n;t=t0(t)}return e}t=n,n=t.parentNode}return null}function yc(t){return t=t[nr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function uh(t){return t[$l]||null}var Xp=[],Eo=-1;function ti(t){return{current:t}}function Ne(t){0>Eo||(t.current=Xp[Eo],Xp[Eo]=null,Eo--)}function Ce(t,e){Eo++,Xp[Eo]=t.current,t.current=e}var Hs={},Ct=ti(Hs),Wt=ti(!1),Ni=Hs;function ea(t,e){var n=t.type.contextTypes;if(!n)return Hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function qt(t){return t=t.childContextTypes,t!=null}function yd(){Ne(Wt),Ne(Ct)}function n0(t,e,n){if(Ct.current!==Hs)throw Error(H(168));Ce(Ct,e),Ce(Wt,n)}function Ix(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,IP(t)||"Unknown",s));return Fe({},n,r)}function vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hs,Ni=Ct.current,Ce(Ct,t),Ce(Wt,Wt.current),!0}function r0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Ix(t,e,Ni),r.__reactInternalMemoizedMergedChildContext=t,Ne(Wt),Ne(Ct),Ce(Ct,t)):Ne(Wt),Ce(Wt,n)}var Cr=null,dh=!1,Vf=!1;function Cx(t){Cr===null?Cr=[t]:Cr.push(t)}function BR(t){dh=!0,Cx(t)}function ni(){if(!Vf&&Cr!==null){Vf=!0;var t=0,e=Te;try{var n=Cr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cr=null,dh=!1}catch(s){throw Cr!==null&&(Cr=Cr.slice(t+1)),J1(Dg,ni),s}finally{Te=e,Vf=!1}}return null}var xo=[],To=0,wd=null,_d=0,dn=[],hn=0,Oi=null,Pr=1,Rr="";function mi(t,e){xo[To++]=_d,xo[To++]=wd,wd=t,_d=e}function Ax(t,e,n){dn[hn++]=Pr,dn[hn++]=Rr,dn[hn++]=Oi,Oi=t;var r=Pr;t=Rr;var s=32-On(r)-1;r&=~(1<<s),n+=1;var i=32-On(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Pr=1<<32-On(e)+s|n<<s|r,Rr=i+t}else Pr=1<<i|n<<s|r,Rr=t}function Bg(t){t.return!==null&&(mi(t,1),Ax(t,1,0))}function Hg(t){for(;t===wd;)wd=xo[--To],xo[To]=null,_d=xo[--To],xo[To]=null;for(;t===Oi;)Oi=dn[--hn],dn[hn]=null,Rr=dn[--hn],dn[hn]=null,Pr=dn[--hn],dn[hn]=null}var en=null,Jt=null,De=!1,Rn=null;function Px(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:Pr,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function Jp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zp(t){if(De){var e=Jt;if(e){var n=e;if(!s0(t,e)){if(Jp(t))throw Error(H(418));e=ks(n.nextSibling);var r=en;e&&s0(t,e)?Px(r,n):(t.flags=t.flags&-4097|2,De=!1,en=t)}}else{if(Jp(t))throw Error(H(418));t.flags=t.flags&-4097|2,De=!1,en=t}}}function i0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function cu(t){if(t!==en)return!1;if(!De)return i0(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kp(t.type,t.memoizedProps)),e&&(e=Jt)){if(Jp(t))throw Rx(),Error(H(418));for(;e;)Px(t,e),e=ks(e.nextSibling)}if(i0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?ks(t.stateNode.nextSibling):null;return!0}function Rx(){for(var t=Jt;t;)t=ks(t.nextSibling)}function ta(){Jt=en=null,De=!1}function Wg(t){Rn===null?Rn=[t]:Rn.push(t)}var HR=qr.ReactCurrentBatchConfig;function Ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function uu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o0(t){var e=t._init;return e(t._payload)}function kx(t){function e(_,w){if(t){var T=_.deletions;T===null?(_.deletions=[w],_.flags|=16):T.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=Ms(_,w),_.index=0,_.sibling=null,_}function i(_,w,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<w?(_.flags|=2,w):T):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,T,N){return w===null||w.tag!==6?(w=Hf(T,_.mode,N),w.return=_,w):(w=s(w,T),w.return=_,w)}function c(_,w,T,N){var D=T.type;return D===go?d(_,w,T.props.children,N,T.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ds&&o0(D)===w.type)?(N=s(w,T.props),N.ref=Ya(_,w,T),N.return=_,N):(N=Bu(T.type,T.key,T.props,null,_.mode,N),N.ref=Ya(_,w,T),N.return=_,N)}function u(_,w,T,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Wf(T,_.mode,N),w.return=_,w):(w=s(w,T.children||[]),w.return=_,w)}function d(_,w,T,N,D){return w===null||w.tag!==7?(w=Ri(T,_.mode,N,D),w.return=_,w):(w=s(w,T),w.return=_,w)}function h(_,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Hf(""+w,_.mode,T),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zc:return T=Bu(w.type,w.key,w.props,null,_.mode,T),T.ref=Ya(_,null,w),T.return=_,T;case mo:return w=Wf(w,_.mode,T),w.return=_,w;case ds:var N=w._init;return h(_,N(w._payload),T)}if(sl(w)||Wa(w))return w=Ri(w,_.mode,T,null),w.return=_,w;uu(_,w)}return null}function m(_,w,T,N){var D=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(_,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Zc:return T.key===D?c(_,w,T,N):null;case mo:return T.key===D?u(_,w,T,N):null;case ds:return D=T._init,m(_,w,D(T._payload),N)}if(sl(T)||Wa(T))return D!==null?null:d(_,w,T,N,null);uu(_,T)}return null}function g(_,w,T,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(T)||null,a(w,_,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zc:return _=_.get(N.key===null?T:N.key)||null,c(w,_,N,D);case mo:return _=_.get(N.key===null?T:N.key)||null,u(w,_,N,D);case ds:var M=N._init;return g(_,w,T,M(N._payload),D)}if(sl(N)||Wa(N))return _=_.get(T)||null,d(w,_,N,D,null);uu(w,N)}return null}function S(_,w,T,N){for(var D=null,M=null,b=w,I=w=0,P=null;b!==null&&I<T.length;I++){b.index>I?(P=b,b=null):P=b.sibling;var R=m(_,b,T[I],N);if(R===null){b===null&&(b=P);break}t&&b&&R.alternate===null&&e(_,b),w=i(R,w,I),M===null?D=R:M.sibling=R,M=R,b=P}if(I===T.length)return n(_,b),De&&mi(_,I),D;if(b===null){for(;I<T.length;I++)b=h(_,T[I],N),b!==null&&(w=i(b,w,I),M===null?D=b:M.sibling=b,M=b);return De&&mi(_,I),D}for(b=r(_,b);I<T.length;I++)P=g(b,_,I,T[I],N),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?I:P.key),w=i(P,w,I),M===null?D=P:M.sibling=P,M=P);return t&&b.forEach(function(A){return e(_,A)}),De&&mi(_,I),D}function v(_,w,T,N){var D=Wa(T);if(typeof D!="function")throw Error(H(150));if(T=D.call(T),T==null)throw Error(H(151));for(var M=D=null,b=w,I=w=0,P=null,R=T.next();b!==null&&!R.done;I++,R=T.next()){b.index>I?(P=b,b=null):P=b.sibling;var A=m(_,b,R.value,N);if(A===null){b===null&&(b=P);break}t&&b&&A.alternate===null&&e(_,b),w=i(A,w,I),M===null?D=A:M.sibling=A,M=A,b=P}if(R.done)return n(_,b),De&&mi(_,I),D;if(b===null){for(;!R.done;I++,R=T.next())R=h(_,R.value,N),R!==null&&(w=i(R,w,I),M===null?D=R:M.sibling=R,M=R);return De&&mi(_,I),D}for(b=r(_,b);!R.done;I++,R=T.next())R=g(b,_,I,R.value,N),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?I:R.key),w=i(R,w,I),M===null?D=R:M.sibling=R,M=R);return t&&b.forEach(function(O){return e(_,O)}),De&&mi(_,I),D}function E(_,w,T,N){if(typeof T=="object"&&T!==null&&T.type===go&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Zc:e:{for(var D=T.key,M=w;M!==null;){if(M.key===D){if(D=T.type,D===go){if(M.tag===7){n(_,M.sibling),w=s(M,T.props.children),w.return=_,_=w;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ds&&o0(D)===M.type){n(_,M.sibling),w=s(M,T.props),w.ref=Ya(_,M,T),w.return=_,_=w;break e}n(_,M);break}else e(_,M);M=M.sibling}T.type===go?(w=Ri(T.props.children,_.mode,N,T.key),w.return=_,_=w):(N=Bu(T.type,T.key,T.props,null,_.mode,N),N.ref=Ya(_,w,T),N.return=_,_=N)}return o(_);case mo:e:{for(M=T.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(_,w.sibling),w=s(w,T.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Wf(T,_.mode,N),w.return=_,_=w}return o(_);case ds:return M=T._init,E(_,w,M(T._payload),N)}if(sl(T))return S(_,w,T,N);if(Wa(T))return v(_,w,T,N);uu(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,T),w.return=_,_=w):(n(_,w),w=Hf(T,_.mode,N),w.return=_,_=w),o(_)):n(_,w)}return E}var na=kx(!0),Nx=kx(!1),Ed=ti(null),xd=null,So=null,qg=null;function Gg(){qg=So=xd=null}function Kg(t){var e=Ed.current;Ne(Ed),t._currentValue=e}function em(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function No(t,e){xd=t,qg=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(qg!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(xd===null)throw Error(H(308));So=t,xd.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var wi=null;function Qg(t){wi===null?wi=[t]:wi.push(t)}function Ox(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Qg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hs=!1;function Yg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Vr(t,n)}return s=r.interleaved,s===null?(e.next=e,Qg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Vr(t,n)}function Vu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}function a0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Td(t,e,n,r){var s=t.updateQueue;hs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,a=i;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,v=a;switch(m=e,g=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){h=S.call(g,h,m);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,m=typeof S=="function"?S.call(g,h,m):S,m==null)break e;h=Fe({},h,m);break e;case 2:hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mi|=o,t.lanes=o,t.memoizedState=h}}function l0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var vc={},or=ti(vc),zl=ti(vc),Bl=ti(vc);function _i(t){if(t===vc)throw Error(H(174));return t}function Xg(t,e){switch(Ce(Bl,e),Ce(zl,t),Ce(or,vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dp(e,t)}Ne(or),Ce(or,e)}function ra(){Ne(or),Ne(zl),Ne(Bl)}function Mx(t){_i(Bl.current);var e=_i(or.current),n=Dp(e,t.type);e!==n&&(Ce(zl,t),Ce(or,n))}function Jg(t){zl.current===t&&(Ne(or),Ne(zl))}var Ve=ti(0);function Sd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jf=[];function Zg(){for(var t=0;t<jf.length;t++)jf[t]._workInProgressVersionPrimary=null;jf.length=0}var ju=qr.ReactCurrentDispatcher,Ff=qr.ReactCurrentBatchConfig,Di=0,je=null,rt=null,dt=null,bd=!1,wl=!1,Hl=0,WR=0;function _t(){throw Error(H(321))}function ey(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ln(t[n],e[n]))return!1;return!0}function ty(t,e,n,r,s,i){if(Di=i,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ju.current=t===null||t.memoizedState===null?QR:YR,t=n(r,s),wl){i=0;do{if(wl=!1,Hl=0,25<=i)throw Error(H(301));i+=1,dt=rt=null,e.updateQueue=null,ju.current=XR,t=n(r,s)}while(wl)}if(ju.current=Id,e=rt!==null&&rt.next!==null,Di=0,dt=rt=je=null,bd=!1,e)throw Error(H(300));return t}function ny(){var t=Hl!==0;return Hl=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?je.memoizedState=dt=t:dt=dt.next=t,dt}function vn(){if(rt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=dt===null?je.memoizedState:dt.next;if(e!==null)dt=e,rt=t;else{if(t===null)throw Error(H(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},dt===null?je.memoizedState=dt=t:dt=dt.next=t}return dt}function Wl(t,e){return typeof e=="function"?e(t):e}function Uf(t){var e=vn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=rt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Di&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=r):c=c.next=h,je.lanes|=d,Mi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Ln(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,je.lanes|=i,Mi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $f(t){var e=vn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ln(i,e.memoizedState)||(Ht=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Lx(){}function Vx(t,e){var n=je,r=vn(),s=e(),i=!Ln(r.memoizedState,s);if(i&&(r.memoizedState=s,Ht=!0),r=r.queue,ry(Ux.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,ql(9,Fx.bind(null,n,r,s,e),void 0,null),ht===null)throw Error(H(349));Di&30||jx(n,e,s)}return s}function jx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fx(t,e,n,r){e.value=n,e.getSnapshot=r,$x(e)&&zx(t)}function Ux(t,e,n){return n(function(){$x(e)&&zx(t)})}function $x(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ln(t,n)}catch{return!0}}function zx(t){var e=Vr(t,1);e!==null&&Dn(e,t,1,-1)}function c0(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:t},e.queue=t,t=t.dispatch=KR.bind(null,je,t),[e.memoizedState,t]}function ql(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bx(){return vn().memoizedState}function Fu(t,e,n,r){var s=Xn();je.flags|=t,s.memoizedState=ql(1|e,n,void 0,r===void 0?null:r)}function hh(t,e,n,r){var s=vn();r=r===void 0?null:r;var i=void 0;if(rt!==null){var o=rt.memoizedState;if(i=o.destroy,r!==null&&ey(r,o.deps)){s.memoizedState=ql(e,n,i,r);return}}je.flags|=t,s.memoizedState=ql(1|e,n,i,r)}function u0(t,e){return Fu(8390656,8,t,e)}function ry(t,e){return hh(2048,8,t,e)}function Hx(t,e){return hh(4,2,t,e)}function Wx(t,e){return hh(4,4,t,e)}function qx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Gx(t,e,n){return n=n!=null?n.concat([t]):null,hh(4,4,qx.bind(null,e,t),n)}function sy(){}function Kx(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ey(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qx(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ey(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yx(t,e,n){return Di&21?(Ln(n,e)||(n=tx(),je.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function qR(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Ff.transition;Ff.transition={};try{t(!1),e()}finally{Te=n,Ff.transition=r}}function Xx(){return vn().memoizedState}function GR(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jx(t))Zx(e,n);else if(n=Ox(t,e,n,r),n!==null){var s=Ot();Dn(n,t,r,s),eT(n,e,r)}}function KR(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jx(t))Zx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ln(a,o)){var c=e.interleaved;c===null?(s.next=s,Qg(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Ox(t,e,s,r),n!==null&&(s=Ot(),Dn(n,t,r,s),eT(n,e,r))}}function Jx(t){var e=t.alternate;return t===je||e!==null&&e===je}function Zx(t,e){wl=bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}var Id={readContext:yn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},QR={readContext:yn,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:u0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fu(4194308,4,qx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fu(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GR.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:c0,useDebugValue:sy,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=c0(!1),e=t[0];return t=qR.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,s=Xn();if(De){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),ht===null)throw Error(H(349));Di&30||jx(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,u0(Ux.bind(null,r,i,t),[t]),r.flags|=2048,ql(9,Fx.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=ht.identifierPrefix;if(De){var n=Rr,r=Pr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YR={readContext:yn,useCallback:Kx,useContext:yn,useEffect:ry,useImperativeHandle:Gx,useInsertionEffect:Hx,useLayoutEffect:Wx,useMemo:Qx,useReducer:Uf,useRef:Bx,useState:function(){return Uf(Wl)},useDebugValue:sy,useDeferredValue:function(t){var e=vn();return Yx(e,rt.memoizedState,t)},useTransition:function(){var t=Uf(Wl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:Lx,useSyncExternalStore:Vx,useId:Xx,unstable_isNewReconciler:!1},XR={readContext:yn,useCallback:Kx,useContext:yn,useEffect:ry,useImperativeHandle:Gx,useInsertionEffect:Hx,useLayoutEffect:Wx,useMemo:Qx,useReducer:$f,useRef:Bx,useState:function(){return $f(Wl)},useDebugValue:sy,useDeferredValue:function(t){var e=vn();return rt===null?e.memoizedState=t:Yx(e,rt.memoizedState,t)},useTransition:function(){var t=$f(Wl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:Lx,useSyncExternalStore:Vx,useId:Xx,unstable_isNewReconciler:!1};function bn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fh={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=Ds(t),i=Or(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(Dn(e,t,s,r),Vu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=Ds(t),i=Or(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ns(t,i,s),e!==null&&(Dn(e,t,s,r),Vu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=Ds(t),s=Or(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ns(t,s,r),e!==null&&(Dn(e,t,r,n),Vu(e,t,r))}};function d0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!jl(n,r)||!jl(s,i):!0}function tT(t,e,n){var r=!1,s=Hs,i=e.contextType;return typeof i=="object"&&i!==null?i=yn(i):(s=qt(e)?Ni:Ct.current,r=e.contextTypes,i=(r=r!=null)?ea(t,s):Hs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function h0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fh.enqueueReplaceState(e,e.state,null)}function nm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Yg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=yn(i):(i=qt(e)?Ni:Ct.current,s.context=ea(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(tm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&fh.enqueueReplaceState(s,s.state,null),Td(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e){try{var n="",r=e;do n+=bP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JR=typeof WeakMap=="function"?WeakMap:Map;function nT(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ad||(Ad=!0,fm=r),rm(t,e)},n}function rT(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){rm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rm(t,e),typeof r!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function f0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hk.bind(null,t,e,n),e.then(t,t))}function p0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,Ns(n,e,1))),n.lanes|=1),t)}var ZR=qr.ReactCurrentOwner,Ht=!1;function kt(t,e,n,r){e.child=t===null?Nx(e,null,n,r):na(e,t.child,n,r)}function g0(t,e,n,r,s){n=n.render;var i=e.ref;return No(e,s),r=ty(t,e,n,r,i,s),n=ny(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jr(t,e,s)):(De&&n&&Bg(e),e.flags|=1,kt(t,e,r,s),e.child)}function y0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sT(t,e,i,r,s)):(t=Bu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(o,r)&&t.ref===e.ref)return jr(t,e,s)}return e.flags|=1,t=Ms(i,r),t.ref=e.ref,t.return=e,e.child=t}function sT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(jl(i,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,jr(t,e,s)}return sm(t,e,n,r,s)}function iT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Io,Yt),Yt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Io,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ce(Io,Yt),Yt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ce(Io,Yt),Yt|=r;return kt(t,e,s,n),e.child}function oT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sm(t,e,n,r,s){var i=qt(n)?Ni:Ct.current;return i=ea(e,i),No(e,s),n=ty(t,e,n,r,i,s),r=ny(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jr(t,e,s)):(De&&r&&Bg(e),e.flags|=1,kt(t,e,n,s),e.child)}function v0(t,e,n,r,s){if(qt(n)){var i=!0;vd(e)}else i=!1;if(No(e,s),e.stateNode===null)Uu(t,e),tT(e,n,r),nm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yn(u):(u=qt(n)?Ni:Ct.current,u=ea(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&h0(e,o,r,u),hs=!1;var m=e.memoizedState;o.state=m,Td(e,r,o,s),c=e.memoizedState,a!==r||m!==c||Wt.current||hs?(typeof d=="function"&&(tm(e,n,d,r),c=e.memoizedState),(a=hs||d0(e,n,a,r,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Dx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:bn(e.type,a),o.props=u,h=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=yn(c):(c=qt(n)?Ni:Ct.current,c=ea(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==c)&&h0(e,o,r,c),hs=!1,m=e.memoizedState,o.state=m,Td(e,r,o,s);var S=e.memoizedState;a!==h||m!==S||Wt.current||hs?(typeof g=="function"&&(tm(e,n,g,r),S=e.memoizedState),(u=hs||d0(e,n,u,r,m,S,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return im(t,e,n,r,i,s)}function im(t,e,n,r,s,i){oT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&r0(e,n,!1),jr(t,e,i);r=e.stateNode,ZR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=na(e,t.child,null,i),e.child=na(e,null,a,i)):kt(t,e,a,i),e.memoizedState=r.state,s&&r0(e,n,!0),e.child}function aT(t){var e=t.stateNode;e.pendingContext?n0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n0(t,e.context,!1),Xg(t,e.containerInfo)}function w0(t,e,n,r,s){return ta(),Wg(s),e.flags|=256,kt(t,e,n,r),e.child}var om={dehydrated:null,treeContext:null,retryLane:0};function am(t){return{baseLanes:t,cachePool:null,transitions:null}}function lT(t,e,n){var r=e.pendingProps,s=Ve.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ce(Ve,s&1),t===null)return Zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=gh(o,r,0,null),t=Ri(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=am(n),e.memoizedState=om,t):iy(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ek(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ms(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ms(a,i):(i=Ri(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=om,r}return i=t.child,t=i.sibling,r=Ms(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function iy(t,e){return e=gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function du(t,e,n,r){return r!==null&&Wg(r),na(e,t.child,null,n),t=iy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ek(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=zf(Error(H(422))),du(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=gh({mode:"visible",children:r.children},s,0,null),i=Ri(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&na(e,t.child,null,o),e.child.memoizedState=am(o),e.memoizedState=om,i);if(!(e.mode&1))return du(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=zf(i,r,void 0),du(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Vr(t,s),Dn(r,t,s,-1))}return dy(),r=zf(Error(H(421))),du(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Jt=ks(s.nextSibling),en=e,De=!0,Rn=null,t!==null&&(dn[hn++]=Pr,dn[hn++]=Rr,dn[hn++]=Oi,Pr=t.id,Rr=t.overflow,Oi=e),e=iy(e,r.children),e.flags|=4096,e)}function _0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),em(t.return,e,n)}function Bf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(kt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_0(t,n,e);else if(t.tag===19)_0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Sd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Bf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Sd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Bf(e,!0,n,null,i);break;case"together":Bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tk(t,e,n){switch(e.tag){case 3:aT(e),ta();break;case 5:Mx(e);break;case 1:qt(e.type)&&vd(e);break;case 4:Xg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ce(Ed,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?lT(t,e,n):(Ce(Ve,Ve.current&1),t=jr(t,e,n),t!==null?t.sibling:null);Ce(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ce(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,iT(t,e,n)}return jr(t,e,n)}var uT,lm,dT,hT;uT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lm=function(){};dT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_i(or.current);var i=null;switch(n){case"input":s=Rp(t,s),r=Rp(t,r),i=[];break;case"select":s=Fe({},s,{value:void 0}),r=Fe({},r,{value:void 0}),i=[];break;case"textarea":s=Op(t,s),r=Op(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gd)}Mp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};hT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xa(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nk(t,e,n){var r=e.pendingProps;switch(Hg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return qt(e.type)&&yd(),Et(e),null;case 3:return r=e.stateNode,ra(),Ne(Wt),Ne(Ct),Zg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rn!==null&&(gm(Rn),Rn=null))),lm(t,e),Et(e),null;case 5:Jg(e);var s=_i(Bl.current);if(n=e.type,t!==null&&e.stateNode!=null)dT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Et(e),null}if(t=_i(or.current),cu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nr]=e,r[$l]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<ol.length;s++)Re(ol[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Pw(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":kw(r,i),Re("invalid",r)}Mp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&lu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&lu(r.textContent,a,t),s=["children",""+a]):kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":eu(r),Rw(r,i,!0);break;case"textarea":eu(r),Nw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=gd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nr]=e,t[$l]=r,uT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lp(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<ol.length;s++)Re(ol[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":Pw(t,r),s=Rp(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Fe({},r,{value:void 0}),Re("invalid",t);break;case"textarea":kw(t,r),s=Op(t,r),Re("invalid",t);break;default:s=r}Mp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?B1(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$1(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nl(t,c):typeof c=="number"&&Nl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",t):c!=null&&Pg(t,i,c,o))}switch(n){case"input":eu(t),Rw(t,r,!1);break;case"textarea":eu(t),Nw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ao(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=gd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)hT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=_i(Bl.current),_i(or.current),cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[nr]=e,(i=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nr]=e,e.stateNode=r}return Et(e),null;case 13:if(Ne(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Jt!==null&&e.mode&1&&!(e.flags&128))Rx(),ta(),e.flags|=98560,i=!1;else if(i=cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[nr]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),i=!1}else Rn!==null&&(gm(Rn),Rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?st===0&&(st=3):dy())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return ra(),lm(t,e),t===null&&Fl(e.stateNode.containerInfo),Et(e),null;case 10:return Kg(e.type._context),Et(e),null;case 17:return qt(e.type)&&yd(),Et(e),null;case 19:if(Ne(Ve),i=e.memoizedState,i===null)return Et(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xa(i,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Sd(t),o!==null){for(e.flags|=128,Xa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ve,Ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&qe()>ia&&(e.flags|=128,r=!0,Xa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Sd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!De)return Et(e),null}else 2*qe()-i.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,Xa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=qe(),e.sibling=null,n=Ve.current,Ce(Ve,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return uy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function rk(t,e){switch(Hg(e),e.tag){case 1:return qt(e.type)&&yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ra(),Ne(Wt),Ne(Ct),Zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jg(e),null;case 13:if(Ne(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Ve),null;case 4:return ra(),null;case 10:return Kg(e.type._context),null;case 22:case 23:return uy(),null;case 24:return null;default:return null}}var hu=!1,bt=!1,sk=typeof WeakSet=="function"?WeakSet:Set,J=null;function bo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function cm(t,e,n){try{n()}catch(r){Be(t,e,r)}}var E0=!1;function ik(t,e){if(qp=fd,t=yx(),zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(c=o),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gp={focusedElem:t,selectionRange:n},fd=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,E=S.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:bn(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(N){Be(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return S=E0,E0=!1,S}function _l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&cm(e,n,i)}s=s.next}while(s!==r)}}function ph(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function um(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fT(t){var e=t.alternate;e!==null&&(t.alternate=null,fT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nr],delete e[$l],delete e[Yp],delete e[$R],delete e[zR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pT(t){return t.tag===5||t.tag===3||t.tag===4}function x0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gd));else if(r!==4&&(t=t.child,t!==null))for(dm(t,e,n),t=t.sibling;t!==null;)dm(t,e,n),t=t.sibling}function hm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hm(t,e,n),t=t.sibling;t!==null;)hm(t,e,n),t=t.sibling}var ft=null,Pn=!1;function ss(t,e,n){for(n=n.child;n!==null;)mT(t,e,n),n=n.sibling}function mT(t,e,n){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(oh,n)}catch{}switch(n.tag){case 5:bt||bo(n,e);case 6:var r=ft,s=Pn;ft=null,ss(t,e,n),ft=r,Pn=s,ft!==null&&(Pn?(t=ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(Pn?(t=ft,n=n.stateNode,t.nodeType===8?Lf(t.parentNode,n):t.nodeType===1&&Lf(t,n),Ll(t)):Lf(ft,n.stateNode));break;case 4:r=ft,s=Pn,ft=n.stateNode.containerInfo,Pn=!0,ss(t,e,n),ft=r,Pn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cm(n,e,o),s=s.next}while(s!==r)}ss(t,e,n);break;case 1:if(!bt&&(bo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}ss(t,e,n);break;case 21:ss(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,ss(t,e,n),bt=r):ss(t,e,n);break;default:ss(t,e,n)}}function T0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sk),e.forEach(function(r){var s=pk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ft=a.stateNode,Pn=!1;break e;case 3:ft=a.stateNode.containerInfo,Pn=!0;break e;case 4:ft=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(ft===null)throw Error(H(160));mT(i,o,s),ft=null,Pn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Be(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gT(e,t),e=e.sibling}function gT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Yn(t),r&4){try{_l(3,t,t.return),ph(3,t)}catch(v){Be(t,t.return,v)}try{_l(5,t,t.return)}catch(v){Be(t,t.return,v)}}break;case 1:Tn(e,t),Yn(t),r&512&&n!==null&&bo(n,n.return);break;case 5:if(Tn(e,t),Yn(t),r&512&&n!==null&&bo(n,n.return),t.flags&32){var s=t.stateNode;try{Nl(s,"")}catch(v){Be(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&j1(s,i),Lp(a,o);var u=Lp(a,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?B1(s,h):d==="dangerouslySetInnerHTML"?$1(s,h):d==="children"?Nl(s,h):Pg(s,d,h,u)}switch(a){case"input":kp(s,i);break;case"textarea":F1(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Ao(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ao(s,!!i.multiple,i.defaultValue,!0):Ao(s,!!i.multiple,i.multiple?[]:"",!1))}s[$l]=i}catch(v){Be(t,t.return,v)}}break;case 6:if(Tn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Be(t,t.return,v)}}break;case 3:if(Tn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(v){Be(t,t.return,v)}break;case 4:Tn(e,t),Yn(t);break;case 13:Tn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ly=qe())),r&4&&T0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,Tn(e,t),bt=u):Tn(e,t),Yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(h=J=d;J!==null;){switch(m=J,g=m.child,m.tag){case 0:case 11:case 14:case 15:_l(4,m,m.return);break;case 1:bo(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){Be(r,n,v)}}break;case 5:bo(m,m.return);break;case 22:if(m.memoizedState!==null){b0(h);continue}}g!==null?(g.return=m,J=g):b0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=z1("display",o))}catch(v){Be(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Be(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tn(e,t),Yn(t),r&4&&T0(t);break;case 21:break;default:Tn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pT(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nl(s,""),r.flags&=-33);var i=x0(t);hm(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x0(t);dm(t,a,o);break;default:throw Error(H(161))}}catch(c){Be(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ok(t,e,n){J=t,yT(t)}function yT(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hu;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||bt;a=hu;var u=bt;if(hu=o,(bt=c)&&!u)for(J=s;J!==null;)o=J,c=o.child,o.tag===22&&o.memoizedState!==null?I0(s):c!==null?(c.return=o,J=c):I0(s);for(;i!==null;)J=i,yT(i),i=i.sibling;J=s,hu=a,bt=u}S0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):S0(t)}}function S0(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||ph(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:bn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&l0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ll(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}bt||e.flags&512&&um(e)}catch(m){Be(e,e.return,m)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function b0(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function I0(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ph(4,e)}catch(c){Be(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Be(e,s,c)}}var i=e.return;try{um(e)}catch(c){Be(e,i,c)}break;case 5:var o=e.return;try{um(e)}catch(c){Be(e,o,c)}}}catch(c){Be(e,e.return,c)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var ak=Math.ceil,Cd=qr.ReactCurrentDispatcher,oy=qr.ReactCurrentOwner,gn=qr.ReactCurrentBatchConfig,we=0,ht=null,Ye=null,gt=0,Yt=0,Io=ti(0),st=0,Gl=null,Mi=0,mh=0,ay=0,El=null,$t=null,ly=0,ia=1/0,Ir=null,Ad=!1,fm=null,Os=null,fu=!1,bs=null,Pd=0,xl=0,pm=null,$u=-1,zu=0;function Ot(){return we&6?qe():$u!==-1?$u:$u=qe()}function Ds(t){return t.mode&1?we&2&&gt!==0?gt&-gt:HR.transition!==null?(zu===0&&(zu=tx()),zu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:lx(t.type)),t):1}function Dn(t,e,n,r){if(50<xl)throw xl=0,pm=null,Error(H(185));mc(t,n,r),(!(we&2)||t!==ht)&&(t===ht&&(!(we&2)&&(mh|=n),st===4&&ps(t,gt)),Gt(t,r),n===1&&we===0&&!(e.mode&1)&&(ia=qe()+500,dh&&ni()))}function Gt(t,e){var n=t.callbackNode;HP(t,e);var r=hd(t,t===ht?gt:0);if(r===0)n!==null&&Mw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Mw(n),e===1)t.tag===0?BR(C0.bind(null,t)):Cx(C0.bind(null,t)),FR(function(){!(we&6)&&ni()}),n=null;else{switch(nx(r)){case 1:n=Dg;break;case 4:n=Z1;break;case 16:n=dd;break;case 536870912:n=ex;break;default:n=dd}n=bT(n,vT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vT(t,e){if($u=-1,zu=0,we&6)throw Error(H(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=hd(t,t===ht?gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rd(t,r);else{e=r;var s=we;we|=2;var i=_T();(ht!==t||gt!==e)&&(Ir=null,ia=qe()+500,Pi(t,e));do try{uk();break}catch(a){wT(t,a)}while(!0);Gg(),Cd.current=i,we=s,Ye!==null?e=0:(ht=null,gt=0,e=st)}if(e!==0){if(e===2&&(s=$p(t),s!==0&&(r=s,e=mm(t,s))),e===1)throw n=Gl,Pi(t,0),ps(t,r),Gt(t,qe()),n;if(e===6)ps(t,r);else{if(s=t.current.alternate,!(r&30)&&!lk(s)&&(e=Rd(t,r),e===2&&(i=$p(t),i!==0&&(r=i,e=mm(t,i))),e===1))throw n=Gl,Pi(t,0),ps(t,r),Gt(t,qe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:gi(t,$t,Ir);break;case 3:if(ps(t,r),(r&130023424)===r&&(e=ly+500-qe(),10<e)){if(hd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qp(gi.bind(null,t,$t,Ir),e);break}gi(t,$t,Ir);break;case 4:if(ps(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-On(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ak(r/1960))-r,10<r){t.timeoutHandle=Qp(gi.bind(null,t,$t,Ir),r);break}gi(t,$t,Ir);break;case 5:gi(t,$t,Ir);break;default:throw Error(H(329))}}}return Gt(t,qe()),t.callbackNode===n?vT.bind(null,t):null}function mm(t,e){var n=El;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=Rd(t,e),t!==2&&(e=$t,$t=n,e!==null&&gm(e)),t}function gm(t){$t===null?$t=t:$t.push.apply($t,t)}function lk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ln(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ps(t,e){for(e&=~ay,e&=~mh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-On(e),r=1<<n;t[n]=-1,e&=~r}}function C0(t){if(we&6)throw Error(H(327));Oo();var e=hd(t,0);if(!(e&1))return Gt(t,qe()),null;var n=Rd(t,e);if(t.tag!==0&&n===2){var r=$p(t);r!==0&&(e=r,n=mm(t,r))}if(n===1)throw n=Gl,Pi(t,0),ps(t,e),Gt(t,qe()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gi(t,$t,Ir),Gt(t,qe()),null}function cy(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(ia=qe()+500,dh&&ni())}}function Li(t){bs!==null&&bs.tag===0&&!(we&6)&&Oo();var e=we;we|=1;var n=gn.transition,r=Te;try{if(gn.transition=null,Te=1,t)return t()}finally{Te=r,gn.transition=n,we=e,!(we&6)&&ni()}}function uy(){Yt=Io.current,Ne(Io)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jR(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Hg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yd();break;case 3:ra(),Ne(Wt),Ne(Ct),Zg();break;case 5:Jg(r);break;case 4:ra();break;case 13:Ne(Ve);break;case 19:Ne(Ve);break;case 10:Kg(r.type._context);break;case 22:case 23:uy()}n=n.return}if(ht=t,Ye=t=Ms(t.current,null),gt=Yt=e,st=0,Gl=null,ay=mh=Mi=0,$t=El=null,wi!==null){for(e=0;e<wi.length;e++)if(n=wi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wi=null}return t}function wT(t,e){do{var n=Ye;try{if(Gg(),ju.current=Id,bd){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bd=!1}if(Di=0,dt=rt=je=null,wl=!1,Hl=0,oy.current=null,n===null||n.return===null){st=1,Gl=e,Ye=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=gt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=p0(o);if(g!==null){g.flags&=-257,m0(g,o,a,i,e),g.mode&1&&f0(i,u,e),e=g,c=u;var S=e.updateQueue;if(S===null){var v=new Set;v.add(c),e.updateQueue=v}else S.add(c);break e}else{if(!(e&1)){f0(i,u,e),dy();break e}c=Error(H(426))}}else if(De&&a.mode&1){var E=p0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),m0(E,o,a,i,e),Wg(sa(c,a));break e}}i=c=sa(c,a),st!==4&&(st=2),El===null?El=[i]:El.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=nT(i,c,e);a0(i,_);break e;case 1:a=c;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Os===null||!Os.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=rT(i,a,e);a0(i,N);break e}}i=i.return}while(i!==null)}xT(n)}catch(D){e=D,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function _T(){var t=Cd.current;return Cd.current=Id,t===null?Id:t}function dy(){(st===0||st===3||st===2)&&(st=4),ht===null||!(Mi&268435455)&&!(mh&268435455)||ps(ht,gt)}function Rd(t,e){var n=we;we|=2;var r=_T();(ht!==t||gt!==e)&&(Ir=null,Pi(t,e));do try{ck();break}catch(s){wT(t,s)}while(!0);if(Gg(),we=n,Cd.current=r,Ye!==null)throw Error(H(261));return ht=null,gt=0,st}function ck(){for(;Ye!==null;)ET(Ye)}function uk(){for(;Ye!==null&&!MP();)ET(Ye)}function ET(t){var e=ST(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?xT(t):Ye=e,oy.current=null}function xT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rk(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Ye=null;return}}else if(n=nk(n,e,Yt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);st===0&&(st=5)}function gi(t,e,n){var r=Te,s=gn.transition;try{gn.transition=null,Te=1,dk(t,e,n,r)}finally{gn.transition=s,Te=r}return null}function dk(t,e,n,r){do Oo();while(bs!==null);if(we&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(WP(t,i),t===ht&&(Ye=ht=null,gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fu||(fu=!0,bT(dd,function(){return Oo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=gn.transition,gn.transition=null;var o=Te;Te=1;var a=we;we|=4,oy.current=null,ik(t,n),gT(n,t),kR(Gp),fd=!!qp,Gp=qp=null,t.current=n,ok(n),LP(),we=a,Te=o,gn.transition=i}else t.current=n;if(fu&&(fu=!1,bs=t,Pd=s),i=t.pendingLanes,i===0&&(Os=null),FP(n.stateNode),Gt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ad)throw Ad=!1,t=fm,fm=null,t;return Pd&1&&t.tag!==0&&Oo(),i=t.pendingLanes,i&1?t===pm?xl++:(xl=0,pm=t):xl=0,ni(),null}function Oo(){if(bs!==null){var t=nx(Pd),e=gn.transition,n=Te;try{if(gn.transition=null,Te=16>t?16:t,bs===null)var r=!1;else{if(t=bs,bs=null,Pd=0,we&6)throw Error(H(331));var s=we;for(we|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:_l(8,d,i)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var m=d.sibling,g=d.return;if(fT(d),d===u){J=null;break}if(m!==null){m.return=g,J=m;break}J=g}}}var S=i.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_l(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,J=_;break e}J=i.return}}var w=t.current;for(J=w;J!==null;){o=J;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,J=T;else e:for(o=w;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ph(9,a)}}catch(D){Be(a,a.return,D)}if(a===o){J=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,J=N;break e}J=a.return}}if(we=s,ni(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(oh,t)}catch{}r=!0}return r}finally{Te=n,gn.transition=e}}return!1}function A0(t,e,n){e=sa(n,e),e=nT(t,e,1),t=Ns(t,e,1),e=Ot(),t!==null&&(mc(t,1,e),Gt(t,e))}function Be(t,e,n){if(t.tag===3)A0(t,t,n);else for(;e!==null;){if(e.tag===3){A0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){t=sa(n,t),t=rT(e,t,1),e=Ns(e,t,1),t=Ot(),e!==null&&(mc(e,1,t),Gt(e,t));break}}e=e.return}}function hk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(gt&n)===n&&(st===4||st===3&&(gt&130023424)===gt&&500>qe()-ly?Pi(t,0):ay|=n),Gt(t,e)}function TT(t,e){e===0&&(t.mode&1?(e=ru,ru<<=1,!(ru&130023424)&&(ru=4194304)):e=1);var n=Ot();t=Vr(t,e),t!==null&&(mc(t,e,n),Gt(t,n))}function fk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TT(t,n)}function pk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),TT(t,n)}var ST;ST=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,tk(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,De&&e.flags&1048576&&Ax(e,_d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uu(t,e),t=e.pendingProps;var s=ea(e,Ct.current);No(e,n),s=ty(null,e,r,t,s,n);var i=ny();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(i=!0,vd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yg(e),s.updater=fh,e.stateNode=s,s._reactInternals=e,nm(e,r,t,n),e=im(null,e,r,!0,i,n)):(e.tag=0,De&&i&&Bg(e),kt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gk(r),t=bn(r,t),s){case 0:e=sm(null,e,r,t,n);break e;case 1:e=v0(null,e,r,t,n);break e;case 11:e=g0(null,e,r,t,n);break e;case 14:e=y0(null,e,r,bn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),sm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),v0(t,e,r,s,n);case 3:e:{if(aT(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Dx(t,e),Td(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sa(Error(H(423)),e),e=w0(t,e,r,n,s);break e}else if(r!==s){s=sa(Error(H(424)),e),e=w0(t,e,r,n,s);break e}else for(Jt=ks(e.stateNode.containerInfo.firstChild),en=e,De=!0,Rn=null,n=Nx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===s){e=jr(t,e,n);break e}kt(t,e,r,n)}e=e.child}return e;case 5:return Mx(e),t===null&&Zp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Kp(r,s)?o=null:i!==null&&Kp(r,i)&&(e.flags|=32),oT(t,e),kt(t,e,o,n),e.child;case 6:return t===null&&Zp(e),null;case 13:return lT(t,e,n);case 4:return Xg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=na(e,null,r,n):kt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),g0(t,e,r,s,n);case 7:return kt(t,e,e.pendingProps,n),e.child;case 8:return kt(t,e,e.pendingProps.children,n),e.child;case 12:return kt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ce(Ed,r._currentValue),r._currentValue=o,i!==null)if(Ln(i.value,o)){if(i.children===s.children&&!Wt.current){e=jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Or(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),em(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),em(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}kt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,No(e,n),s=yn(s),r=r(s),e.flags|=1,kt(t,e,r,n),e.child;case 14:return r=e.type,s=bn(r,e.pendingProps),s=bn(r.type,s),y0(t,e,r,s,n);case 15:return sT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:bn(r,s),Uu(t,e),e.tag=1,qt(r)?(t=!0,vd(e)):t=!1,No(e,n),tT(e,r,s),nm(e,r,s,n),im(null,e,r,!0,t,n);case 19:return cT(t,e,n);case 22:return iT(t,e,n)}throw Error(H(156,e.tag))};function bT(t,e){return J1(t,e)}function mk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new mk(t,e,n,r)}function hy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gk(t){if(typeof t=="function")return hy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kg)return 11;if(t===Ng)return 14}return 2}function Ms(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")hy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case go:return Ri(n.children,s,i,e);case Rg:o=8,s|=8;break;case Ip:return t=mn(12,n,e,s|2),t.elementType=Ip,t.lanes=i,t;case Cp:return t=mn(13,n,e,s),t.elementType=Cp,t.lanes=i,t;case Ap:return t=mn(19,n,e,s),t.elementType=Ap,t.lanes=i,t;case M1:return gh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O1:o=10;break e;case D1:o=9;break e;case kg:o=11;break e;case Ng:o=14;break e;case ds:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ri(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function gh(t,e,n,r){return t=mn(22,t,r,e),t.elementType=M1,t.lanes=n,t.stateNode={isHidden:!1},t}function Hf(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function Wf(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fy(t,e,n,r,s,i,o,a,c){return t=new yk(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(i),t}function vk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IT(t){if(!t)return Hs;t=t._reactInternals;e:{if(Gi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(qt(n))return Ix(t,n,e)}return e}function CT(t,e,n,r,s,i,o,a,c){return t=fy(n,r,!0,t,s,i,o,a,c),t.context=IT(null),n=t.current,r=Ot(),s=Ds(n),i=Or(r,s),i.callback=e??null,Ns(n,i,s),t.current.lanes=s,mc(t,s,r),Gt(t,r),t}function yh(t,e,n,r){var s=e.current,i=Ot(),o=Ds(s);return n=IT(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ns(s,e,o),t!==null&&(Dn(t,s,o,i),Vu(t,s,o)),o}function kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function py(t,e){P0(t,e),(t=t.alternate)&&P0(t,e)}function wk(){return null}var AT=typeof reportError=="function"?reportError:function(t){console.error(t)};function my(t){this._internalRoot=t}vh.prototype.render=my.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));yh(t,e,null,null)};vh.prototype.unmount=my.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Li(function(){yh(null,t,null,null)}),e[Lr]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ix();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fs.length&&e!==0&&e<fs[n].priority;n++);fs.splice(n,0,t),n===0&&ax(t)}};function gy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R0(){}function _k(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=kd(o);i.call(u)}}var o=CT(e,r,t,0,null,!1,!1,"",R0);return t._reactRootContainer=o,t[Lr]=o.current,Fl(t.nodeType===8?t.parentNode:t),Li(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=kd(c);a.call(u)}}var c=fy(t,0,!1,null,null,!1,!1,"",R0);return t._reactRootContainer=c,t[Lr]=c.current,Fl(t.nodeType===8?t.parentNode:t),Li(function(){yh(e,c,n,r)}),c}function _h(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=kd(o);a.call(c)}}yh(e,o,t,s)}else o=_k(n,e,t,s,r);return kd(o)}rx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=il(e.pendingLanes);n!==0&&(Mg(e,n|1),Gt(e,qe()),!(we&6)&&(ia=qe()+500,ni()))}break;case 13:Li(function(){var r=Vr(t,1);if(r!==null){var s=Ot();Dn(r,t,1,s)}}),py(t,1)}};Lg=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Ot();Dn(e,t,134217728,n)}py(t,134217728)}};sx=function(t){if(t.tag===13){var e=Ds(t),n=Vr(t,e);if(n!==null){var r=Ot();Dn(n,t,e,r)}py(t,e)}};ix=function(){return Te};ox=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};jp=function(t,e,n){switch(e){case"input":if(kp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=uh(r);if(!s)throw Error(H(90));V1(r),kp(r,s)}}}break;case"textarea":F1(t,n);break;case"select":e=n.value,e!=null&&Ao(t,!!n.multiple,e,!1)}};q1=cy;G1=Li;var Ek={usingClientEntryPoint:!1,Events:[yc,_o,uh,H1,W1,cy]},Ja={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xk={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{oh=pu.inject(xk),ir=pu}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ek;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(e))throw Error(H(200));return vk(t,e,null,n)};rn.createRoot=function(t,e){if(!gy(t))throw Error(H(299));var n=!1,r="",s=AT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fy(t,1,!1,null,null,n,!1,r,s),t[Lr]=e.current,Fl(t.nodeType===8?t.parentNode:t),new my(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Y1(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Li(t)};rn.hydrate=function(t,e,n){if(!wh(e))throw Error(H(200));return _h(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!gy(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=AT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CT(e,null,t,1,n??null,s,!1,i,o),t[Lr]=e.current,Fl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new vh(e)};rn.render=function(t,e,n){if(!wh(e))throw Error(H(200));return _h(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!wh(t))throw Error(H(40));return t._reactRootContainer?(Li(function(){_h(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};rn.unstable_batchedUpdates=cy;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return _h(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function PT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PT)}catch(t){console.error(t)}}PT(),P1.exports=rn;var wc=P1.exports;const RT=fc(wc);var kT,k0=wc;kT=k0.createRoot,k0.hydrateRoot;const Tk=1,Sk=1e6;let qf=0;function bk(){return qf=(qf+1)%Number.MAX_SAFE_INTEGER,qf.toString()}const Gf=new Map,N0=t=>{if(Gf.has(t))return;const e=setTimeout(()=>{Gf.delete(t),Tl({type:"REMOVE_TOAST",toastId:t})},Sk);Gf.set(t,e)},Ik=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Tk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?N0(n):t.toasts.forEach(r=>{N0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Hu=[];let Wu={toasts:[]};function Tl(t){Wu=Ik(Wu,t),Hu.forEach(e=>{e(Wu)})}function Ck({...t}){const e=bk(),n=s=>Tl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Tl({type:"DISMISS_TOAST",toastId:e});return Tl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Ak(){const[t,e]=x.useState(Wu);return x.useEffect(()=>(Hu.push(e),()=>{const n=Hu.indexOf(e);n>-1&&Hu.splice(n,1)}),[t]),{...t,toast:Ck,dismiss:n=>Tl({type:"DISMISS_TOAST",toastId:n})}}function Me(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function O0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NT(...t){return e=>{let n=!1;const r=t.map(s=>{const i=O0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():O0(t[s],null)}}}}function Dt(...t){return x.useCallback(NT(...t),t)}function Pk(t,e){const n=x.createContext(e),r=i=>{const{children:o,...a}=i,c=x.useMemo(()=>a,Object.values(a));return p.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=x.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function _c(t,e=[]){let n=[];function r(i,o){const a=x.createContext(o),c=n.length;n=[...n,o];const u=h=>{var _;const{scope:m,children:g,...S}=h,v=((_=m==null?void 0:m[t])==null?void 0:_[c])||a,E=x.useMemo(()=>S,Object.values(S));return p.jsx(v.Provider,{value:E,children:g})};u.displayName=i+"Provider";function d(h,m){var v;const g=((v=m==null?void 0:m[t])==null?void 0:v[c])||a,S=x.useContext(g);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>x.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Rk(s,...e)]}function Rk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...a,...h}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Nd(t){const e=kk(t),n=x.forwardRef((r,s)=>{const{children:i,...o}=r,a=x.Children.toArray(i),c=a.find(Ok);if(c){const u=c.props.children,d=a.map(h=>h===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:h);return p.jsx(e,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return p.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function kk(t){const e=x.forwardRef((n,r)=>{const{children:s,...i}=n;if(x.isValidElement(s)){const o=Mk(s),a=Dk(i,s.props);return s.type!==x.Fragment&&(a.ref=r?NT(r,o):o),x.cloneElement(s,a)}return x.Children.count(s)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var OT=Symbol("radix.slottable");function Nk(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=OT,e}function Ok(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OT}function Dk(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Mk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Lk(t){const e=t+"CollectionProvider",[n,r]=_c(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:E,children:_}=v,w=W.useRef(null),T=W.useRef(new Map).current;return p.jsx(s,{scope:E,itemMap:T,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",c=Nd(a),u=W.forwardRef((v,E)=>{const{scope:_,children:w}=v,T=i(a,_),N=Dt(E,T.collectionRef);return p.jsx(c,{ref:N,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=Nd(d),g=W.forwardRef((v,E)=>{const{scope:_,children:w,...T}=v,N=W.useRef(null),D=Dt(E,N),M=i(d,_);return W.useEffect(()=>(M.itemMap.set(N,{ref:N,...T}),()=>void M.itemMap.delete(N))),p.jsx(m,{[h]:"",ref:D,children:w})});g.displayName=d;function S(v){const E=i(t+"CollectionConsumer",v);return W.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((M,b)=>T.indexOf(M.ref.current)-T.indexOf(b.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:g},S,r]}var Vk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=Vk.reduce((t,e)=>{const n=Nd(`Primitive.${e}`),r=x.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function DT(t,e){t&&wc.flushSync(()=>t.dispatchEvent(e))}function mr(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function jk(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t);x.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Fk="DismissableLayer",ym="dismissableLayer.update",Uk="dismissableLayer.pointerDownOutside",$k="dismissableLayer.focusOutside",D0,MT=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Eh=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=x.useContext(MT),[d,h]=x.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=x.useState({}),S=Dt(e,b=>h(b)),v=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),w=d?v.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=_,D=Bk(b=>{const I=b.target,P=[...u.branches].some(R=>R.contains(I));!N||P||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),M=Hk(b=>{const I=b.target;[...u.branches].some(R=>R.contains(I))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return jk(b=>{w===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),x.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(D0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),M0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=D0)}},[d,m,n,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),M0())},[d,u]),x.useEffect(()=>{const b=()=>g({});return document.addEventListener(ym,b),()=>document.removeEventListener(ym,b)},[]),p.jsx(et.div,{...c,ref:S,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:Me(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Me(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Me(t.onPointerDownCapture,D.onPointerDownCapture)})});Eh.displayName=Fk;var zk="DismissableLayerBranch",LT=x.forwardRef((t,e)=>{const n=x.useContext(MT),r=x.useRef(null),s=Dt(e,r);return x.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(et.div,{...t,ref:s})});LT.displayName=zk;function Bk(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t),r=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){VT(Uk,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Hk(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t),r=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!r.current&&VT($k,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function M0(){const t=new CustomEvent(ym);document.dispatchEvent(t)}function VT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DT(s,i):s.dispatchEvent(i)}var Wk=Eh,qk=LT,Fr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Gk="Portal",yy=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=x.useState(!1);Fr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?RT.createPortal(p.jsx(et.div,{...r,ref:e}),o):null});yy.displayName=Gk;function Kk(t,e){return x.useReducer((n,r)=>e[n][r]??n,t)}var va=t=>{const{present:e,children:n}=t,r=Qk(e),s=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),i=Dt(r.ref,Yk(s));return typeof n=="function"||r.isPresent?x.cloneElement(s,{ref:i}):null};va.displayName="Presence";function Qk(t){const[e,n]=x.useState(),r=x.useRef(null),s=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[a,c]=Kk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=mu(r.current);i.current=a==="mounted"?u:"none"},[a]),Fr(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,g=mu(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Fr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const v=mu(r.current).includes(g.animationName);if(g.target===e&&v&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=g=>{g.target===e&&(i.current=mu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:x.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function mu(t){return(t==null?void 0:t.animationName)||"none"}function Yk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Xk=Ig[" useInsertionEffect ".trim().toString()]||Fr;function jT({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=Jk({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const d=x.useRef(t!==void 0);x.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=x.useCallback(d=>{var h;if(a){const m=Zk(d)?d(t):d;m!==t&&((h=o.current)==null||h.call(o,m))}else i(d)},[a,t,i,o]);return[c,u]}function Jk({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),s=x.useRef(n),i=x.useRef(e);return Xk(()=>{i.current=e},[e]),x.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function Zk(t){return typeof t=="function"}var eN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tN="VisuallyHidden",xh=x.forwardRef((t,e)=>p.jsx(et.span,{...t,ref:e,style:{...eN,...t.style}}));xh.displayName=tN;var nN=xh,vy="ToastProvider",[wy,rN,sN]=Lk("Toast"),[FT,x9]=_c("Toast",[sN]),[iN,Th]=FT(vy),UT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=x.useState(null),[u,d]=x.useState(0),h=x.useRef(!1),m=x.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vy}\`. Expected non-empty \`string\`.`),p.jsx(wy.Provider,{scope:e,children:p.jsx(iN,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:x.useCallback(()=>d(g=>g+1),[]),onToastRemove:x.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};UT.displayName=vy;var $T="ToastViewport",oN=["F8"],vm="toast.viewportPause",wm="toast.viewportResume",zT=x.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=oN,label:s="Notifications ({hotkey})",...i}=t,o=Th($T,n),a=rN(n),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),h=x.useRef(null),m=Dt(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;x.useEffect(()=>{const E=_=>{var T;r.length!==0&&r.every(N=>_[N]||_.code===N)&&((T=h.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),x.useEffect(()=>{const E=c.current,_=h.current;if(S&&E&&_){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(vm);_.dispatchEvent(M),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(wm);_.dispatchEvent(M),o.isClosePausedRef.current=!1}},N=M=>{!E.contains(M.relatedTarget)&&T()},D=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",w),E.addEventListener("focusout",N),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",N),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const v=x.useCallback(({tabbingDirection:E})=>{const w=a().map(T=>{const N=T.ref.current,D=[N,...wN(N)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return x.useEffect(()=>{const E=h.current;if(E){const _=w=>{var D,M,b;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const I=document.activeElement,P=w.shiftKey;if(w.target===E&&P){(D=u.current)==null||D.focus();return}const O=v({tabbingDirection:P?"backwards":"forwards"}),k=O.findIndex(F=>F===I);Kf(O.slice(k+1))?w.preventDefault():P?(M=u.current)==null||M.focus():(b=d.current)==null||b.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,v]),p.jsxs(qk,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&p.jsx(_m,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Kf(E)}}),p.jsx(wy.Slot,{scope:n,children:p.jsx(et.ol,{tabIndex:-1,...i,ref:m})}),S&&p.jsx(_m,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Kf(E)}})]})});zT.displayName=$T;var BT="ToastFocusProxy",_m=x.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Th(BT,n);return p.jsx(xh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});_m.displayName=BT;var Ec="Toast",aN="toast.swipeStart",lN="toast.swipeMove",cN="toast.swipeCancel",uN="toast.swipeEnd",HT=x.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=jT({prop:r,defaultProp:s??!0,onChange:i,caller:Ec});return p.jsx(va,{present:n||a,children:p.jsx(fN,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:mr(t.onPause),onResume:mr(t.onResume),onSwipeStart:Me(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Me(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});HT.displayName=Ec;var[dN,hN]=FT(Ec,{onClose(){}}),fN=x.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...S}=t,v=Th(Ec,n),[E,_]=x.useState(null),w=Dt(e,F=>_(F)),T=x.useRef(null),N=x.useRef(null),D=s||v.duration,M=x.useRef(0),b=x.useRef(D),I=x.useRef(0),{onToastAdd:P,onToastRemove:R}=v,A=mr(()=>{var q;(E==null?void 0:E.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),o()}),O=x.useCallback(F=>{!F||F===1/0||(window.clearTimeout(I.current),M.current=new Date().getTime(),I.current=window.setTimeout(A,F))},[A]);x.useEffect(()=>{const F=v.viewport;if(F){const q=()=>{O(b.current),u==null||u()},Q=()=>{const Z=new Date().getTime()-M.current;b.current=b.current-Z,window.clearTimeout(I.current),c==null||c()};return F.addEventListener(vm,Q),F.addEventListener(wm,q),()=>{F.removeEventListener(vm,Q),F.removeEventListener(wm,q)}}},[v.viewport,D,c,u,O]),x.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(D)},[i,D,v.isClosePausedRef,O]),x.useEffect(()=>(P(),()=>R()),[P,R]);const k=x.useMemo(()=>E?XT(E):null,[E]);return v.viewport?p.jsxs(p.Fragment,{children:[k&&p.jsx(pN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),p.jsx(dN,{scope:n,onClose:A,children:wc.createPortal(p.jsx(wy.ItemSlot,{scope:n,children:p.jsx(Wk,{asChild:!0,onEscapeKeyDown:Me(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(et.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Me(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Me(t.onPointerDown,F=>{F.button===0&&(T.current={x:F.clientX,y:F.clientY})}),onPointerMove:Me(t.onPointerMove,F=>{if(!T.current)return;const q=F.clientX-T.current.x,Q=F.clientY-T.current.y,Z=!!N.current,j=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,K=j?z(0,q):0,ie=j?0:z(0,Q),ee=F.pointerType==="touch"?10:2,de={x:K,y:ie},ce={originalEvent:F,delta:de};Z?(N.current=de,gu(lN,h,ce,{discrete:!1})):L0(de,v.swipeDirection,ee)?(N.current=de,gu(aN,d,ce,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(q)>ee||Math.abs(Q)>ee)&&(T.current=null)}),onPointerUp:Me(t.onPointerUp,F=>{const q=N.current,Q=F.target;if(Q.hasPointerCapture(F.pointerId)&&Q.releasePointerCapture(F.pointerId),N.current=null,T.current=null,q){const Z=F.currentTarget,j={originalEvent:F,delta:q};L0(q,v.swipeDirection,v.swipeThreshold)?gu(uN,g,j,{discrete:!0}):gu(cN,m,j,{discrete:!0}),Z.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),pN=t=>{const{__scopeToast:e,children:n,...r}=t,s=Th(Ec,e),[i,o]=x.useState(!1),[a,c]=x.useState(!1);return yN(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:p.jsx(yy,{asChild:!0,children:p.jsx(xh,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},mN="ToastTitle",WT=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(et.div,{...r,ref:e})});WT.displayName=mN;var gN="ToastDescription",qT=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(et.div,{...r,ref:e})});qT.displayName=gN;var GT="ToastAction",KT=x.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(YT,{altText:n,asChild:!0,children:p.jsx(_y,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GT}\`. Expected non-empty \`string\`.`),null)});KT.displayName=GT;var QT="ToastClose",_y=x.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=hN(QT,n);return p.jsx(YT,{asChild:!0,children:p.jsx(et.button,{type:"button",...r,ref:e,onClick:Me(t.onClick,s.onClose)})})});_y.displayName=QT;var YT=x.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return p.jsx(et.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function XT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),vN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...XT(r))}}),e}function gu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DT(s,i):s.dispatchEvent(i)}var L0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function yN(t=()=>{}){const e=mr(t);Fr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function vN(t){return t.nodeType===t.ELEMENT_NODE}function wN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Kf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _N=UT,JT=zT,ZT=HT,eS=WT,tS=qT,nS=KT,rS=_y;function sS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=sS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=sS(t))&&(r&&(r+=" "),r+=e);return r}const V0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,j0=iS,EN=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return j0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=V0(d)||V0(h);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...g}=d;return Object.entries(g).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...u,h,m]:u},[]);return j0(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>x.createElement("svg",{ref:c,...TN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:oS("lucide",s),...a},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=(t,e)=>{const n=x.forwardRef(({className:r,...s},i)=>x.createElement(SN,{ref:i,iconNode:e,className:oS(`lucide-${xN(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=He("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=He("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=He("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=He("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=He("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=He("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=He("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=He("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=He("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=He("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=He("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=He("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ty="-",VN=t=>{const e=FN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ty);return a[0]===""&&a.length!==1&&a.shift(),lS(a,e)||jN(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},lS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?lS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ty);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},U0=/^\[(.+)\]$/,jN=t=>{if(U0.test(t)){const e=U0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FN=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return $N(Object.entries(t.classGroups),n).forEach(([i,o])=>{Tm(o,r,i,e)}),r},Tm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(UN(s)){Tm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Tm(o,$0(e,i),n,r)})})},$0=(t,e)=>{let n=t;return e.split(Ty).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UN=t=>t.isThemeGetter,$N=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,zN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},cS="!",BN=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,h;for(let E=0;E<a.length;E++){let _=a[E];if(u===0){if(_===s&&(r||a.slice(E,E+i)===e)){c.push(a.slice(d,E)),d=E+i;continue}if(_==="/"){h=E;continue}}_==="["?u++:_==="]"&&u--}const m=c.length===0?a:a.substring(d),g=m.startsWith(cS),S=g?m.substring(1):m,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},HN=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},WN=t=>({cache:zN(t.cacheSize),parseClassName:BN(t),...VN(t)}),qN=/\s+/,GN=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(qN);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let S=!!g,v=r(S?m.substring(0,g):m);if(!v){if(!S){a=u+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=u+(a.length>0?" "+a:a);continue}S=!1}const E=HN(d).join(":"),_=h?E+cS:E,w=_+v;if(i.includes(w))continue;i.push(w);const T=s(v,S);for(let N=0;N<T.length;++N){const D=T[N];i.push(_+D)}a=u+(a.length>0?" "+a:a)}return a};function KN(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=uS(e))&&(r&&(r+=" "),r+=n);return r}const uS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=uS(t[r]))&&(n&&(n+=" "),n+=e);return n};function QN(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=WN(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=GN(c,n);return s(c,d),d}return function(){return i(KN.apply(null,arguments))}}const Pe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},dS=/^\[(?:([a-z-]+):)?(.+)\]$/i,YN=/^\d+\/\d+$/,XN=new Set(["px","full","screen"]),JN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sr=t=>Do(t)||XN.has(t)||YN.test(t),is=t=>wa(t,"length",u2),Do=t=>!!t&&!Number.isNaN(Number(t)),Qf=t=>wa(t,"number",Do),Za=t=>!!t&&Number.isInteger(Number(t)),r2=t=>t.endsWith("%")&&Do(t.slice(0,-1)),ue=t=>dS.test(t),os=t=>JN.test(t),s2=new Set(["length","size","percentage"]),i2=t=>wa(t,s2,hS),o2=t=>wa(t,"position",hS),a2=new Set(["image","url"]),l2=t=>wa(t,a2,h2),c2=t=>wa(t,"",d2),el=()=>!0,wa=(t,e,n)=>{const r=dS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},u2=t=>ZN.test(t)&&!e2.test(t),hS=()=>!1,d2=t=>t2.test(t),h2=t=>n2.test(t),f2=()=>{const t=Pe("colors"),e=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),i=Pe("borderRadius"),o=Pe("borderSpacing"),a=Pe("borderWidth"),c=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),h=Pe("invert"),m=Pe("gap"),g=Pe("gradientColorStops"),S=Pe("gradientColorStopPositions"),v=Pe("inset"),E=Pe("margin"),_=Pe("opacity"),w=Pe("padding"),T=Pe("saturate"),N=Pe("scale"),D=Pe("sepia"),M=Pe("skew"),b=Pe("space"),I=Pe("translate"),P=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",ue,e],O=()=>[ue,e],k=()=>["",Sr,is],F=()=>["auto",Do,ue],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ue],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[Do,ue];return{cacheSize:500,separator:":",theme:{colors:[el],spacing:[Sr,is],blur:["none","",os,ue],brightness:ie(),borderColor:[t],borderRadius:["none","","full",os,ue],borderSpacing:O(),borderWidth:k(),contrast:ie(),grayscale:z(),hueRotate:ie(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[r2,is],inset:A(),margin:A(),opacity:ie(),padding:O(),saturate:ie(),scale:ie(),sepia:z(),skew:ie(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[os]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),ue]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Za,ue]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Za,ue]}],"grid-cols":[{"grid-cols":[el]}],"col-start-end":[{col:["auto",{span:["full",Za,ue]},ue]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[el]}],"row-start-end":[{row:["auto",{span:[Za,ue]},ue]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[os]},os]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",os,is]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qf]}],"font-family":[{font:[el]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",Do,Qf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sr,is]}],"underline-offset":[{"underline-offset":["auto",Sr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),o2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",i2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Sr,ue]}],"outline-w":[{outline:[Sr,is]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Sr,is]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",os,c2]}],"shadow-color":[{shadow:[el]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",os,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Za,ue]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Sr,is,Qf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},p2=QN(f2);function wn(...t){return p2(iS(t))}const m2=_N,fS=x.forwardRef(({className:t,...e},n)=>p.jsx(JT,{ref:n,className:wn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fS.displayName=JT.displayName;const g2=EN("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pS=x.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(ZT,{ref:r,className:wn(g2({variant:e}),t),...n}));pS.displayName=ZT.displayName;const y2=x.forwardRef(({className:t,...e},n)=>p.jsx(nS,{ref:n,className:wn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));y2.displayName=nS.displayName;const mS=x.forwardRef(({className:t,...e},n)=>p.jsx(rS,{ref:n,className:wn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(xc,{className:"h-4 w-4"})}));mS.displayName=rS.displayName;const gS=x.forwardRef(({className:t,...e},n)=>p.jsx(eS,{ref:n,className:wn("text-sm font-semibold",t),...e}));gS.displayName=eS.displayName;const yS=x.forwardRef(({className:t,...e},n)=>p.jsx(tS,{ref:n,className:wn("text-sm opacity-90",t),...e}));yS.displayName=tS.displayName;function v2(){const{toasts:t}=Ak();return p.jsxs(m2,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return p.jsxs(pS,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(gS,{children:n}),r&&p.jsx(yS,{children:r})]}),s,p.jsx(mS,{})]},e)}),p.jsx(fS,{})]})}var z0=["light","dark"],w2="(prefers-color-scheme: dark)",_2=x.createContext(void 0),E2={setTheme:t=>{},themes:[]},x2=()=>{var t;return(t=x.useContext(_2))!=null?t:E2};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?z0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(S,v=!1,E=!0)=>{let _=o?o[S]:S,w=v?S+"|| ''":`'${_}'`,T="";return s&&E&&!v&&z0.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?v||_?T+=`c.add(${w})`:T+="null":_&&(T+=`d[s](n,${w})`),T},g=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${w2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var T2=t=>{switch(t){case"success":return I2;case"info":return A2;case"warning":return C2;case"error":return P2;default:return null}},S2=Array(12).fill(0),b2=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},S2.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),I2=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C2=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),A2=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P2=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),R2=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),k2=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Sm=1,N2=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Sm++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],W.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(D2(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Sm++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ft=new N2,O2=(t,e)=>{let n=(e==null?void 0:e.id)||Sm++;return Ft.addToast({title:t,...e,id:n}),n},D2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",M2=O2,L2=()=>Ft.toasts,V2=()=>Ft.getActiveToasts();Object.assign(M2,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:L2,getToasts:V2});function j2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}j2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vu(t){return t.label!==void 0}var F2=3,U2="32px",$2="16px",B0=4e3,z2=356,B2=14,H2=20,W2=200;function Sn(...t){return t.filter(Boolean).join(" ")}function q2(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var G2=t=>{var e,n,r,s,i,o,a,c,u,d,h;let{invert:m,toast:g,unstyled:S,interacting:v,setHeights:E,visibleToasts:_,heights:w,index:T,toasts:N,expanded:D,removeToast:M,defaultRichColors:b,closeButton:I,style:P,cancelButtonStyle:R,actionButtonStyle:A,className:O="",descriptionClassName:k="",duration:F,position:q,gap:Q,loadingIcon:Z,expandByDefault:j,classNames:z,icons:K,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:ee}=t,[de,ce]=W.useState(null),[Oe,Ke]=W.useState(null),[ye,zn]=W.useState(!1),[_n,wr]=W.useState(!1),[Bn,_r]=W.useState(!1),[on,ai]=W.useState(!1),[Ra,Qr]=W.useState(!1),[li,Yr]=W.useState(0),[Le,at]=W.useState(0),Hn=W.useRef(g.duration||F||B0),jc=W.useRef(null),Wn=W.useRef(null),nf=T===0,ci=T+1<=_,Pt=g.type,Er=g.dismissible!==!1,ka=g.className||"",rf=g.descriptionClassName||"",eo=W.useMemo(()=>w.findIndex(ne=>ne.toastId===g.id)||0,[w,g.id]),Fc=W.useMemo(()=>{var ne;return(ne=g.closeButton)!=null?ne:I},[g.closeButton,I]),Na=W.useMemo(()=>g.duration||F||B0,[g.duration,F]),xr=W.useRef(0),qn=W.useRef(0),to=W.useRef(0),Vt=W.useRef(null),[Uc,no]=q.split("-"),Oa=W.useMemo(()=>w.reduce((ne,Ee,be)=>be>=eo?ne:ne+Ee.height,0),[w,eo]),Xr=k2(),$c=g.invert||m,tt=Pt==="loading";qn.current=W.useMemo(()=>eo*Q+Oa,[eo,Oa]),W.useEffect(()=>{Hn.current=Na},[Na]),W.useEffect(()=>{zn(!0)},[]),W.useEffect(()=>{let ne=Wn.current;if(ne){let Ee=ne.getBoundingClientRect().height;return at(Ee),E(be=>[{toastId:g.id,height:Ee,position:g.position},...be]),()=>E(be=>be.filter(lt=>lt.toastId!==g.id))}},[E,g.id]),W.useLayoutEffect(()=>{if(!ye)return;let ne=Wn.current,Ee=ne.style.height;ne.style.height="auto";let be=ne.getBoundingClientRect().height;ne.style.height=Ee,at(be),E(lt=>lt.find(Kt=>Kt.toastId===g.id)?lt.map(Kt=>Kt.toastId===g.id?{...Kt,height:be}:Kt):[{toastId:g.id,height:be,position:g.position},...lt])},[ye,g.title,g.description,E,g.id]);let En=W.useCallback(()=>{wr(!0),Yr(qn.current),E(ne=>ne.filter(Ee=>Ee.toastId!==g.id)),setTimeout(()=>{M(g)},W2)},[g,M,E,qn]);W.useEffect(()=>{if(g.promise&&Pt==="loading"||g.duration===1/0||g.type==="loading")return;let ne;return D||v||ee&&Xr?(()=>{if(to.current<xr.current){let Ee=new Date().getTime()-xr.current;Hn.current=Hn.current-Ee}to.current=new Date().getTime()})():Hn.current!==1/0&&(xr.current=new Date().getTime(),ne=setTimeout(()=>{var Ee;(Ee=g.onAutoClose)==null||Ee.call(g,g),En()},Hn.current)),()=>clearTimeout(ne)},[D,v,g,Pt,ee,Xr,En]),W.useEffect(()=>{g.delete&&En()},[En,g.delete]);function ui(){var ne,Ee,be;return K!=null&&K.loading?W.createElement("div",{className:Sn(z==null?void 0:z.loader,(ne=g==null?void 0:g.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":Pt==="loading"},K.loading):Z?W.createElement("div",{className:Sn(z==null?void 0:z.loader,(Ee=g==null?void 0:g.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Pt==="loading"},Z):W.createElement(b2,{className:Sn(z==null?void 0:z.loader,(be=g==null?void 0:g.classNames)==null?void 0:be.loader),visible:Pt==="loading"})}return W.createElement("li",{tabIndex:0,ref:Wn,className:Sn(O,ka,z==null?void 0:z.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,z==null?void 0:z.default,z==null?void 0:z[Pt],(n=g==null?void 0:g.classNames)==null?void 0:n[Pt]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:b,"data-styled":!(g.jsx||g.unstyled||S),"data-mounted":ye,"data-promise":!!g.promise,"data-swiped":Ra,"data-removed":_n,"data-visible":ci,"data-y-position":Uc,"data-x-position":no,"data-index":T,"data-front":nf,"data-swiping":Bn,"data-dismissible":Er,"data-type":Pt,"data-invert":$c,"data-swipe-out":on,"data-swipe-direction":Oe,"data-expanded":!!(D||j&&ye),style:{"--index":T,"--toasts-before":T,"--z-index":N.length-T,"--offset":`${_n?li:qn.current}px`,"--initial-height":j?"auto":`${Le}px`,...P,...g.style},onDragEnd:()=>{_r(!1),ce(null),Vt.current=null},onPointerDown:ne=>{tt||!Er||(jc.current=new Date,Yr(qn.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(_r(!0),Vt.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,Ee,be,lt;if(on||!Er)return;Vt.current=null;let Kt=Number(((ne=Wn.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Gn=Number(((Ee=Wn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),an=new Date().getTime()-((be=jc.current)==null?void 0:be.getTime()),jt=de==="x"?Kt:Gn,xn=Math.abs(jt)/an;if(Math.abs(jt)>=H2||xn>.11){Yr(qn.current),(lt=g.onDismiss)==null||lt.call(g,g),Ke(de==="x"?Kt>0?"right":"left":Gn>0?"down":"up"),En(),ai(!0),Qr(!1);return}_r(!1),ce(null)},onPointerMove:ne=>{var Ee,be,lt,Kt;if(!Vt.current||!Er||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Gn=ne.clientY-Vt.current.y,an=ne.clientX-Vt.current.x,jt=(be=t.swipeDirections)!=null?be:q2(q);!de&&(Math.abs(an)>1||Math.abs(Gn)>1)&&ce(Math.abs(an)>Math.abs(Gn)?"x":"y");let xn={x:0,y:0};de==="y"?(jt.includes("top")||jt.includes("bottom"))&&(jt.includes("top")&&Gn<0||jt.includes("bottom")&&Gn>0)&&(xn.y=Gn):de==="x"&&(jt.includes("left")||jt.includes("right"))&&(jt.includes("left")&&an<0||jt.includes("right")&&an>0)&&(xn.x=an),(Math.abs(xn.x)>0||Math.abs(xn.y)>0)&&Qr(!0),(lt=Wn.current)==null||lt.style.setProperty("--swipe-amount-x",`${xn.x}px`),(Kt=Wn.current)==null||Kt.style.setProperty("--swipe-amount-y",`${xn.y}px`)}},Fc&&!g.jsx?W.createElement("button",{"aria-label":ie,"data-disabled":tt,"data-close-button":!0,onClick:tt||!Er?()=>{}:()=>{var ne;En(),(ne=g.onDismiss)==null||ne.call(g,g)},className:Sn(z==null?void 0:z.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:R2):null,g.jsx||x.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:W.createElement(W.Fragment,null,Pt||g.icon||g.promise?W.createElement("div",{"data-icon":"",className:Sn(z==null?void 0:z.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ui():null,g.type!=="loading"?g.icon||(K==null?void 0:K[Pt])||T2(Pt):null):null,W.createElement("div",{"data-content":"",className:Sn(z==null?void 0:z.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Sn(z==null?void 0:z.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?W.createElement("div",{"data-description":"",className:Sn(k,rf,z==null?void 0:z.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),x.isValidElement(g.cancel)?g.cancel:g.cancel&&vu(g.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||R,onClick:ne=>{var Ee,be;vu(g.cancel)&&Er&&((be=(Ee=g.cancel).onClick)==null||be.call(Ee,ne),En())},className:Sn(z==null?void 0:z.cancelButton,(d=g==null?void 0:g.classNames)==null?void 0:d.cancelButton)},g.cancel.label):null,x.isValidElement(g.action)?g.action:g.action&&vu(g.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||A,onClick:ne=>{var Ee,be;vu(g.action)&&((be=(Ee=g.action).onClick)==null||be.call(Ee,ne),!ne.defaultPrevented&&En())},className:Sn(z==null?void 0:z.actionButton,(h=g==null?void 0:g.classNames)==null?void 0:h.actionButton)},g.action.label):null))};function H0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function K2(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?$2:U2;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var Q2=x.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:m,style:g,visibleToasts:S=F2,toastOptions:v,dir:E=H0(),gap:_=B2,loadingIcon:w,icons:T,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:D}=t,[M,b]=W.useState([]),I=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(ee=>ee.position).map(ee=>ee.position)))),[M,r]),[P,R]=W.useState([]),[A,O]=W.useState(!1),[k,F]=W.useState(!1),[q,Q]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Z=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=W.useRef(null),K=W.useRef(!1),ie=W.useCallback(ee=>{b(de=>{var ce;return(ce=de.find(Oe=>Oe.id===ee.id))!=null&&ce.delete||Ft.dismiss(ee.id),de.filter(({id:Oe})=>Oe!==ee.id)})},[]);return W.useEffect(()=>Ft.subscribe(ee=>{if(ee.dismiss){b(de=>de.map(ce=>ce.id===ee.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{RT.flushSync(()=>{b(de=>{let ce=de.findIndex(Oe=>Oe.id===ee.id);return ce!==-1?[...de.slice(0,ce),{...de[ce],...ee},...de.slice(ce+1)]:[ee,...de]})})})}),[]),W.useEffect(()=>{if(d!=="system"){Q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:de})=>{Q(de?"dark":"light")})}catch{ee.addListener(({matches:ce})=>{try{Q(ce?"dark":"light")}catch(Oe){console.error(Oe)}})}},[d]),W.useEffect(()=>{M.length<=1&&O(!1)},[M]),W.useEffect(()=>{let ee=de=>{var ce,Oe;s.every(Ke=>de[Ke]||de.code===Ke)&&(O(!0),(ce=Z.current)==null||ce.focus()),de.code==="Escape"&&(document.activeElement===Z.current||(Oe=Z.current)!=null&&Oe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),W.useEffect(()=>{if(Z.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,K.current=!1)}},[Z.current]),W.createElement("section",{ref:e,"aria-label":`${N} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((ee,de)=>{var ce;let[Oe,Ke]=ee.split("-");return M.length?W.createElement("ol",{key:ee,dir:E==="auto"?H0():E,tabIndex:-1,ref:Z,className:a,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":Oe,"data-lifted":A&&M.length>1&&!i,"data-x-position":Ke,style:{"--front-toast-height":`${((ce=P[0])==null?void 0:ce.height)||0}px`,"--width":`${z2}px`,"--gap":`${_}px`,...g,...K2(c,u)},onBlur:ye=>{K.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(K.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||K.current||(K.current=!0,z.current=ye.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{k||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},M.filter(ye=>!ye.position&&de===0||ye.position===ee).map((ye,zn)=>{var _n,wr;return W.createElement(G2,{key:ye.id,icons:T,index:zn,toast:ye,defaultRichColors:h,duration:(_n=v==null?void 0:v.duration)!=null?_n:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:S,closeButton:(wr=v==null?void 0:v.closeButton)!=null?wr:o,interacting:k,position:ee,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:ie,toasts:M.filter(Bn=>Bn.position==ye.position),heights:P.filter(Bn=>Bn.position==ye.position),setHeights:R,expandByDefault:i,gap:_,loadingIcon:w,expanded:A,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const Y2=({...t})=>{const{theme:e="system"}=x2();return p.jsx(Q2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var X2=Ig[" useId ".trim().toString()]||(()=>{}),J2=0;function Yf(t){const[e,n]=x.useState(X2());return Fr(()=>{t||n(r=>r??String(J2++))},[t]),t||(e?`radix-${e}`:"")}const Z2=["top","right","bottom","left"],Ws=Math.min,Xt=Math.max,Od=Math.round,wu=Math.floor,ar=t=>({x:t,y:t}),eO={left:"right",right:"left",bottom:"top",top:"bottom"},tO={start:"end",end:"start"};function bm(t,e,n){return Xt(t,Ws(e,n))}function Ur(t,e){return typeof t=="function"?t(e):t}function $r(t){return t.split("-")[0]}function _a(t){return t.split("-")[1]}function Sy(t){return t==="x"?"y":"x"}function by(t){return t==="y"?"height":"width"}const nO=new Set(["top","bottom"]);function sr(t){return nO.has($r(t))?"y":"x"}function Iy(t){return Sy(sr(t))}function rO(t,e,n){n===void 0&&(n=!1);const r=_a(t),s=Iy(t),i=by(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Dd(o)),[o,Dd(o)]}function sO(t){const e=Dd(t);return[Im(t),e,Im(e)]}function Im(t){return t.replace(/start|end/g,e=>tO[e])}const W0=["left","right"],q0=["right","left"],iO=["top","bottom"],oO=["bottom","top"];function aO(t,e,n){switch(t){case"top":case"bottom":return n?e?q0:W0:e?W0:q0;case"left":case"right":return e?iO:oO;default:return[]}}function lO(t,e,n,r){const s=_a(t);let i=aO($r(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Im)))),i}function Dd(t){return t.replace(/left|right|bottom|top/g,e=>eO[e])}function cO(t){return{top:0,right:0,bottom:0,left:0,...t}}function vS(t){return typeof t!="number"?cO(t):{top:t,right:t,bottom:t,left:t}}function Md(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function G0(t,e,n){let{reference:r,floating:s}=t;const i=sr(e),o=Iy(e),a=by(o),c=$r(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(_a(e)){case"start":g[o]-=m*(n&&u?-1:1);break;case"end":g[o]+=m*(n&&u?-1:1);break}return g}const uO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=G0(u,r,c),m=r,g={},S=0;for(let v=0;v<a.length;v++){const{name:E,fn:_}=a[v],{x:w,y:T,data:N,reset:D}=await _({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,h=T??h,g={...g,[E]:{...g[E],...N}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(m=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:h}=G0(u,m,c)),v=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:g}};async function Kl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=Ur(e,t),S=vS(g),E=a[m?h==="floating"?"reference":"floating":h],_=Md(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),N=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=Md(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:c}):w);return{top:(_.top-D.top+S.top)/N.y,bottom:(D.bottom-_.bottom+S.bottom)/N.y,left:(_.left-D.left+S.left)/N.x,right:(D.right-_.right+S.right)/N.x}}const dO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Ur(t,e)||{};if(u==null)return{};const h=vS(d),m={x:n,y:r},g=Iy(s),S=by(g),v=await o.getDimensions(u),E=g==="y",_=E?"top":"left",w=E?"bottom":"right",T=E?"clientHeight":"clientWidth",N=i.reference[S]+i.reference[g]-m[g]-i.floating[S],D=m[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=M?M[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[T]||i.floating[S]);const I=N/2-D/2,P=b/2-v[S]/2-1,R=Ws(h[_],P),A=Ws(h[w],P),O=R,k=b-v[S]-A,F=b/2-v[S]/2+I,q=bm(O,F,k),Q=!c.arrow&&_a(s)!=null&&F!==q&&i.reference[S]/2-(F<O?R:A)-v[S]/2<0,Z=Q?F<O?F-O:F-k:0;return{[g]:m[g]+Z,data:{[g]:q,centerOffset:F-q-Z,...Q&&{alignmentOffset:Z}},reset:Q}}}),hO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=Ur(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=$r(s),w=sr(a),T=$r(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=m||(T||!v?[Dd(a)]:sO(a)),M=S!=="none";!m&&M&&D.push(...lO(a,v,S,N));const b=[a,...D],I=await Kl(e,E),P=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(I[_]),h){const F=rO(s,o,N);P.push(I[F[0]],I[F[1]])}if(R=[...R,{placement:s,overflows:P}],!P.every(F=>F<=0)){var A,O;const F=(((A=i.flip)==null?void 0:A.index)||0)+1,q=b[F];if(q&&(!(h==="alignment"?w!==sr(q):!1)||R.every(j=>j.overflows[0]>0&&sr(j.placement)===w)))return{data:{index:F,overflows:R},reset:{placement:q}};let Q=(O=R.filter(Z=>Z.overflows[0]<=0).sort((Z,j)=>Z.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!Q)switch(g){case"bestFit":{var k;const Z=(k=R.filter(j=>{if(M){const z=sr(j.placement);return z===w||z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:k[0];Z&&(Q=Z);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function K0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Q0(t){return Z2.some(e=>t[e]>=0)}const fO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ur(t,e);switch(r){case"referenceHidden":{const i=await Kl(e,{...s,elementContext:"reference"}),o=K0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q0(o)}}}case"escaped":{const i=await Kl(e,{...s,altBoundary:!0}),o=K0(i,n.floating);return{data:{escapedOffsets:o,escaped:Q0(o)}}}default:return{}}}}},wS=new Set(["left","top"]);async function pO(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=$r(n),a=_a(n),c=sr(n)==="y",u=wS.has(o)?-1:1,d=i&&c?-1:1,h=Ur(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(g=a==="end"?S*-1:S),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const mO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await pO(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},gO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y:w}=E;return{x:_,y:w}}},...c}=Ur(t,e),u={x:n,y:r},d=await Kl(e,c),h=sr($r(s)),m=Sy(h);let g=u[m],S=u[h];if(i){const E=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=g+d[E],T=g-d[_];g=bm(w,g,T)}if(o){const E=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=S+d[E],T=S-d[_];S=bm(w,S,T)}const v=a.fn({...e,[m]:g,[h]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[h]:o}}}}}},yO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Ur(t,e),d={x:n,y:r},h=sr(s),m=Sy(h);let g=d[m],S=d[h];const v=Ur(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const T=m==="y"?"height":"width",N=i.reference[m]-i.floating[T]+E.mainAxis,D=i.reference[m]+i.reference[T]-E.mainAxis;g<N?g=N:g>D&&(g=D)}if(u){var _,w;const T=m==="y"?"width":"height",N=wS.has($r(s)),D=i.reference[h]-i.floating[T]+(N&&((_=o.offset)==null?void 0:_[h])||0)+(N?0:E.crossAxis),M=i.reference[h]+i.reference[T]+(N?0:((w=o.offset)==null?void 0:w[h])||0)-(N?E.crossAxis:0);S<D?S=D:S>M&&(S=M)}return{[m]:g,[h]:S}}}},vO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Ur(t,e),d=await Kl(e,u),h=$r(s),m=_a(s),g=sr(s)==="y",{width:S,height:v}=i.floating;let E,_;h==="top"||h==="bottom"?(E=h,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=h,E=m==="end"?"top":"bottom");const w=v-d.top-d.bottom,T=S-d.left-d.right,N=Ws(v-d[E],w),D=Ws(S-d[_],T),M=!e.middlewareData.shift;let b=N,I=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=w),M&&!m){const R=Xt(d.left,0),A=Xt(d.right,0),O=Xt(d.top,0),k=Xt(d.bottom,0);g?I=S-2*(R!==0||A!==0?R+A:Xt(d.left,d.right)):b=v-2*(O!==0||k!==0?O+k:Xt(d.top,d.bottom))}await c({...e,availableWidth:I,availableHeight:b});const P=await o.getDimensions(a.floating);return S!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Sh(){return typeof window<"u"}function Ea(t){return _S(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vr(t){var e;return(e=(_S(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _S(t){return Sh()?t instanceof Node||t instanceof tn(t).Node:!1}function Vn(t){return Sh()?t instanceof Element||t instanceof tn(t).Element:!1}function gr(t){return Sh()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function Y0(t){return!Sh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}const wO=new Set(["inline","contents"]);function Tc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!wO.has(s)}const _O=new Set(["table","td","th"]);function EO(t){return _O.has(Ea(t))}const xO=[":popover-open",":modal"];function bh(t){return xO.some(e=>{try{return t.matches(e)}catch{return!1}})}const TO=["transform","translate","scale","rotate","perspective"],SO=["transform","translate","scale","rotate","perspective","filter"],bO=["paint","layout","strict","content"];function Cy(t){const e=Ay(),n=Vn(t)?jn(t):t;return TO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||SO.some(r=>(n.willChange||"").includes(r))||bO.some(r=>(n.contain||"").includes(r))}function IO(t){let e=qs(t);for(;gr(e)&&!oa(e);){if(Cy(e))return e;if(bh(e))return null;e=qs(e)}return null}function Ay(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CO=new Set(["html","body","#document"]);function oa(t){return CO.has(Ea(t))}function jn(t){return tn(t).getComputedStyle(t)}function Ih(t){return Vn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function qs(t){if(Ea(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Y0(t)&&t.host||vr(t);return Y0(e)?e.host:e}function ES(t){const e=qs(t);return oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:gr(e)&&Tc(e)?e:ES(e)}function Ql(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=ES(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=tn(s);if(i){const a=Cm(o);return e.concat(o,o.visualViewport||[],Tc(s)?s:[],a&&n?Ql(a):[])}return e.concat(s,Ql(s,[],n))}function Cm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xS(t){const e=jn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=gr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Od(n)!==i||Od(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Py(t){return Vn(t)?t:t.contextElement}function Mo(t){const e=Py(t);if(!gr(e))return ar(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=xS(e);let o=(i?Od(n.width):n.width)/r,a=(i?Od(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const AO=ar(0);function TS(t){const e=tn(t);return!Ay()||!e.visualViewport?AO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function PO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function ji(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Py(t);let o=ar(1);e&&(r?Vn(r)&&(o=Mo(r)):o=Mo(t));const a=PO(i,n,r)?TS(i):ar(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const m=tn(i),g=r&&Vn(r)?tn(r):r;let S=m,v=Cm(S);for(;v&&r&&g!==S;){const E=Mo(v),_=v.getBoundingClientRect(),w=jn(v),T=_.left+(v.clientLeft+parseFloat(w.paddingLeft))*E.x,N=_.top+(v.clientTop+parseFloat(w.paddingTop))*E.y;c*=E.x,u*=E.y,d*=E.x,h*=E.y,c+=T,u+=N,S=tn(v),v=Cm(S)}}return Md({width:d,height:h,x:c,y:u})}function Ry(t,e){const n=Ih(t).scrollLeft;return e?e.left+n:ji(vr(t)).left+n}function SS(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ry(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function RO(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=vr(r),a=e?bh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=ar(1);const d=ar(0),h=gr(r);if((h||!h&&!i)&&((Ea(r)!=="body"||Tc(o))&&(c=Ih(r)),gr(r))){const g=ji(r);u=Mo(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=o&&!h&&!i?SS(o,c,!0):ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function kO(t){return Array.from(t.getClientRects())}function NO(t){const e=vr(t),n=Ih(t),r=t.ownerDocument.body,s=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ry(t);const a=-n.scrollTop;return jn(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function OO(t,e){const n=tn(t),r=vr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Ay();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const DO=new Set(["absolute","fixed"]);function MO(t,e){const n=ji(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=gr(t)?Mo(t):ar(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function X0(t,e,n){let r;if(e==="viewport")r=OO(t,n);else if(e==="document")r=NO(vr(t));else if(Vn(e))r=MO(e,n);else{const s=TS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Md(r)}function bS(t,e){const n=qs(t);return n===e||!Vn(n)||oa(n)?!1:jn(n).position==="fixed"||bS(n,e)}function LO(t,e){const n=e.get(t);if(n)return n;let r=Ql(t,[],!1).filter(a=>Vn(a)&&Ea(a)!=="body"),s=null;const i=jn(t).position==="fixed";let o=i?qs(t):t;for(;Vn(o)&&!oa(o);){const a=jn(o),c=Cy(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&DO.has(s.position)||Tc(o)&&!c&&bS(t,o))?r=r.filter(d=>d!==o):s=a,o=qs(o)}return e.set(t,r),r}function VO(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?bh(e)?[]:LO(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const h=X0(e,d,s);return u.top=Xt(h.top,u.top),u.right=Ws(h.right,u.right),u.bottom=Ws(h.bottom,u.bottom),u.left=Xt(h.left,u.left),u},X0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function jO(t){const{width:e,height:n}=xS(t);return{width:e,height:n}}function FO(t,e,n){const r=gr(e),s=vr(e),i=n==="fixed",o=ji(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=ar(0);function u(){c.x=Ry(s)}if(r||!r&&!i)if((Ea(e)!=="body"||Tc(s))&&(a=Ih(e)),r){const g=ji(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?SS(s,a):ar(0),h=o.left+a.scrollLeft-c.x-d.x,m=o.top+a.scrollTop-c.y-d.y;return{x:h,y:m,width:o.width,height:o.height}}function Xf(t){return jn(t).position==="static"}function J0(t,e){if(!gr(t)||jn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vr(t)===n&&(n=n.ownerDocument.body),n}function IS(t,e){const n=tn(t);if(bh(t))return n;if(!gr(t)){let s=qs(t);for(;s&&!oa(s);){if(Vn(s)&&!Xf(s))return s;s=qs(s)}return n}let r=J0(t,e);for(;r&&EO(r)&&Xf(r);)r=J0(r,e);return r&&oa(r)&&Xf(r)&&!Cy(r)?n:r||IO(t)||n}const UO=async function(t){const e=this.getOffsetParent||IS,n=this.getDimensions,r=await n(t.floating);return{reference:FO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $O(t){return jn(t).direction==="rtl"}const zO={convertOffsetParentRelativeRectToViewportRelativeRect:RO,getDocumentElement:vr,getClippingRect:VO,getOffsetParent:IS,getElementRects:UO,getClientRects:kO,getDimensions:jO,getScale:Mo,isElement:Vn,isRTL:$O};function CS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BO(t,e){let n=null,r;const s=vr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=u;if(a||e(),!m||!g)return;const S=wu(h),v=wu(s.clientWidth-(d+m)),E=wu(s.clientHeight-(h+g)),_=wu(d),T={rootMargin:-S+"px "+-v+"px "+-E+"px "+-_+"px",threshold:Xt(0,Ws(1,c))||1};let N=!0;function D(M){const b=M[0].intersectionRatio;if(b!==c){if(!N)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!CS(u,t.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(D,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,T)}n.observe(t)}return o(!0),i}function HO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Py(t),d=s||i?[...u?Ql(u):[],...Ql(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=u&&a?BO(u,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(_=>{let[w]=_;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let S,v=c?ji(t):null;c&&E();function E(){const _=ji(t);v&&!CS(v,_)&&n(),v=_,S=requestAnimationFrame(E)}return n(),()=>{var _;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(S)}}const WO=mO,qO=gO,GO=hO,KO=vO,QO=fO,Z0=dO,YO=yO,XO=(t,e,n)=>{const r=new Map,s={platform:zO,...n},i={...s.platform,_c:r};return uO(t,e,{...s,platform:i})};var JO=typeof document<"u",ZO=function(){},Gu=JO?x.useLayoutEffect:ZO;function Ld(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ld(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ld(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function AS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function e_(t,e){const n=AS(t);return Math.round(e*n)/n}function Jf(t){const e=x.useRef(t);return Gu(()=>{e.current=t}),e}function eD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,h]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=x.useState(r);Ld(m,r)||g(r);const[S,v]=x.useState(null),[E,_]=x.useState(null),w=x.useCallback(j=>{j!==M.current&&(M.current=j,v(j))},[]),T=x.useCallback(j=>{j!==b.current&&(b.current=j,_(j))},[]),N=i||S,D=o||E,M=x.useRef(null),b=x.useRef(null),I=x.useRef(d),P=c!=null,R=Jf(c),A=Jf(s),O=Jf(u),k=x.useCallback(()=>{if(!M.current||!b.current)return;const j={placement:e,strategy:n,middleware:m};A.current&&(j.platform=A.current),XO(M.current,b.current,j).then(z=>{const K={...z,isPositioned:O.current!==!1};F.current&&!Ld(I.current,K)&&(I.current=K,wc.flushSync(()=>{h(K)}))})},[m,e,n,A,O]);Gu(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[u]);const F=x.useRef(!1);Gu(()=>(F.current=!0,()=>{F.current=!1}),[]),Gu(()=>{if(N&&(M.current=N),D&&(b.current=D),N&&D){if(R.current)return R.current(N,D,k);k()}},[N,D,k,R,P]);const q=x.useMemo(()=>({reference:M,floating:b,setReference:w,setFloating:T}),[w,T]),Q=x.useMemo(()=>({reference:N,floating:D}),[N,D]),Z=x.useMemo(()=>{const j={position:n,left:0,top:0};if(!Q.floating)return j;const z=e_(Q.floating,d.x),K=e_(Q.floating,d.y);return a?{...j,transform:"translate("+z+"px, "+K+"px)",...AS(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,a,Q.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:k,refs:q,elements:Q,floatingStyles:Z}),[d,k,q,Q,Z])}const tD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Z0({element:r.current,padding:s}).fn(n):{}:r?Z0({element:r,padding:s}).fn(n):{}}}},nD=(t,e)=>({...WO(t),options:[t,e]}),rD=(t,e)=>({...qO(t),options:[t,e]}),sD=(t,e)=>({...YO(t),options:[t,e]}),iD=(t,e)=>({...GO(t),options:[t,e]}),oD=(t,e)=>({...KO(t),options:[t,e]}),aD=(t,e)=>({...QO(t),options:[t,e]}),lD=(t,e)=>({...tD(t),options:[t,e]});var cD="Arrow",PS=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(et.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});PS.displayName=cD;var uD=PS;function dD(t){const[e,n]=x.useState(void 0);return Fr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var RS="Popper",[kS,NS]=_c(RS),[S9,OS]=kS(RS),DS="PopperAnchor",MS=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=OS(DS,n),o=x.useRef(null),a=Dt(e,o);return x.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.jsx(et.div,{...s,ref:a})});MS.displayName=DS;var ky="PopperContent",[hD,fD]=kS(ky),LS=x.forwardRef((t,e)=>{var ye,zn,_n,wr,Bn,_r;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:S,...v}=t,E=OS(ky,n),[_,w]=x.useState(null),T=Dt(e,on=>w(on)),[N,D]=x.useState(null),M=dD(N),b=(M==null?void 0:M.width)??0,I=(M==null?void 0:M.height)??0,P=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,k={padding:R,boundary:A.filter(mD),altBoundary:O},{refs:F,floatingStyles:q,placement:Q,isPositioned:Z,middlewareData:j}=eD({strategy:"fixed",placement:P,whileElementsMounted:(...on)=>HO(...on,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[nD({mainAxis:s+I,alignmentAxis:o}),c&&rD({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?sD():void 0,...k}),c&&iD({...k}),oD({...k,apply:({elements:on,rects:ai,availableWidth:Ra,availableHeight:Qr})=>{const{width:li,height:Yr}=ai.reference,Le=on.floating.style;Le.setProperty("--radix-popper-available-width",`${Ra}px`),Le.setProperty("--radix-popper-available-height",`${Qr}px`),Le.setProperty("--radix-popper-anchor-width",`${li}px`),Le.setProperty("--radix-popper-anchor-height",`${Yr}px`)}}),N&&lD({element:N,padding:a}),gD({arrowWidth:b,arrowHeight:I}),m&&aD({strategy:"referenceHidden",...k})]}),[z,K]=FS(Q),ie=mr(S);Fr(()=>{Z&&(ie==null||ie())},[Z,ie]);const ee=(ye=j.arrow)==null?void 0:ye.x,de=(zn=j.arrow)==null?void 0:zn.y,ce=((_n=j.arrow)==null?void 0:_n.centerOffset)!==0,[Oe,Ke]=x.useState();return Fr(()=>{_&&Ke(window.getComputedStyle(_).zIndex)},[_]),p.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:Z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(wr=j.transformOrigin)==null?void 0:wr.x,(Bn=j.transformOrigin)==null?void 0:Bn.y].join(" "),...((_r=j.hide)==null?void 0:_r.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(hD,{scope:n,placedSide:z,onArrowChange:D,arrowX:ee,arrowY:de,shouldHideArrow:ce,children:p.jsx(et.div,{"data-side":z,"data-align":K,...v,ref:T,style:{...v.style,animation:Z?void 0:"none"}})})})});LS.displayName=ky;var VS="PopperArrow",pD={top:"bottom",right:"left",bottom:"top",left:"right"},jS=x.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=fD(VS,r),o=pD[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(uD,{...s,ref:n,style:{...s.style,display:"block"}})})});jS.displayName=VS;function mD(t){return t!==null}var gD=t=>({name:"transformOrigin",options:t,fn(e){var E,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=FS(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let S="",v="";return u==="bottom"?(S=o?h:`${m}px`,v=`${-c}px`):u==="top"?(S=o?h:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,v=o?h:`${g}px`):u==="left"&&(S=`${r.floating.width+c}px`,v=o?h:`${g}px`),{data:{x:S,y:v}}}});function FS(t){const[e,n="center"]=t.split("-");return[e,n]}var yD=MS,vD=LS,wD=jS,[Ch,b9]=_c("Tooltip",[NS]),Ny=NS(),US="TooltipProvider",_D=700,t_="tooltip.open",[ED,$S]=Ch(US),zS=t=>{const{__scopeTooltip:e,delayDuration:n=_D,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=x.useRef(!0),a=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),p.jsx(ED,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};zS.displayName=US;var BS="Tooltip",[I9,Ah]=Ch(BS),Am="TooltipTrigger",xD=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ah(Am,n),i=$S(Am,n),o=Ny(n),a=x.useRef(null),c=Dt(e,a,s.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),h=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),p.jsx(yD,{asChild:!0,...o,children:p.jsx(et.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Me(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Me(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Me(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Me(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Me(t.onBlur,s.onClose),onClick:Me(t.onClick,s.onClose)})})});xD.displayName=Am;var TD="TooltipPortal",[C9,SD]=Ch(TD,{forceMount:void 0}),aa="TooltipContent",HS=x.forwardRef((t,e)=>{const n=SD(aa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ah(aa,t.__scopeTooltip);return p.jsx(va,{present:r||o.open,children:o.disableHoverableContent?p.jsx(WS,{side:s,...i,ref:e}):p.jsx(bD,{side:s,...i,ref:e})})}),bD=x.forwardRef((t,e)=>{const n=Ah(aa,t.__scopeTooltip),r=$S(aa,t.__scopeTooltip),s=x.useRef(null),i=Dt(e,s),[o,a]=x.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,m=x.useCallback(()=>{a(null),h(!1)},[h]),g=x.useCallback((S,v)=>{const E=S.currentTarget,_={x:S.clientX,y:S.clientY},w=RD(_,E.getBoundingClientRect()),T=kD(_,w),N=ND(v.getBoundingClientRect()),D=DD([...T,...N]);a(D),h(!0)},[h]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(c&&d){const S=E=>g(E,d),v=E=>g(E,c);return c.addEventListener("pointerleave",S),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",v)}}},[c,d,g,m]),x.useEffect(()=>{if(o){const S=v=>{const E=v.target,_={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(E))||(d==null?void 0:d.contains(E)),T=!OD(_,o);w?m():T&&(m(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,d,o,u,m]),p.jsx(WS,{...t,ref:i})}),[ID,CD]=Ch(BS,{isInside:!1}),AD=Nk("TooltipContent"),WS=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Ah(aa,n),u=Ny(n),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(t_,d),()=>document.removeEventListener(t_,d)),[d]),x.useEffect(()=>{if(c.trigger){const h=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),p.jsx(Eh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:p.jsxs(vD,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(AD,{children:r}),p.jsx(ID,{scope:n,isInside:!0,children:p.jsx(nN,{id:c.contentId,role:"tooltip",children:s||r})})]})})});HS.displayName=aa;var qS="TooltipArrow",PD=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ny(n);return CD(qS,n).isInside?null:p.jsx(wD,{...s,...r,ref:e})});PD.displayName=qS;function RD(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kD(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function ND(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function OD(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,h=c.x,m=c.y;d>r!=m>r&&n<(h-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function DD(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),MD(e)}function MD(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var LD=zS,GS=HS;const VD=LD,jD=x.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(GS,{ref:r,sideOffset:e,className:wn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));jD.displayName=GS.displayName;var Ph=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rh=typeof window>"u"||"Deno"in globalThis;function In(){}function FD(t,e){return typeof t=="function"?t(e):t}function UD(t){return typeof t=="number"&&t>=0&&t!==1/0}function $D(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Pm(t,e){return typeof t=="function"?t(e):t}function zD(t,e){return typeof t=="function"?t(e):t}function n_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Oy(o,e.options))return!1}else if(!Xl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function r_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Yl(e.options.mutationKey)!==Yl(i))return!1}else if(!Xl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Oy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yl)(t)}function Yl(t){return JSON.stringify(t,(e,n)=>Rm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xl(t[n],e[n])):!1}function KS(t,e){if(t===e)return t;const n=s_(t)&&s_(e);if(n||Rm(t)&&Rm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&c.has(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=KS(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function s_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Rm(t){if(!i_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!i_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function i_(t){return Object.prototype.toString.call(t)==="[object Object]"}function BD(t){return new Promise(e=>{setTimeout(e,t)})}function HD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?KS(t,e):e}function WD(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function qD(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Dy=Symbol();function QS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Dy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var xi,ws,Wo,u1,GD=(u1=class extends Ph{constructor(){super();_e(this,xi);_e(this,ws);_e(this,Wo);le(this,Wo,e=>{if(!Rh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,ws)||this.setEventListener(U(this,Wo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ws))==null||e.call(this),le(this,ws,void 0))}setEventListener(e){var n;le(this,Wo,e),(n=U(this,ws))==null||n.call(this),le(this,ws,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,xi)!==e&&(le(this,xi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,xi)=="boolean"?U(this,xi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xi=new WeakMap,ws=new WeakMap,Wo=new WeakMap,u1),YS=new GD,qo,_s,Go,d1,KD=(d1=class extends Ph{constructor(){super();_e(this,qo,!0);_e(this,_s);_e(this,Go);le(this,Go,e=>{if(!Rh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,_s)||this.setEventListener(U(this,Go))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,_s))==null||e.call(this),le(this,_s,void 0))}setEventListener(e){var n;le(this,Go,e),(n=U(this,_s))==null||n.call(this),le(this,_s,e(this.setOnline.bind(this)))}setOnline(e){U(this,qo)!==e&&(le(this,qo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,qo)}},qo=new WeakMap,_s=new WeakMap,Go=new WeakMap,d1),Vd=new KD;function QD(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function YD(t){return Math.min(1e3*2**t,3e4)}function XS(t){return(t??"online")==="online"?Vd.isOnline():!0}var JS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zf(t){return t instanceof JS}function ZS(t){let e=!1,n=0,r=!1,s;const i=QD(),o=v=>{var E;r||(m(new JS(v)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>YS.isFocused()&&(t.networkMode==="always"||Vd.isOnline())&&t.canRun(),d=()=>XS(t.networkMode)&&t.canRun(),h=v=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,v),s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var E;s=_=>{(r||u())&&v(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(r)return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(h).catch(_=>{var M;if(r)return;const w=t.retry??(Rh?0:3),T=t.retryDelay??YD,N=typeof T=="function"?T(n,_):T,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!D){m(_);return}n++,(M=t.onFail)==null||M.call(t,n,_),BD(N).then(()=>u()?void 0:g()).then(()=>{e?m(_):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?S():g().then(S),i)}}var XD=t=>setTimeout(t,0);function JD(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=XD;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Nt=JD(),Ti,h1,eb=(h1=class{constructor(){_e(this,Ti)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UD(this.gcTime)&&le(this,Ti,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rh?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ti)&&(clearTimeout(U(this,Ti)),le(this,Ti,void 0))}},Ti=new WeakMap,h1),Ko,Si,cn,bi,Tt,dc,Ii,Cn,br,f1,ZD=(f1=class extends eb{constructor(n){super();_e(this,Cn);_e(this,Ko);_e(this,Si);_e(this,cn);_e(this,bi);_e(this,Tt);_e(this,dc);_e(this,Ii);le(this,Ii,!1),le(this,dc,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,bi,n.client),le(this,cn,U(this,bi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,Ko,tM(this.options)),this.state=n.state??U(this,Ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Tt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,dc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,cn).remove(this)}setData(n,r){const s=HD(this.state.data,n,this.options);return wt(this,Cn,br).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){wt(this,Cn,br).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Tt))==null?void 0:s.promise;return(i=U(this,Tt))==null||i.cancel(n),r?r.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Ko))}isActive(){return this.observers.some(n=>zD(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Pm(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!$D(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Tt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Tt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,cn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Tt)&&(U(this,Ii)?U(this,Tt).cancel({revert:!0}):U(this,Tt).cancelRetry()),this.scheduleGc()),U(this,cn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wt(this,Cn,br).call(this,{type:"invalidate"})}fetch(n,r){var d,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Tt))return U(this,Tt).continueRetry(),U(this,Tt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(S=>S.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(le(this,Ii,!0),s.signal)})},o=()=>{const g=QS(this.options,r),v=(()=>{const E={client:U(this,bi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return le(this,Ii,!1),this.options.persister?this.options.persister(g,v,this):g(v)},c=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,bi),state:this.state,fetchFn:o};return i(g),g})();(d=this.options.behavior)==null||d.onFetch(c,this),le(this,Si,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&wt(this,Cn,br).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=g=>{var S,v,E,_;Zf(g)&&g.silent||wt(this,Cn,br).call(this,{type:"error",error:g}),Zf(g)||((v=(S=U(this,cn).config).onError)==null||v.call(S,g,this),(_=(E=U(this,cn).config).onSettled)==null||_.call(E,this.state.data,g,this)),this.scheduleGc()};return le(this,Tt,ZS({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var S,v,E,_;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(w){u(w);return}(v=(S=U(this,cn).config).onSuccess)==null||v.call(S,g,this),(_=(E=U(this,cn).config).onSettled)==null||_.call(E,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,S)=>{wt(this,Cn,br).call(this,{type:"failed",failureCount:g,error:S})},onPause:()=>{wt(this,Cn,br).call(this,{type:"pause"})},onContinue:()=>{wt(this,Cn,br).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),U(this,Tt).start()}},Ko=new WeakMap,Si=new WeakMap,cn=new WeakMap,bi=new WeakMap,Tt=new WeakMap,dc=new WeakMap,Ii=new WeakMap,Cn=new WeakSet,br=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...eM(s.data,this.options),fetchMeta:n.meta??null};case"success":return le(this,Si,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Zf(i)&&i.revert&&U(this,Si)?{...U(this,Si),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Nt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,cn).notify({query:this,type:"updated",action:n})})},f1);function eM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,p1,nM=(p1=class extends Ph{constructor(e={}){super();_e(this,Zn);this.config=e,le(this,Zn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Oy(s,n);let o=this.get(i);return o||(o=new ZD({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Zn).has(e.queryHash)||(U(this,Zn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Zn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Zn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Nt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Zn).get(e)}getAll(){return[...U(this,Zn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>n_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>n_(e,r)):n}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Nt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zn=new WeakMap,p1),er,Rt,Ci,tr,ls,m1,rM=(m1=class extends eb{constructor(n){super();_e(this,tr);_e(this,er);_e(this,Rt);_e(this,Ci);this.mutationId=n.mutationId,le(this,Rt,n.mutationCache),le(this,er,[]),this.state=n.state||sM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,er).includes(n)||(U(this,er).push(n),this.clearGcTimeout(),U(this,Rt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,er,U(this,er).filter(r=>r!==n)),this.scheduleGc(),U(this,Rt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,er).length||(this.state.status==="pending"?this.scheduleGc():U(this,Rt).remove(this))}continue(){var n;return((n=U(this,Ci))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,d,h,m,g,S,v,E,_,w,T,N,D,M,b,I,P;const r=()=>{wt(this,tr,ls).call(this,{type:"continue"})};le(this,Ci,ZS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,A)=>{wt(this,tr,ls).call(this,{type:"failed",failureCount:R,error:A})},onPause:()=>{wt(this,tr,ls).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Rt).canRun(this)}));const s=this.state.status==="pending",i=!U(this,Ci).canStart();try{if(s)r();else{wt(this,tr,ls).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Rt).config).onMutate)==null?void 0:a.call(o,n,this));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));A!==this.state.context&&wt(this,tr,ls).call(this,{type:"pending",context:A,variables:n,isPaused:i})}const R=await U(this,Ci).start();return await((h=(d=U(this,Rt).config).onSuccess)==null?void 0:h.call(d,R,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,R,n,this.state.context)),await((v=(S=U(this,Rt).config).onSettled)==null?void 0:v.call(S,R,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,R,null,n,this.state.context)),wt(this,tr,ls).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(w=U(this,Rt).config).onError)==null?void 0:T.call(w,R,n,this.state.context,this)),await((D=(N=this.options).onError)==null?void 0:D.call(N,R,n,this.state.context)),await((b=(M=U(this,Rt).config).onSettled)==null?void 0:b.call(M,void 0,R,this.state.variables,this.state.context,this)),await((P=(I=this.options).onSettled)==null?void 0:P.call(I,void 0,R,n,this.state.context)),R}finally{wt(this,tr,ls).call(this,{type:"error",error:R})}}finally{U(this,Rt).runNext(this)}}},er=new WeakMap,Rt=new WeakMap,Ci=new WeakMap,tr=new WeakSet,ls=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Nt.batch(()=>{U(this,er).forEach(s=>{s.onMutationUpdate(n)}),U(this,Rt).notify({mutation:this,type:"updated",action:n})})},m1);function sM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ar,An,hc,g1,iM=(g1=class extends Ph{constructor(e={}){super();_e(this,Ar);_e(this,An);_e(this,hc);this.config=e,le(this,Ar,new Set),le(this,An,new Map),le(this,hc,0)}build(e,n,r){const s=new rM({mutationCache:this,mutationId:++Xc(this,hc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Ar).add(e);const n=_u(e);if(typeof n=="string"){const r=U(this,An).get(n);r?r.push(e):U(this,An).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Ar).delete(e)){const n=_u(e);if(typeof n=="string"){const r=U(this,An).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,An).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=_u(e);if(typeof n=="string"){const r=U(this,An).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=_u(e);if(typeof n=="string"){const s=(r=U(this,An).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Nt.batch(()=>{U(this,Ar).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Ar).clear(),U(this,An).clear()})}getAll(){return Array.from(U(this,Ar))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>r_(n,r))}findAll(e={}){return this.getAll().filter(n=>r_(e,n))}notify(e){Nt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Nt.batch(()=>Promise.all(e.map(n=>n.continue().catch(In))))}},Ar=new WeakMap,An=new WeakMap,hc=new WeakMap,g1);function _u(t){var e;return(e=t.options.scope)==null?void 0:e.id}function o_(t){return{onFetch:(e,n)=>{var d,h,m,g,S;const r=e.options,s=(m=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=QS(e.options,e.fetchOptions),w=async(T,N,D)=>{if(v)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const b=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:N,direction:D?"backward":"forward",meta:e.options.meta};return E(A),A})(),I=await _(b),{maxPages:P}=e.options,R=D?qD:WD;return{pages:R(T.pages,I,P),pageParams:R(T.pageParams,N,P)}};if(s&&i.length){const T=s==="backward",N=T?oM:a_,D={pages:i,pageParams:o},M=N(r,D);a=await w(D,M,T)}else{const T=t??i.length;do{const N=c===0?o[0]??r.initialPageParam:a_(r,a);if(c>0&&N==null)break;a=await w(a,N),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function a_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function oM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ze,Es,xs,Qo,Yo,Ts,Xo,Jo,y1,aM=(y1=class{constructor(t={}){_e(this,ze);_e(this,Es);_e(this,xs);_e(this,Qo);_e(this,Yo);_e(this,Ts);_e(this,Xo);_e(this,Jo);le(this,ze,t.queryCache||new nM),le(this,Es,t.mutationCache||new iM),le(this,xs,t.defaultOptions||{}),le(this,Qo,new Map),le(this,Yo,new Map),le(this,Ts,0)}mount(){Xc(this,Ts)._++,U(this,Ts)===1&&(le(this,Xo,YS.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ze).onFocus())})),le(this,Jo,Vd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ze).onOnline())})))}unmount(){var t,e;Xc(this,Ts)._--,U(this,Ts)===0&&((t=U(this,Xo))==null||t.call(this),le(this,Xo,void 0),(e=U(this,Jo))==null||e.call(this),le(this,Jo,void 0))}isFetching(t){return U(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Es).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,ze).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Pm(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,ze).get(r.queryHash),i=s==null?void 0:s.state.data,o=FD(e,i);if(o!==void 0)return U(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Nt.batch(()=>U(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,ze);Nt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,ze);return Nt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Nt.batch(()=>U(this,ze).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(In).catch(In)}invalidateQueries(t,e={}){return Nt.batch(()=>(U(this,ze).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Nt.batch(()=>U(this,ze).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(In)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(In)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,ze).build(this,e);return n.isStaleByTime(Pm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(In).catch(In)}fetchInfiniteQuery(t){return t.behavior=o_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(In).catch(In)}ensureInfiniteQueryData(t){return t.behavior=o_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vd.isOnline()?U(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,ze)}getMutationCache(){return U(this,Es)}getDefaultOptions(){return U(this,xs)}setDefaultOptions(t){le(this,xs,t)}setQueryDefaults(t,e){U(this,Qo).set(Yl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Qo).values()],n={};return e.forEach(r=>{Xl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Yo).set(Yl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Yo).values()],n={};return e.forEach(r=>{Xl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,xs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Oy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Dy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,xs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,ze).clear(),U(this,Es).clear()}},ze=new WeakMap,Es=new WeakMap,xs=new WeakMap,Qo=new WeakMap,Yo=new WeakMap,Ts=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,y1),lM=x.createContext(void 0),cM=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(lM.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jl.apply(this,arguments)}var Is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Is||(Is={}));const l_="popstate";function uM(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:c=""}=Ki(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),km("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof i=="string"?i:jd(i))}function r(s,i){My(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return hM(e,n,r,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function My(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dM(){return Math.random().toString(36).substr(2,8)}function c_(t,e){return{usr:t.state,key:t.key,idx:e}}function km(t,e,n,r){return n===void 0&&(n=null),Jl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ki(e):e,{state:n,key:e&&e.key||r||dM()})}function jd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Is.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Jl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Is.Pop;let E=d(),_=E==null?null:E-u;u=E,c&&c({action:a,location:v.location,delta:_})}function m(E,_){a=Is.Push;let w=km(v.location,E,_);n&&n(w,E),u=d()+1;let T=c_(w,u),N=v.createHref(w);try{o.pushState(T,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}i&&c&&c({action:a,location:v.location,delta:1})}function g(E,_){a=Is.Replace;let w=km(v.location,E,_);n&&n(w,E),u=d();let T=c_(w,u),N=v.createHref(w);o.replaceState(T,"",N),i&&c&&c({action:a,location:v.location,delta:0})}function S(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:jd(E);return w=w.replace(/ $/,"%20"),Ze(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(l_,h),c=E,()=>{s.removeEventListener(l_,h),c=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let _=S(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(E){return o.go(E)}};return v}var u_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(u_||(u_={}));function fM(t,e,n){return n===void 0&&(n="/"),pM(t,e,n,!1)}function pM(t,e,n,r){let s=typeof e=="string"?Ki(e):e,i=Ly(s.pathname||"/",n);if(i==null)return null;let o=tb(t);mM(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=IM(i);a=SM(o[c],u,r)}return a}function tb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ze(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ls([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tb(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:xM(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of nb(i.path))s(i,o,c)}),e}function nb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=nb(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function mM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gM=/^:[\w-]+$/,yM=3,vM=2,wM=1,_M=10,EM=-2,d_=t=>t==="*";function xM(t,e){let n=t.split("/"),r=n.length;return n.some(d_)&&(r+=EM),e&&(r+=vM),n.filter(s=>!d_(s)).reduce((s,i)=>s+(gM.test(i)?yM:i===""?wM:_M),r)}function TM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function SM(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=h_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=h_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ls([i,h.pathname]),pathnameBase:RM(Ls([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ls([i,h.pathnameBase]))}return o}function h_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=a[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const S=a[h];return g&&!S?u[m]=void 0:u[m]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function bM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),My(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function IM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return My(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ly(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ki(t):t;return{pathname:n?n.startsWith("/")?n:AM(n,e):e,search:kM(r),hash:NM(s)}}function AM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ep(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rb(t,e){let n=PM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sb(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ki(t):(s=Jl({},t),Ze(!s.pathname||!s.pathname.includes("?"),ep("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),ep("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),ep("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let c=CM(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ls=t=>t.join("/").replace(/\/\/+/g,"/"),RM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ib=["post","put","patch","delete"];new Set(ib);const DM=["get",...ib];new Set(DM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}const Vy=x.createContext(null),MM=x.createContext(null),Qi=x.createContext(null),kh=x.createContext(null),Gr=x.createContext({outlet:null,matches:[],isDataRoute:!1}),ob=x.createContext(null);function LM(t,e){let{relative:n}=e===void 0?{}:e;Sc()||Ze(!1);let{basename:r,navigator:s}=x.useContext(Qi),{hash:i,pathname:o,search:a}=cb(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ls([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Sc(){return x.useContext(kh)!=null}function bc(){return Sc()||Ze(!1),x.useContext(kh).location}function ab(t){x.useContext(Qi).static||x.useLayoutEffect(t)}function Nh(){let{isDataRoute:t}=x.useContext(Gr);return t?JM():VM()}function VM(){Sc()||Ze(!1);let t=x.useContext(Vy),{basename:e,future:n,navigator:r}=x.useContext(Qi),{matches:s}=x.useContext(Gr),{pathname:i}=bc(),o=JSON.stringify(rb(s,n.v7_relativeSplatPath)),a=x.useRef(!1);return ab(()=>{a.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=sb(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ls([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const lb=x.createContext(null);function jM(){return x.useContext(lb)}function FM(t){let e=x.useContext(Gr).outlet;return e&&x.createElement(lb.Provider,{value:t},e)}function UM(){let{matches:t}=x.useContext(Gr),e=t[t.length-1];return e?e.params:{}}function cb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=x.useContext(Qi),{matches:s}=x.useContext(Gr),{pathname:i}=bc(),o=JSON.stringify(rb(s,r.v7_relativeSplatPath));return x.useMemo(()=>sb(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function $M(t,e){return zM(t,e)}function zM(t,e,n,r){Sc()||Ze(!1);let{navigator:s}=x.useContext(Qi),{matches:i}=x.useContext(Gr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=bc(),d;if(e){var h;let E=typeof e=="string"?Ki(e):e;c==="/"||(h=E.pathname)!=null&&h.startsWith(c)||Ze(!1),d=E}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let E=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=fM(t,{pathname:g}),v=GM(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Ls([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Ls([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&v?x.createElement(kh.Provider,{value:{location:Zl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Is.Pop}},v):v}function BM(){let t=XM(),e=OM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,null)}const HM=x.createElement(BM,null);class WM extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?x.createElement(Gr.Provider,{value:this.props.routeContext},x.createElement(ob.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qM(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(Vy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Gr.Provider,{value:e},r)}function GM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,S=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let g,S=!1,v=null,E=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||HM,c&&(u<0&&m===0?(S=!0,E=null):u===m&&(S=!0,E=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),w=()=>{let T;return g?T=v:S?T=E:h.route.Component?T=x.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,x.createElement(qM,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(WM,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var ub=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ub||{}),Fd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fd||{});function KM(t){let e=x.useContext(Vy);return e||Ze(!1),e}function QM(t){let e=x.useContext(MM);return e||Ze(!1),e}function YM(t){let e=x.useContext(Gr);return e||Ze(!1),e}function db(t){let e=YM(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function XM(){var t;let e=x.useContext(ob),n=QM(Fd.UseRouteError),r=db(Fd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function JM(){let{router:t}=KM(ub.UseNavigateStable),e=db(Fd.UseNavigateStable),n=x.useRef(!1);return ab(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zl({fromRouteId:e},i)))},[t,e])}function ZM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function eL(t){return FM(t.context)}function cs(t){Ze(!1)}function tL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Is.Pop,navigator:i,static:o=!1,future:a}=t;Sc()&&Ze(!1);let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:Zl({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Ki(r));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:S="default"}=r,v=x.useMemo(()=>{let E=Ly(d,c);return E==null?null:{location:{pathname:E,search:h,hash:m,state:g,key:S},navigationType:s}},[c,d,h,m,g,S,s]);return v==null?null:x.createElement(Qi.Provider,{value:u},x.createElement(kh.Provider,{children:n,value:v}))}function nL(t){let{children:e,location:n}=t;return $M(Nm(e),n)}new Promise(()=>{});function Nm(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,Nm(r.props.children,i));return}r.type!==cs&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Nm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Om.apply(this,arguments)}function rL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function sL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iL(t,e){return t.button===0&&(!e||e==="_self")&&!sL(t)}const oL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aL="6";try{window.__reactRouterVersion=aL}catch{}const lL="startTransition",f_=Ig[lL];function cL(t){let{basename:e,children:n,future:r,window:s}=t,i=x.useRef();i.current==null&&(i.current=uM({window:s,v5Compat:!0}));let o=i.current,[a,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=x.useCallback(h=>{u&&f_?f_(()=>c(h)):c(h)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>ZM(r),[r]),x.createElement(tL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const uL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dm=x.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=rL(e,oL),{basename:g}=x.useContext(Qi),S,v=!1;if(typeof u=="string"&&dL.test(u)&&(S=u,uL))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),D=Ly(N.pathname,g);N.origin===T.origin&&D!=null?u=D+N.search+N.hash:v=!0}catch{}let E=LM(u,{relative:s}),_=hL(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(T){r&&r(T),T.defaultPrevented||_(T)}return x.createElement("a",Om({},m,{href:S||E,onClick:v||i?r:w,ref:n,target:c}))});var p_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(p_||(p_={}));var m_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(m_||(m_={}));function hL(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Nh(),u=bc(),d=cb(t,{relative:o});return x.useCallback(h=>{if(iL(h,n)){h.preventDefault();let m=r!==void 0?r:jd(u)===jd(d);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,t,i,o,a])}const fL=()=>{};var g_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(m=64)),r.push(n[d],n[h],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new mL;const m=i<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),h!==64){const S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gL=function(t){const e=hb(t);return fb.encodeByteArray(e,!0)},Ud=function(t){return gL(t).replace(/\./g,"")},pb=function(t){try{return fb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=()=>yL().__FIREBASE_DEFAULTS__,wL=()=>{if(typeof process>"u"||typeof g_>"u")return;const t=g_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_L=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pb(t[1]);return e&&JSON.parse(e)},Oh=()=>{try{return fL()||vL()||wL()||_L()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mb=t=>{var e,n;return(n=(e=Oh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},EL=t=>{const e=mb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gb=()=>{var t;return(t=Oh())==null?void 0:t.config},yb=t=>{var e;return(e=Oh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ud(JSON.stringify(n)),Ud(JSON.stringify(o)),""].join(".")}const Sl={};function SL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?t.emulator.push(e):t.prod.push(e);return t}function bL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let y_=!1;function wb(t,e){if(typeof window>"u"||typeof document>"u"||!xa(window.location.host)||Sl[t]===e||Sl[t]||y_)return;Sl[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=SL().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{y_=!0,o()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=bL(r),g=n("text"),S=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),d(E,v);const N=u();c(w,_),T.append(w,S,E,N),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function CL(){var e;const t=(e=Oh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kL(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NL(){return!CL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OL(){try{return typeof indexedDB=="object"}catch{return!1}}function DL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="FirebaseError";class Kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ML,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?LL(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Kr(s,a,r)}}function LL(t,e){return t.replace(VL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VL=/\{\$([^}]+)}/g;function jL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(v_(i)&&v_(o)){if(!Fi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function v_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function al(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FL(t,e){const n=new UL(t,e);return n.subscribe.bind(n)}class UL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$L(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=tp),s.error===void 0&&(s.error=tp),s.complete===void 0&&(s.complete=tp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $L(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class Ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HL(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BL(t){return t===yi?void 0:t}function HL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const qL={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},GL=pe.INFO,KL={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},QL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=KL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jy{constructor(e){this.name=e,this._logLevel=GL,this._logHandler=QL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const YL=(t,e)=>e.some(n=>t instanceof n);let w_,__;function XL(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JL(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _b=new WeakMap,Mm=new WeakMap,Eb=new WeakMap,np=new WeakMap,Fy=new WeakMap;function ZL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Vs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_b.set(n,t)}).catch(()=>{}),Fy.set(e,t),e}function eV(t){if(Mm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Mm.set(t,e)}let Lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Eb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tV(t){Lm=t(Lm)}function nV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rp(this),e,...n);return Eb.set(r,e.sort?e.sort():[e]),Vs(r)}:JL().includes(t)?function(...e){return t.apply(rp(this),e),Vs(_b.get(this))}:function(...e){return Vs(t.apply(rp(this),e))}}function rV(t){return typeof t=="function"?nV(t):(t instanceof IDBTransaction&&eV(t),YL(t,XL())?new Proxy(t,Lm):t)}function Vs(t){if(t instanceof IDBRequest)return ZL(t);if(np.has(t))return np.get(t);const e=rV(t);return e!==t&&(np.set(t,e),Fy.set(e,t)),e}const rp=t=>Fy.get(t);function sV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Vs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Vs(o.result),c.oldVersion,c.newVersion,Vs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iV=["get","getKey","getAll","getAllKeys","count"],oV=["put","add","delete","clear"],sp=new Map;function E_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=oV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||iV.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return sp.set(e,i),i}tV(t=>({...t,get:(e,n,r)=>E_(e,n)||t.get(e,n,r),has:(e,n)=>!!E_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vm="@firebase/app",x_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new jy("@firebase/app"),cV="@firebase/app-compat",uV="@firebase/analytics-compat",dV="@firebase/analytics",hV="@firebase/app-check-compat",fV="@firebase/app-check",pV="@firebase/auth",mV="@firebase/auth-compat",gV="@firebase/database",yV="@firebase/data-connect",vV="@firebase/database-compat",wV="@firebase/functions",_V="@firebase/functions-compat",EV="@firebase/installations",xV="@firebase/installations-compat",TV="@firebase/messaging",SV="@firebase/messaging-compat",bV="@firebase/performance",IV="@firebase/performance-compat",CV="@firebase/remote-config",AV="@firebase/remote-config-compat",PV="@firebase/storage",RV="@firebase/storage-compat",kV="@firebase/firestore",NV="@firebase/ai",OV="@firebase/firestore-compat",DV="firebase",MV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",LV={[Vm]:"fire-core",[cV]:"fire-core-compat",[dV]:"fire-analytics",[uV]:"fire-analytics-compat",[fV]:"fire-app-check",[hV]:"fire-app-check-compat",[pV]:"fire-auth",[mV]:"fire-auth-compat",[gV]:"fire-rtdb",[yV]:"fire-data-connect",[vV]:"fire-rtdb-compat",[wV]:"fire-fn",[_V]:"fire-fn-compat",[EV]:"fire-iid",[xV]:"fire-iid-compat",[TV]:"fire-fcm",[SV]:"fire-fcm-compat",[bV]:"fire-perf",[IV]:"fire-perf-compat",[CV]:"fire-rc",[AV]:"fire-rc-compat",[PV]:"fire-gcs",[RV]:"fire-gcs-compat",[kV]:"fire-fst",[OV]:"fire-fst-compat",[NV]:"fire-vertex","fire-js":"fire-js",[DV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Map,VV=new Map,Fm=new Map;function T_(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function la(t){const e=t.name;if(Fm.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,t);for(const n of $d.values())T_(n,t);for(const n of VV.values())T_(n,t);return!0}function Uy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new Ic("app","Firebase",jV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=MV;function xb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:jm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw js.create("bad-app-name",{appName:String(s)});if(n||(n=gb()),!n)throw js.create("no-options");const i=$d.get(s);if(i){if(Fi(n,i.options)&&Fi(r,i.config))return i;throw js.create("duplicate-app",{appName:s})}const o=new WL(s);for(const c of Fm.values())o.addComponent(c);const a=new FV(n,r,o);return $d.set(s,a),a}function Tb(t=jm){const e=$d.get(t);if(!e&&t===jm&&gb())return xb();if(!e)throw js.create("no-app",{appName:t});return e}function Fs(t,e,n){let r=LV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(o.join(" "));return}la(new Ui(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="firebase-heartbeat-database",$V=1,ec="firebase-heartbeat-store";let ip=null;function Sb(){return ip||(ip=sV(UV,$V,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),ip}async function zV(t){try{const n=(await Sb()).transaction(ec),r=await n.objectStore(ec).get(bb(t));return await n.done,r}catch(e){if(e instanceof Kr)zr.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(n.message)}}}async function S_(t,e){try{const r=(await Sb()).transaction(ec,"readwrite");await r.objectStore(ec).put(e,bb(t)),await r.done}catch(n){if(n instanceof Kr)zr.warn(n.message);else{const r=js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function bb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=1024,HV=30;class WV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=b_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>HV){const o=KV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:r,unsentEntries:s}=qV(this._heartbeatsCache.heartbeats),i=Ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return zr.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function qV(t,e=BV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),I_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),I_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OL()?DL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return S_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I_(t){return Ud(JSON.stringify({version:2,heartbeats:t})).length}function KV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){la(new Ui("platform-logger",e=>new aV(e),"PRIVATE")),la(new Ui("heartbeat",e=>new WV(e),"PRIVATE")),Fs(Vm,x_,t),Fs(Vm,x_,"esm2020"),Fs("fire-js","")}QV("");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,Ib;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function P(){}P.prototype=I.prototype,b.F=I.prototype,b.prototype=new P,b.prototype.constructor=b,b.D=function(R,A,O){for(var k=Array(arguments.length-2),F=2;F<arguments.length;F++)k[F-2]=arguments[F];return I.prototype[A].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,I,P){P||(P=0);const R=Array(16);if(typeof I=="string")for(var A=0;A<16;++A)R[A]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(A=0;A<16;++A)R[A]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=b.g[0],P=b.g[1],A=b.g[2];let O=b.g[3],k;k=I+(O^P&(A^O))+R[0]+3614090360&4294967295,I=P+(k<<7&4294967295|k>>>25),k=O+(A^I&(P^A))+R[1]+3905402710&4294967295,O=I+(k<<12&4294967295|k>>>20),k=A+(P^O&(I^P))+R[2]+606105819&4294967295,A=O+(k<<17&4294967295|k>>>15),k=P+(I^A&(O^I))+R[3]+3250441966&4294967295,P=A+(k<<22&4294967295|k>>>10),k=I+(O^P&(A^O))+R[4]+4118548399&4294967295,I=P+(k<<7&4294967295|k>>>25),k=O+(A^I&(P^A))+R[5]+1200080426&4294967295,O=I+(k<<12&4294967295|k>>>20),k=A+(P^O&(I^P))+R[6]+2821735955&4294967295,A=O+(k<<17&4294967295|k>>>15),k=P+(I^A&(O^I))+R[7]+4249261313&4294967295,P=A+(k<<22&4294967295|k>>>10),k=I+(O^P&(A^O))+R[8]+1770035416&4294967295,I=P+(k<<7&4294967295|k>>>25),k=O+(A^I&(P^A))+R[9]+2336552879&4294967295,O=I+(k<<12&4294967295|k>>>20),k=A+(P^O&(I^P))+R[10]+4294925233&4294967295,A=O+(k<<17&4294967295|k>>>15),k=P+(I^A&(O^I))+R[11]+2304563134&4294967295,P=A+(k<<22&4294967295|k>>>10),k=I+(O^P&(A^O))+R[12]+1804603682&4294967295,I=P+(k<<7&4294967295|k>>>25),k=O+(A^I&(P^A))+R[13]+4254626195&4294967295,O=I+(k<<12&4294967295|k>>>20),k=A+(P^O&(I^P))+R[14]+2792965006&4294967295,A=O+(k<<17&4294967295|k>>>15),k=P+(I^A&(O^I))+R[15]+1236535329&4294967295,P=A+(k<<22&4294967295|k>>>10),k=I+(A^O&(P^A))+R[1]+4129170786&4294967295,I=P+(k<<5&4294967295|k>>>27),k=O+(P^A&(I^P))+R[6]+3225465664&4294967295,O=I+(k<<9&4294967295|k>>>23),k=A+(I^P&(O^I))+R[11]+643717713&4294967295,A=O+(k<<14&4294967295|k>>>18),k=P+(O^I&(A^O))+R[0]+3921069994&4294967295,P=A+(k<<20&4294967295|k>>>12),k=I+(A^O&(P^A))+R[5]+3593408605&4294967295,I=P+(k<<5&4294967295|k>>>27),k=O+(P^A&(I^P))+R[10]+38016083&4294967295,O=I+(k<<9&4294967295|k>>>23),k=A+(I^P&(O^I))+R[15]+3634488961&4294967295,A=O+(k<<14&4294967295|k>>>18),k=P+(O^I&(A^O))+R[4]+3889429448&4294967295,P=A+(k<<20&4294967295|k>>>12),k=I+(A^O&(P^A))+R[9]+568446438&4294967295,I=P+(k<<5&4294967295|k>>>27),k=O+(P^A&(I^P))+R[14]+3275163606&4294967295,O=I+(k<<9&4294967295|k>>>23),k=A+(I^P&(O^I))+R[3]+4107603335&4294967295,A=O+(k<<14&4294967295|k>>>18),k=P+(O^I&(A^O))+R[8]+1163531501&4294967295,P=A+(k<<20&4294967295|k>>>12),k=I+(A^O&(P^A))+R[13]+2850285829&4294967295,I=P+(k<<5&4294967295|k>>>27),k=O+(P^A&(I^P))+R[2]+4243563512&4294967295,O=I+(k<<9&4294967295|k>>>23),k=A+(I^P&(O^I))+R[7]+1735328473&4294967295,A=O+(k<<14&4294967295|k>>>18),k=P+(O^I&(A^O))+R[12]+2368359562&4294967295,P=A+(k<<20&4294967295|k>>>12),k=I+(P^A^O)+R[5]+4294588738&4294967295,I=P+(k<<4&4294967295|k>>>28),k=O+(I^P^A)+R[8]+2272392833&4294967295,O=I+(k<<11&4294967295|k>>>21),k=A+(O^I^P)+R[11]+1839030562&4294967295,A=O+(k<<16&4294967295|k>>>16),k=P+(A^O^I)+R[14]+4259657740&4294967295,P=A+(k<<23&4294967295|k>>>9),k=I+(P^A^O)+R[1]+2763975236&4294967295,I=P+(k<<4&4294967295|k>>>28),k=O+(I^P^A)+R[4]+1272893353&4294967295,O=I+(k<<11&4294967295|k>>>21),k=A+(O^I^P)+R[7]+4139469664&4294967295,A=O+(k<<16&4294967295|k>>>16),k=P+(A^O^I)+R[10]+3200236656&4294967295,P=A+(k<<23&4294967295|k>>>9),k=I+(P^A^O)+R[13]+681279174&4294967295,I=P+(k<<4&4294967295|k>>>28),k=O+(I^P^A)+R[0]+3936430074&4294967295,O=I+(k<<11&4294967295|k>>>21),k=A+(O^I^P)+R[3]+3572445317&4294967295,A=O+(k<<16&4294967295|k>>>16),k=P+(A^O^I)+R[6]+76029189&4294967295,P=A+(k<<23&4294967295|k>>>9),k=I+(P^A^O)+R[9]+3654602809&4294967295,I=P+(k<<4&4294967295|k>>>28),k=O+(I^P^A)+R[12]+3873151461&4294967295,O=I+(k<<11&4294967295|k>>>21),k=A+(O^I^P)+R[15]+530742520&4294967295,A=O+(k<<16&4294967295|k>>>16),k=P+(A^O^I)+R[2]+3299628645&4294967295,P=A+(k<<23&4294967295|k>>>9),k=I+(A^(P|~O))+R[0]+4096336452&4294967295,I=P+(k<<6&4294967295|k>>>26),k=O+(P^(I|~A))+R[7]+1126891415&4294967295,O=I+(k<<10&4294967295|k>>>22),k=A+(I^(O|~P))+R[14]+2878612391&4294967295,A=O+(k<<15&4294967295|k>>>17),k=P+(O^(A|~I))+R[5]+4237533241&4294967295,P=A+(k<<21&4294967295|k>>>11),k=I+(A^(P|~O))+R[12]+1700485571&4294967295,I=P+(k<<6&4294967295|k>>>26),k=O+(P^(I|~A))+R[3]+2399980690&4294967295,O=I+(k<<10&4294967295|k>>>22),k=A+(I^(O|~P))+R[10]+4293915773&4294967295,A=O+(k<<15&4294967295|k>>>17),k=P+(O^(A|~I))+R[1]+2240044497&4294967295,P=A+(k<<21&4294967295|k>>>11),k=I+(A^(P|~O))+R[8]+1873313359&4294967295,I=P+(k<<6&4294967295|k>>>26),k=O+(P^(I|~A))+R[15]+4264355552&4294967295,O=I+(k<<10&4294967295|k>>>22),k=A+(I^(O|~P))+R[6]+2734768916&4294967295,A=O+(k<<15&4294967295|k>>>17),k=P+(O^(A|~I))+R[13]+1309151649&4294967295,P=A+(k<<21&4294967295|k>>>11),k=I+(A^(P|~O))+R[4]+4149444226&4294967295,I=P+(k<<6&4294967295|k>>>26),k=O+(P^(I|~A))+R[11]+3174756917&4294967295,O=I+(k<<10&4294967295|k>>>22),k=A+(I^(O|~P))+R[2]+718787259&4294967295,A=O+(k<<15&4294967295|k>>>17),k=P+(O^(A|~I))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+A&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.v=function(b,I){I===void 0&&(I=b.length);const P=I-this.blockSize,R=this.C;let A=this.h,O=0;for(;O<I;){if(A==0)for(;O<=P;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<I;)if(R[A++]=b.charCodeAt(O++),A==this.blockSize){s(this,R),A=0;break}}else for(;O<I;)if(R[A++]=b[O++],A==this.blockSize){s(this,R),A=0;break}}this.h=A,this.o+=I},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;I=this.o*8;for(var P=b.length-8;P<b.length;++P)b[P]=I&255,I/=256;for(this.v(b),b=Array(16),I=0,P=0;P<4;++P)for(let R=0;R<32;R+=8)b[I++]=this.g[P]>>>R&255;return b};function i(b,I){var P=a;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=I(b)}function o(b,I){this.h=I;const P=[];let R=!0;for(let A=b.length-1;A>=0;A--){const O=b[A]|0;R&&O==I||(P[A]=O,R=!1)}this.g=P}var a={};function c(b){return-128<=b&&b<128?i(b,function(I){return new o([I|0],I<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(b<0)return E(u(-b));const I=[];let P=1;for(let R=0;b>=P;R++)I[R]=b/P|0,P*=4294967296;return new o(I,0)}function d(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return E(d(b.substring(1),I));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=u(Math.pow(I,8));let R=h;for(let O=0;O<b.length;O+=8){var A=Math.min(8,b.length-O);const k=parseInt(b.substring(O,O+A),I);A<8?(A=u(Math.pow(I,A)),R=R.j(A).add(u(k))):(R=R.j(P),R=R.add(u(k)))}return R}var h=c(0),m=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();let b=0,I=1;for(let P=0;P<this.g.length;P++){const R=this.i(P);b+=(R>=0?R:4294967296+R)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(v(this))return"-"+E(this).toString(b);const I=u(Math.pow(b,6));var P=this;let R="";for(;;){const A=N(P,I).g;P=_(P,A.j(I));let O=((P.g.length>0?P.g[0]:P.h)>>>0).toString(b);if(P=A,S(P))return O+R;for(;O.length<6;)O="0"+O;R=O+R}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(let I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=_(this,b),v(b)?-1:S(b)?0:1};function E(b){const I=b.g.length,P=[];for(let R=0;R<I;R++)P[R]=~b.g[R];return new o(P,~b.h).add(m)}t.abs=function(){return v(this)?E(this):this},t.add=function(b){const I=Math.max(this.g.length,b.g.length),P=[];let R=0;for(let A=0;A<=I;A++){let O=R+(this.i(A)&65535)+(b.i(A)&65535),k=(O>>>16)+(this.i(A)>>>16)+(b.i(A)>>>16);R=k>>>16,O&=65535,k&=65535,P[A]=k<<16|O}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(b,I){return b.add(E(I))}t.j=function(b){if(S(this)||S(b))return h;if(v(this))return v(b)?E(this).j(E(b)):E(E(this).j(b));if(v(b))return E(this.j(E(b)));if(this.l(g)<0&&b.l(g)<0)return u(this.m()*b.m());const I=this.g.length+b.g.length,P=[];for(var R=0;R<2*I;R++)P[R]=0;for(R=0;R<this.g.length;R++)for(let A=0;A<b.g.length;A++){const O=this.i(R)>>>16,k=this.i(R)&65535,F=b.i(A)>>>16,q=b.i(A)&65535;P[2*R+2*A]+=k*q,w(P,2*R+2*A),P[2*R+2*A+1]+=O*q,w(P,2*R+2*A+1),P[2*R+2*A+1]+=k*F,w(P,2*R+2*A+1),P[2*R+2*A+2]+=O*F,w(P,2*R+2*A+2)}for(b=0;b<I;b++)P[b]=P[2*b+1]<<16|P[2*b];for(b=I;b<2*I;b++)P[b]=0;return new o(P,0)};function w(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function T(b,I){this.g=b,this.h=I}function N(b,I){if(S(I))throw Error("division by zero");if(S(b))return new T(h,h);if(v(b))return I=N(E(b),I),new T(E(I.g),E(I.h));if(v(I))return I=N(b,E(I)),new T(E(I.g),I.h);if(b.g.length>30){if(v(b)||v(I))throw Error("slowDivide_ only works with positive integers.");for(var P=m,R=I;R.l(b)<=0;)P=D(P),R=D(R);var A=M(P,1),O=M(R,1);for(R=M(R,2),P=M(P,2);!S(R);){var k=O.add(R);k.l(b)<=0&&(A=A.add(P),O=k),R=M(R,1),P=M(P,1)}return I=_(b,A.j(I)),new T(A,I)}for(A=h;b.l(I)>=0;){for(P=Math.max(1,Math.floor(b.m()/I.m())),R=Math.ceil(Math.log(P)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),O=u(P),k=O.j(I);v(k)||k.l(b)>0;)P-=R,O=u(P),k=O.j(I);S(O)&&(O=m),A=A.add(O),b=_(b,k)}return new T(A,b)}t.B=function(b){return N(this,b).h},t.and=function(b){const I=Math.max(this.g.length,b.g.length),P=[];for(let R=0;R<I;R++)P[R]=this.i(R)&b.i(R);return new o(P,this.h&b.h)},t.or=function(b){const I=Math.max(this.g.length,b.g.length),P=[];for(let R=0;R<I;R++)P[R]=this.i(R)|b.i(R);return new o(P,this.h|b.h)},t.xor=function(b){const I=Math.max(this.g.length,b.g.length),P=[];for(let R=0;R<I;R++)P[R]=this.i(R)^b.i(R);return new o(P,this.h^b.h)};function D(b){const I=b.g.length+1,P=[];for(let R=0;R<I;R++)P[R]=b.i(R)<<1|b.i(R-1)>>>31;return new o(P,b.h)}function M(b,I){const P=I>>5;I%=32;const R=b.g.length-P,A=[];for(let O=0;O<R;O++)A[O]=I>0?b.i(O+P)>>>I|b.i(O+P+1)<<32-I:b.i(O+P);return new o(A,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ib=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Us=o}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cb,cl,Ab,Ku,Um,Pb,Rb,kb;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eu=="object"&&Eu];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(l,f){if(f)e:{var y=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var L=l[C];if(!(L in y))break e;y=y[L]}l=l[l.length-1],C=y[l],f=f(C),f!=C&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(f){var y=[],C;for(C in f)Object.prototype.hasOwnProperty.call(f,C)&&y.push([C,f[C]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function c(l,f,y){return l.call.apply(l.bind,arguments)}function u(l,f,y){return u=c,u.apply(null,arguments)}function d(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var C=y.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function h(l,f){function y(){}y.prototype=f.prototype,l.Z=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(C,L,V){for(var G=Array(arguments.length-2),he=2;he<arguments.length;he++)G[he-2]=arguments[he];return f.prototype[L].apply(C,G)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function g(l){const f=l.length;if(f>0){const y=Array(f);for(let C=0;C<f;C++)y[C]=l[C];return y}return[]}function S(l,f){for(let C=1;C<arguments.length;C++){const L=arguments[C];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=l.length||0;const V=L.length||0;l.length=y+V;for(let G=0;G<V;G++)l[y+G]=L[G]}else l.push(L)}}class v{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(l){o.setTimeout(()=>{throw l},0)}function _(){var l=b;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class w{constructor(){this.h=this.g=null}add(f,y){const C=T.get();C.set(f,y),this.h?this.h.next=C:this.g=C,this.h=C}}var T=new v(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,b=new w,I=()=>{const l=Promise.resolve(void 0);D=()=>{l.then(P)}};function P(){for(var l;l=_();){try{l.h.call(l.g)}catch(y){E(y)}var f=T;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};o.addEventListener("test",y,f),o.removeEventListener("test",y,f)}catch{}return l}();function k(l){return/^[\s\xa0]*$/.test(l)}function F(l,f){A.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}h(F,A),F.prototype.init=function(l,f){const y=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),Q=0;function Z(l,f,y,C,L){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!C,this.ha=L,this.key=++Q,this.da=this.fa=!1}function j(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function z(l,f,y){for(const C in l)f.call(y,l[C],C,l)}function K(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function ie(l){const f={};for(const y in l)f[y]=l[y];return f}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(l,f){let y,C;for(let L=1;L<arguments.length;L++){C=arguments[L];for(y in C)l[y]=C[y];for(let V=0;V<ee.length;V++)y=ee[V],Object.prototype.hasOwnProperty.call(C,y)&&(l[y]=C[y])}}function ce(l){this.src=l,this.g={},this.h=0}ce.prototype.add=function(l,f,y,C,L){const V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);const G=Ke(l,f,C,L);return G>-1?(f=l[G],y||(f.fa=!1)):(f=new Z(f,this.src,V,!!C,L),f.fa=y,l.push(f)),f};function Oe(l,f){const y=f.type;if(y in l.g){var C=l.g[y],L=Array.prototype.indexOf.call(C,f,void 0),V;(V=L>=0)&&Array.prototype.splice.call(C,L,1),V&&(j(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Ke(l,f,y,C){for(let L=0;L<l.length;++L){const V=l[L];if(!V.da&&V.listener==f&&V.capture==!!y&&V.ha==C)return L}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),zn={};function _n(l,f,y,C,L){if(Array.isArray(f)){for(let V=0;V<f.length;V++)_n(l,f[V],y,C,L);return null}return y=Yr(y),l&&l[q]?l.J(f,y,a(C)?!!C.capture:!!C,L):wr(l,f,y,!1,C,L)}function wr(l,f,y,C,L,V){if(!f)throw Error("Invalid event type");const G=a(L)?!!L.capture:!!L;let he=Qr(l);if(he||(l[ye]=he=new ce(l)),y=he.add(f,y,C,G,V),y.proxy)return y;if(C=Bn(),y.proxy=C,C.src=l,C.listener=y,l.addEventListener)O||(L=G),L===void 0&&(L=!1),l.addEventListener(f.toString(),C,L);else if(l.attachEvent)l.attachEvent(ai(f.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Bn(){function l(y){return f.call(l.src,l.listener,y)}const f=Ra;return l}function _r(l,f,y,C,L){if(Array.isArray(f))for(var V=0;V<f.length;V++)_r(l,f[V],y,C,L);else C=a(C)?!!C.capture:!!C,y=Yr(y),l&&l[q]?(l=l.i,V=String(f).toString(),V in l.g&&(f=l.g[V],y=Ke(f,y,C,L),y>-1&&(j(f[y]),Array.prototype.splice.call(f,y,1),f.length==0&&(delete l.g[V],l.h--)))):l&&(l=Qr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Ke(f,y,C,L)),(y=l>-1?f[l]:null)&&on(y))}function on(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[q])Oe(f.i,l);else{var y=l.type,C=l.proxy;f.removeEventListener?f.removeEventListener(y,C,l.capture):f.detachEvent?f.detachEvent(ai(y),C):f.addListener&&f.removeListener&&f.removeListener(C),(y=Qr(f))?(Oe(y,l),y.h==0&&(y.src=null,f[ye]=null)):j(l)}}}function ai(l){return l in zn?zn[l]:zn[l]="on"+l}function Ra(l,f){if(l.da)l=!0;else{f=new F(f,this);const y=l.listener,C=l.ha||l.src;l.fa&&on(l),l=y.call(C,f)}return l}function Qr(l){return l=l[ye],l instanceof ce?l:null}var li="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yr(l){return typeof l=="function"?l:(l[li]||(l[li]=function(f){return l.handleEvent(f)}),l[li])}function Le(){R.call(this),this.i=new ce(this),this.M=this,this.G=null}h(Le,R),Le.prototype[q]=!0,Le.prototype.removeEventListener=function(l,f,y,C){_r(this,l,f,y,C)};function at(l,f){var y,C=l.G;if(C)for(y=[];C;C=C.G)y.push(C);if(l=l.M,C=f.type||f,typeof f=="string")f=new A(f,l);else if(f instanceof A)f.target=f.target||l;else{var L=f;f=new A(C,l),de(f,L)}L=!0;let V,G;if(y)for(G=y.length-1;G>=0;G--)V=f.g=y[G],L=Hn(V,C,!0,f)&&L;if(V=f.g=l,L=Hn(V,C,!0,f)&&L,L=Hn(V,C,!1,f)&&L,y)for(G=0;G<y.length;G++)V=f.g=y[G],L=Hn(V,C,!1,f)&&L}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const y=l.g[f];for(let C=0;C<y.length;C++)j(y[C]);delete l.g[f],l.h--}}this.G=null},Le.prototype.J=function(l,f,y,C){return this.i.add(String(l),f,!1,y,C)},Le.prototype.K=function(l,f,y,C){return this.i.add(String(l),f,!0,y,C)};function Hn(l,f,y,C){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let L=!0;for(let V=0;V<f.length;++V){const G=f[V];if(G&&!G.da&&G.capture==y){const he=G.listener,nt=G.ha||G.src;G.fa&&Oe(l.i,G),L=he.call(nt,C)!==!1&&L}}return L&&!C.defaultPrevented}function jc(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(l,f||0)}function Wn(l){l.g=jc(()=>{l.g=null,l.i&&(l.i=!1,Wn(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class nf extends R{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Wn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ci(l){R.call(this),this.h=l,this.g={}}h(ci,R);var Pt=[];function Er(l){z(l.g,function(f,y){this.g.hasOwnProperty(y)&&on(f)},l),l.g={}}ci.prototype.N=function(){ci.Z.N.call(this),Er(this)},ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=o.JSON.stringify,rf=o.JSON.parse,eo=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Fc(){}function Na(){}var xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qn(){A.call(this,"d")}h(qn,A);function to(){A.call(this,"c")}h(to,A);var Vt={},Uc=null;function no(){return Uc=Uc||new Le}Vt.Ia="serverreachability";function Oa(l){A.call(this,Vt.Ia,l)}h(Oa,A);function Xr(l){const f=no();at(f,new Oa(f))}Vt.STAT_EVENT="statevent";function $c(l,f){A.call(this,Vt.STAT_EVENT,l),this.stat=f}h($c,A);function tt(l){const f=no();at(f,new $c(f,l))}Vt.Ja="timingevent";function En(l,f){A.call(this,Vt.Ja,l),this.size=f}h(En,A);function ui(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function Ee(l,f,y,C,L,V){l.info(function(){if(l.g)if(V){var G="",he=V.split("&");for(let Se=0;Se<he.length;Se++){var nt=he[Se].split("=");if(nt.length>1){const ct=nt[0];nt=nt[1];const Qn=ct.split("_");G=Qn.length>=2&&Qn[1]=="type"?G+(ct+"="+nt+"&"):G+(ct+"=redacted&")}}}else G=null;else G=V;return"XMLHTTP REQ ("+C+") [attempt "+L+"]: "+f+`
`+y+`
`+G})}function be(l,f,y,C,L,V,G){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+L+"]: "+f+`
`+y+`
`+V+" "+G})}function lt(l,f,y,C){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Gn(l,y)+(C?" "+C:"")})}function Kt(l,f){l.info(function(){return"TIMEOUT: "+f})}ne.prototype.info=function(){};function Gn(l,f){if(!l.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(l=0;l<V.length;l++)if(Array.isArray(V[l])){var y=V[l];if(!(y.length<2)){var C=y[1];if(Array.isArray(C)&&!(C.length<1)){var L=C[0];if(L!="noop"&&L!="stop"&&L!="close")for(let G=1;G<C.length;G++)C[G]=""}}}}return ka(V)}catch{return f}}var an={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xn;function sf(){}h(sf,Fc),sf.prototype.g=function(){return new XMLHttpRequest},xn=new sf;function Da(l){return encodeURIComponent(String(l))}function kA(l){var f=1;l=l.split(":");const y=[];for(;f>0&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function Jr(l,f,y,C){this.j=l,this.i=f,this.l=y,this.S=C||1,this.V=new ci(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fv}function Fv(){this.i=null,this.g="",this.h=!1}var Uv={},of={};function af(l,f,y){l.M=1,l.A=Bc(Kn(f)),l.u=y,l.R=!0,$v(l,null)}function $v(l,f){l.F=Date.now(),zc(l),l.B=Kn(l.A);var y=l.B,C=l.S;Array.isArray(C)||(C=[String(C)]),ew(y.i,"t",C),l.C=0,y=l.j.L,l.h=new Fv,l.g=vw(l.j,y?f:null,!l.u),l.P>0&&(l.O=new nf(u(l.Y,l,l.g),l.P)),f=l.V,y=l.g,C=l.ba;var L="readystatechange";Array.isArray(L)||(L&&(Pt[0]=L.toString()),L=Pt);for(let V=0;V<L.length;V++){const G=_n(y,L[V],C||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=l.J?ie(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),Xr(),Ee(l.i,l.v,l.B,l.l,l.S,l.u)}Jr.prototype.ba=function(l){l=l.target;const f=this.O;f&&ts(l)==3?f.j():this.Y(l)},Jr.prototype.Y=function(l){try{if(l==this.g)e:{const he=ts(this.g),nt=this.g.ya(),Se=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||aw(this.g)))){this.K||he!=4||nt==7||(nt==8||Se<=0?Xr(3):Xr(2)),lf(this);var f=this.g.ca();this.X=f;var y=NA(this);if(this.o=f==200,be(this.i,this.v,this.B,this.l,this.S,he,f),this.o){if(this.U&&!this.L){t:{if(this.g){var C,L=this.g;if((C=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(C)){var V=C;break t}}V=null}if(l=V)lt(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cf(this,l);else{this.o=!1,this.m=3,tt(12),di(this),Ma(this);break e}}if(this.R){l=!0;let ct;for(;!this.K&&this.C<y.length;)if(ct=OA(this,y),ct==of){he==4&&(this.m=4,tt(14),l=!1),lt(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Uv){this.m=4,tt(15),lt(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else lt(this.i,this.l,ct,null),cf(this,ct);if(zv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||y.length!=0||this.h.h||(this.m=1,tt(16),l=!1),this.o=this.o&&l,!l)lt(this.i,this.l,y,"[Invalid Chunked Response]"),di(this),Ma(this);else if(y.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),yf(G),G.P=!0,tt(11))}}else lt(this.i,this.l,y,null),cf(this,y);he==4&&di(this),this.o&&!this.K&&(he==4?pw(this.j,this):(this.o=!1,zc(this)))}else GA(this.g),f==400&&y.indexOf("Unknown SID")>0?(this.m=3,tt(12)):(this.m=0,tt(13)),di(this),Ma(this)}}}catch{}finally{}};function NA(l){if(!zv(l))return l.g.la();const f=aw(l.g);if(f==="")return"";let y="";const C=f.length,L=ts(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return di(l),Ma(l),"";l.h.i=new o.TextDecoder}for(let V=0;V<C;V++)l.h.h=!0,y+=l.h.i.decode(f[V],{stream:!(L&&V==C-1)});return f.length=0,l.h.g+=y,l.C=0,l.h.g}function zv(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function OA(l,f){var y=l.C,C=f.indexOf(`
`,y);return C==-1?of:(y=Number(f.substring(y,C)),isNaN(y)?Uv:(C+=1,C+y>f.length?of:(f=f.slice(C,C+y),l.C=C+y,f)))}Jr.prototype.cancel=function(){this.K=!0,di(this)};function zc(l){l.T=Date.now()+l.H,Bv(l,l.H)}function Bv(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ui(u(l.aa,l),f)}function lf(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Jr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Kt(this.i,this.B),this.M!=2&&(Xr(),tt(17)),di(this),this.m=2,Ma(this)):Bv(this,this.T-l)};function Ma(l){l.j.I==0||l.K||pw(l.j,l)}function di(l){lf(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,Er(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function cf(l,f){try{var y=l.j;if(y.I!=0&&(y.g==l||uf(y.h,l))){if(!l.L&&uf(y.h,l)&&y.I==3){try{var C=y.Ba.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var L=C;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)Kc(y),qc(y);else break e;gf(y),tt(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ui(u(y.Va,y),6e3));qv(y.h)<=1&&y.ta&&(y.ta=void 0)}else fi(y,11)}else if((l.L||y.g==l)&&Kc(y),!k(f))for(L=y.Ba.g.parse(f),f=0;f<L.length;f++){let Se=L[f];const ct=Se[0];if(!(ct<=y.K))if(y.K=ct,Se=Se[1],y.I==2)if(Se[0]=="c"){y.M=Se[1],y.ba=Se[2];const Qn=Se[3];Qn!=null&&(y.ka=Qn,y.j.info("VER="+y.ka));const pi=Se[4];pi!=null&&(y.za=pi,y.j.info("SVER="+y.za));const ns=Se[5];ns!=null&&typeof ns=="number"&&ns>0&&(C=1.5*ns,y.O=C,y.j.info("backChannelRequestTimeoutMs_="+C)),C=y;const rs=l.g;if(rs){const Yc=rs.g?rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var V=C.h;V.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(df(V,V.h),V.h=null))}if(C.G){const vf=rs.g?rs.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(C.wa=vf,Ae(C.J,C.G,vf))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),C=y;var G=l;if(C.na=yw(C,C.L?C.ba:null,C.W),G.L){Gv(C.h,G);var he=G,nt=C.O;nt&&(he.H=nt),he.D&&(lf(he),zc(he)),C.g=G}else hw(C);y.i.length>0&&Gc(y)}else Se[0]!="stop"&&Se[0]!="close"||fi(y,7);else y.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?fi(y,7):mf(y):Se[0]!="noop"&&y.l&&y.l.qa(Se),y.A=0)}}Xr(4)}catch{}}var DA=class{constructor(l,f){this.g=l,this.map=f}};function Hv(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function qv(l){return l.h?1:l.g?l.g.size:0}function uf(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function df(l,f){l.g?l.g.add(f):l.h=f}function Gv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Hv.prototype.cancel=function(){if(this.i=Kv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Kv(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.G);return f}return g(l.i)}var Qv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MA(l,f){if(l){l=l.split("&");for(let y=0;y<l.length;y++){const C=l[y].indexOf("=");let L,V=null;C>=0?(L=l[y].substring(0,C),V=l[y].substring(C+1)):L=l[y],f(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Zr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof Zr?(this.l=l.l,La(this,l.j),this.o=l.o,this.g=l.g,Va(this,l.u),this.h=l.h,hf(this,tw(l.i)),this.m=l.m):l&&(f=String(l).match(Qv))?(this.l=!1,La(this,f[1]||"",!0),this.o=ja(f[2]||""),this.g=ja(f[3]||"",!0),Va(this,f[4]),this.h=ja(f[5]||"",!0),hf(this,f[6]||"",!0),this.m=ja(f[7]||"")):(this.l=!1,this.i=new Ua(null,this.l))}Zr.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(Fa(f,Yv,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Fa(f,Yv,!0),"@"),l.push(Da(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Fa(y,y.charAt(0)=="/"?jA:VA,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Fa(y,UA)),l.join("")},Zr.prototype.resolve=function(l){const f=Kn(this);let y=!!l.j;y?La(f,l.j):y=!!l.o,y?f.o=l.o:y=!!l.g,y?f.g=l.g:y=l.u!=null;var C=l.h;if(y)Va(f,l.u);else if(y=!!l.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var L=f.h.lastIndexOf("/");L!=-1&&(C=f.h.slice(0,L+1)+C)}if(L=C,L==".."||L==".")C="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){C=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let G=0;G<L.length;){const he=L[G++];he=="."?C&&G==L.length&&V.push(""):he==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),C&&G==L.length&&V.push("")):(V.push(he),C=!0)}C=V.join("/")}else C=L}return y?f.h=C:y=l.i.toString()!=="",y?hf(f,tw(l.i)):y=!!l.m,y&&(f.m=l.m),f};function Kn(l){return new Zr(l)}function La(l,f,y){l.j=y?ja(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Va(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function hf(l,f,y){f instanceof Ua?(l.i=f,$A(l.i,l.l)):(y||(f=Fa(f,FA)),l.i=new Ua(f,l.l))}function Ae(l,f,y){l.i.set(f,y)}function Bc(l){return Ae(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function ja(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Fa(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,LA),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function LA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Yv=/[#\/\?@]/g,VA=/[#\?:]/g,jA=/[#\?]/g,FA=/[#\?@]/g,UA=/#/g;function Ua(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function hi(l){l.g||(l.g=new Map,l.h=0,l.i&&MA(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}t=Ua.prototype,t.add=function(l,f){hi(this),this.i=null,l=ro(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function Xv(l,f){hi(l),f=ro(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Jv(l,f){return hi(l),f=ro(l,f),l.g.has(f)}t.forEach=function(l,f){hi(this),this.g.forEach(function(y,C){y.forEach(function(L){l.call(f,L,C,this)},this)},this)};function Zv(l,f){hi(l);let y=[];if(typeof f=="string")Jv(l,f)&&(y=y.concat(l.g.get(ro(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)y=y.concat(l[f]);return y}t.set=function(l,f){return hi(this),this.i=null,l=ro(this,l),Jv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=Zv(this,l),l.length>0?String(l[0]):f):f};function ew(l,f,y){Xv(l,f),y.length>0&&(l.i=null,l.g.set(ro(l,f),g(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let C=0;C<f.length;C++){var y=f[C];const L=Da(y);y=Zv(this,y);for(let V=0;V<y.length;V++){let G=L;y[V]!==""&&(G+="="+Da(y[V])),l.push(G)}}return this.i=l.join("&")};function tw(l){const f=new Ua;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function ro(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function $A(l,f){f&&!l.j&&(hi(l),l.i=null,l.g.forEach(function(y,C){const L=C.toLowerCase();C!=L&&(Xv(this,C),ew(this,L,y))},l)),l.j=f}function zA(l,f){const y=new ne;if(o.Image){const C=new Image;C.onload=d(es,y,"TestLoadImage: loaded",!0,f,C),C.onerror=d(es,y,"TestLoadImage: error",!1,f,C),C.onabort=d(es,y,"TestLoadImage: abort",!1,f,C),C.ontimeout=d(es,y,"TestLoadImage: timeout",!1,f,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else f(!1)}function BA(l,f){const y=new ne,C=new AbortController,L=setTimeout(()=>{C.abort(),es(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:C.signal}).then(V=>{clearTimeout(L),V.ok?es(y,"TestPingServer: ok",!0,f):es(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),es(y,"TestPingServer: error",!1,f)})}function es(l,f,y,C,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),C(y)}catch{}}function HA(){this.g=new eo}function ff(l){this.i=l.Sb||null,this.h=l.ab||!1}h(ff,Fc),ff.prototype.g=function(){return new Hc(this.i,this.h)};function Hc(l,f){Le.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Hc,Le),t=Hc.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,za(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,za(this)),this.g&&(this.readyState=3,za(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nw(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function nw(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?$a(this):za(this),this.readyState==3&&nw(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,$a(this))},t.Na=function(l){this.g&&(this.response=l,$a(this))},t.ga=function(){this.g&&$a(this)};function $a(l){l.readyState=4,l.l=null,l.j=null,l.B=null,za(l)}t.setRequestHeader=function(l,f){this.A.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function za(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rw(l){let f="";return z(l,function(y,C){f+=C,f+=":",f+=y,f+=`\r
`}),f}function pf(l,f,y){e:{for(C in y){var C=!1;break e}C=!0}C||(y=rw(y),typeof l=="string"?y!=null&&Da(y):Ae(l,f,y))}function $e(l){Le.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h($e,Le);var WA=/^https?$/i,qA=["POST","PUT"];t=$e.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,f,y,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){sw(this,V);return}if(l=y||"",y=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var L in C)y.set(L,C[L]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const V of C.keys())y.set(V,C.get(V));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(qA,f,void 0)>=0)||C||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,G]of y)this.g.setRequestHeader(V,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(V){sw(this,V)}};function sw(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,iw(l),Wc(l)}function iw(l){l.A||(l.A=!0,at(l,"complete"),at(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,at(this,"complete"),at(this,"abort"),Wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ow(this):this.Xa())},t.Xa=function(){ow(this)};function ow(l){if(l.h&&typeof i<"u"){if(l.v&&ts(l)==4)setTimeout(l.Ca.bind(l),0);else if(at(l,"readystatechange"),ts(l)==4){l.h=!1;try{const V=l.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var C;if(C=V===0){let G=String(l.D).match(Qv)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),C=!WA.test(G?G.toLowerCase():"")}y=C}if(y)at(l,"complete"),at(l,"success");else{l.o=6;try{var L=ts(l)>2?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.ca()+"]",iw(l)}}finally{Wc(l)}}}}function Wc(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const y=l.g;l.g=null,f||at(l,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ts(l){return l.g?l.g.readyState:0}t.ca=function(){try{return ts(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),rf(f)}};function aw(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function GA(l){const f={};l=(l.g&&ts(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(k(l[C]))continue;var y=kA(l[C]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=f[L]||[];f[L]=V,V.push(y)}K(f,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ba(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function lw(l){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ba("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ba("baseRetryDelayMs",5e3,l),this.Za=Ba("retryDelaySeedMs",1e4,l),this.Ta=Ba("forwardChannelMaxRetries",2,l),this.va=Ba("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Hv(l&&l.concurrentRequestLimit),this.Ba=new HA,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lw.prototype,t.ka=8,t.I=1,t.connect=function(l,f,y,C){tt(0),this.W=l,this.H=f||{},y&&C!==void 0&&(this.H.OSID=y,this.H.OAID=C),this.F=this.X,this.J=yw(this,null,this.W),Gc(this)};function mf(l){if(cw(l),l.I==3){var f=l.V++,y=Kn(l.J);if(Ae(y,"SID",l.M),Ae(y,"RID",f),Ae(y,"TYPE","terminate"),Ha(l,y),f=new Jr(l,l.j,f),f.M=2,f.A=Bc(Kn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=f.A,y=!0),y||(f.g=vw(f.j,null),f.g.ea(f.A)),f.F=Date.now(),zc(f)}gw(l)}function qc(l){l.g&&(yf(l),l.g.cancel(),l.g=null)}function cw(l){qc(l),l.v&&(o.clearTimeout(l.v),l.v=null),Kc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Gc(l){if(!Wv(l.h)&&!l.m){l.m=!0;var f=l.Ea;D||I(),M||(D(),M=!0),b.add(f,l),l.D=0}}function KA(l,f){return qv(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ui(u(l.Ea,l,f),mw(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const L=new Jr(this,this.j,l);let V=this.o;if(this.U&&(V?(V=ie(V),de(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var C=this.i[y];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(f+=C,f>4096){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=dw(this,L,f),y=Kn(this.J),Ae(y,"RID",l),Ae(y,"CVER",22),this.G&&Ae(y,"X-HTTP-Session-Id",this.G),Ha(this,y),V&&(this.R?f="headers="+Da(rw(V))+"&"+f:this.u&&pf(y,this.u,V)),df(this.h,L),this.Ra&&Ae(y,"TYPE","init"),this.S?(Ae(y,"$req",f),Ae(y,"SID","null"),L.U=!0,af(L,y,null)):af(L,y,f),this.I=2}}else this.I==3&&(l?uw(this,l):this.i.length==0||Wv(this.h)||uw(this))};function uw(l,f){var y;f?y=f.l:y=l.V++;const C=Kn(l.J);Ae(C,"SID",l.M),Ae(C,"RID",y),Ae(C,"AID",l.K),Ha(l,C),l.u&&l.o&&pf(C,l.u,l.o),y=new Jr(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),f&&(l.i=f.G.concat(l.i)),f=dw(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),df(l.h,y),af(y,C,f)}function Ha(l,f){l.H&&z(l.H,function(y,C){Ae(f,C,y)}),l.l&&z({},function(y,C){Ae(f,C,y)})}function dw(l,f,y){y=Math.min(l.i.length,y);const C=l.l?u(l.l.Ka,l.l,l):null;e:{var L=l.i;let he=-1;for(;;){const nt=["count="+y];he==-1?y>0?(he=L[0].g,nt.push("ofs="+he)):he=0:nt.push("ofs="+he);let Se=!0;for(let ct=0;ct<y;ct++){var V=L[ct].g;const Qn=L[ct].map;if(V-=he,V<0)he=Math.max(0,L[ct].g-100),Se=!1;else try{V="req"+V+"_"||"";try{var G=Qn instanceof Map?Qn:Object.entries(Qn);for(const[pi,ns]of G){let rs=ns;a(ns)&&(rs=ka(ns)),nt.push(V+pi+"="+encodeURIComponent(rs))}}catch(pi){throw nt.push(V+"type="+encodeURIComponent("_badmap")),pi}}catch{C&&C(Qn)}}if(Se){G=nt.join("&");break e}}G=void 0}return l=l.i.splice(0,y),f.G=l,G}function hw(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;D||I(),M||(D(),M=!0),b.add(f,l),l.A=0}}function gf(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ui(u(l.Da,l),mw(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,fw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ui(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tt(10),qc(this),fw(this))};function yf(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function fw(l){l.g=new Jr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=Kn(l.na);Ae(f,"RID","rpc"),Ae(f,"SID",l.M),Ae(f,"AID",l.K),Ae(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ae(f,"TO",l.ia),Ae(f,"TYPE","xmlhttp"),Ha(l,f),l.u&&l.o&&pf(f,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=Bc(Kn(f)),y.u=null,y.R=!0,$v(y,l)}t.Va=function(){this.C!=null&&(this.C=null,qc(this),gf(this),tt(19))};function Kc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function pw(l,f){var y=null;if(l.g==f){Kc(l),yf(l),l.g=null;var C=2}else if(uf(l.h,f))y=f.G,Gv(l.h,f),C=1;else return;if(l.I!=0){if(f.o)if(C==1){y=f.u?f.u.length:0,f=Date.now()-f.F;var L=l.D;C=no(),at(C,new En(C,y)),Gc(l)}else hw(l);else if(L=f.m,L==3||L==0&&f.X>0||!(C==1&&KA(l,f)||C==2&&gf(l)))switch(y&&y.length>0&&(f=l.h,f.i=f.i.concat(y)),L){case 1:fi(l,5);break;case 4:fi(l,10);break;case 3:fi(l,6);break;default:fi(l,2)}}}function mw(l,f){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*f}function fi(l,f){if(l.j.info("Error code "+f),f==2){var y=u(l.bb,l),C=l.Ua;const L=!C;C=new Zr(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||La(C,"https"),Bc(C),L?zA(C.toString(),y):BA(C.toString(),y)}else tt(2);l.I=0,l.l&&l.l.pa(f),gw(l),cw(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function gw(l){if(l.I=0,l.ja=[],l.l){const f=Kv(l.h);(f.length!=0||l.i.length!=0)&&(S(l.ja,f),S(l.ja,l.i),l.h.i.length=0,g(l.i),l.i.length=0),l.l.oa()}}function yw(l,f,y){var C=y instanceof Zr?Kn(y):new Zr(y);if(C.g!="")f&&(C.g=f+"."+C.g),Va(C,C.u);else{var L=o.location;C=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;const V=new Zr(null);C&&La(V,C),f&&(V.g=f),L&&Va(V,L),y&&(V.h=y),C=V}return y=l.G,f=l.wa,y&&f&&Ae(C,y,f),Ae(C,"VER",l.ka),Ha(l,C),C}function vw(l,f,y){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new $e(new ff({ab:y})):new $e(l.ma),f.Fa(l.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ww(){}t=ww.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qc(){}Qc.prototype.g=function(l,f){return new Qt(l,f)};function Qt(l,f){Le.call(this),this.g=new lw(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!k(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!k(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new so(this)}h(Qt,Le),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){mf(this.g)},Qt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=ka(l),l=y);f.i.push(new DA(f.Ya++,l)),f.I==3&&Gc(f)},Qt.prototype.N=function(){this.g.l=null,delete this.j,mf(this.g),delete this.g,Qt.Z.N.call(this)};function _w(l){qn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}h(_w,qn);function Ew(){to.call(this),this.status=1}h(Ew,to);function so(l){this.g=l}h(so,ww),so.prototype.ra=function(){at(this.g,"a")},so.prototype.qa=function(l){at(this.g,new _w(l))},so.prototype.pa=function(l){at(this.g,new Ew)},so.prototype.oa=function(){at(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,kb=function(){return new Qc},Rb=function(){return no()},Pb=Vt,Um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},an.NO_ERROR=0,an.TIMEOUT=8,an.HTTP_ERROR=6,Ku=an,jt.COMPLETE="complete",Ab=jt,Na.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",Le.prototype.listen=Le.prototype.J,cl=Na,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,Cb=$e}).apply(typeof Eu<"u"?Eu:typeof self<"u"?self:typeof window<"u"?window:{});const A_="@firebase/firestore",P_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new jy("@firebase/firestore");function uo(){return $i.logLevel}function X(t,...e){if($i.logLevel<=pe.DEBUG){const n=e.map($y);$i.debug(`Firestore (${Sa}): ${t}`,...n)}}function Br(t,...e){if($i.logLevel<=pe.ERROR){const n=e.map($y);$i.error(`Firestore (${Sa}): ${t}`,...n)}}function ca(t,...e){if($i.logLevel<=pe.WARN){const n=e.map($y);$i.warn(`Firestore (${Sa}): ${t}`,...n)}}function $y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Nb(t,r,n)}function Nb(t,e,n){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Br(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Nb(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class XV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JV{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $s,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $s)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new Ob(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new St(e)}}class ZV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=n4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function $m(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return op(s)===op(i)?me(s,i):op(s)?1:-1}return me(t.length,e.length)}const r4=55296,s4=57343;function op(t){const e=t.charCodeAt(0);return e>=r4&&e<=s4}function ua(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__name__";class Jn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Jn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Jn.isNumericId(e),s=Jn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Jn.extractNumericId(e).compare(Jn.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class Ie extends Jn{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const i4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Jn{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return i4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===k_}static keyField(){return new mt([k_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ie.fromString(e))}static fromName(e){return new te(Ie.fromString(e).popFirst(5))}static empty(){return new te(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o4(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function N_(t){if(!te.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O_(t){if(te.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ac(t,e){if(!Mb(t))throw new Y($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,M_=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*M_);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<D_)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:Je("string",ke._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new ke(0,0))}static max(){return new oe(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function a4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new Gs(s,te.empty(),e)}function l4(t){return new Gs(t.readTime,t.key,tc)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(oe.min(),te.empty(),tc)}static max(){return new Gs(oe.max(),te.empty(),tc)}}function c4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==u4)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function h4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ia(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-1;function Lh(t){return t==null}function zd(t){return t===0&&1/t==-1/0}function f4(t){return typeof t=="number"&&Number.isInteger(t)&&!zd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="";function p4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L_(e)),e=m4(t.get(n),e);return L_(e)}function m4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Lb:n+="";break;default:n+=i}}return n}function L_(t){return t+Lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ri(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pt.RED,this.left=s??pt.EMPTY,this.right=i??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new it(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jb("Invalid base64 string: "+i):i}}(e);return new vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vt.EMPTY_BYTE_STRING=new vt("");const g4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=g4.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="server_timestamp",Ub="__type__",$b="__previous_value__",zb="__local_write_time__";function Hy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ub])==null?void 0:r.stringValue)===Fb}function Vh(t){const e=t.mapValue.fields[$b];return Hy(e)?Vh(e):e}function nc(t){const e=Ks(t.mapValue.fields[zb].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,s,i,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Bd="(default)";class rc{constructor(e,n){this.projectId=e,this.database=n||Bd}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===Bd}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__type__",Hb="__max__",Tu={mapValue:{fields:{__type__:{stringValue:Hb}}}},Wb="__vector__",Hd="value";function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hy(t)?4:w4(t)?9007199254740991:v4(t)?10:11:se(28295,{value:t})}function yr(t,e){if(t===e)return!0;const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ks(s.timestampValue),a=Ks(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Qs(s.bytesValue).isEqual(Qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return We(s.geoPointValue.latitude)===We(i.geoPointValue.latitude)&&We(s.geoPointValue.longitude)===We(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return We(s.integerValue)===We(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=We(s.doubleValue),a=We(i.doubleValue);return o===a?zd(o)===zd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(V_(o)!==V_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!yr(o[c],a[c])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function sc(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function da(t,e){if(t===e)return 0;const n=Ys(t),r=Ys(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=We(i.integerValue||i.doubleValue),c=We(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return F_(t.timestampValue,e.timestampValue);case 4:return F_(nc(t),nc(e));case 5:return $m(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Qs(i),c=Qs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=me(a[u],c[u]);if(d!==0)return d}return me(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(We(i.latitude),We(o.latitude));return a!==0?a:me(We(i.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return U_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,g,S,v;const a=i.fields||{},c=o.fields||{},u=(m=a[Hd])==null?void 0:m.arrayValue,d=(g=c[Hd])==null?void 0:g.arrayValue,h=me(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:U_(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Tu.mapValue&&o===Tu.mapValue)return 0;if(i===Tu.mapValue)return 1;if(o===Tu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=$m(c[h],d[h]);if(m!==0)return m;const g=da(a[c[h]],u[d[h]]);if(g!==0)return g}return me(c.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function F_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Ks(t),r=Ks(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function U_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=da(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function ha(t){return zm(t)}function zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=zm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${zm(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function Qu(t){switch(Ys(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(t);return e?16+Qu(e):16;case 5:return 2*t.stringValue.length;case 6:return Qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Qu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ri(r.fields,(i,o)=>{s+=i.length+Qu(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function $_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function Wy(t){return!!t&&"arrayValue"in t}function z_(t){return!!t&&"nullValue"in t}function B_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yu(t){return!!t&&"mapValue"in t}function v4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Bb])==null?void 0:r.stringValue)===Wb}function bl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ri(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return{...t}}function w4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Hb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=bl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Yu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ri(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bt(bl(this.value))}}function qb(t){const e=[];return ri(t.fields,(n,r)=>{const s=new mt([n]);if(Yu(r)){const i=qb(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,oe.min(),oe.min(),oe.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,s){return new It(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new It(e,2,n,oe.min(),oe.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,oe.min(),oe.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.position=e,this.inclusive=n}}function H_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=da(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function W_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function _4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{}class Xe extends Gb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x4(e,n,r):n==="array-contains"?new b4(e,r):n==="in"?new I4(e,r):n==="not-in"?new C4(e,r):n==="array-contains-any"?new A4(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new T4(e,r):new S4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(da(n,this.value)):n!==null&&Ys(this.value)===Ys(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends Gb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fn(e,n)}matches(e){return Kb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kb(t){return t.op==="and"}function Qb(t){return E4(t)&&Kb(t)}function E4(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function Hm(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+ha(t.value);if(Qb(t))return t.filters.map(e=>Hm(e)).join(",");{const e=t.filters.map(n=>Hm(n)).join(",");return`${t.op}(${e})`}}function Yb(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&yr(r.value,s.value)}(t,e):t instanceof Fn?function(r,s){return s instanceof Fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Yb(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function Xb(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${ha(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(Xb).join(" ,")+"}"}(t):"Filter"}class x4 extends Xe{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class T4 extends Xe{constructor(e,n){super(e,"in",n),this.keys=Jb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class S4 extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=Jb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Jb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class b4 extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wy(n)&&sc(n.arrayValue,this.value)}}class I4 extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&sc(this.value.arrayValue,n)}}class C4 extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!sc(this.value.arrayValue,n)}}class A4 extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function q_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new P4(t,e,n,r,s,i,o)}function qy(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ha(r)).join(",")),e.Te=n}return e.Te}function Gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W_(t.startAt,e.startAt)&&W_(t.endAt,e.endAt)}function Wm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function R4(t,e,n,r,s,i,o,a){return new Ca(t,e,n,r,s,i,o,a)}function jh(t){return new Ca(t)}function G_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zb(t){return t.collectionGroup!==null}function Il(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ic(i,r))}),n.has(mt.keyField().canonicalString())||e.Ie.push(new ic(mt.keyField(),r))}return e.Ie}function cr(t){const e=ae(t);return e.Ee||(e.Ee=k4(e,Il(t))),e.Ee}function k4(t,e){if(t.limitType==="F")return q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ic(s.field,i)});const n=t.endAt?new Wd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wd(t.startAt.position,t.startAt.inclusive):null;return q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qm(t,e){const n=t.filters.concat([e]);return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gm(t,e,n){return new Ca(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return Gy(cr(t),cr(e))&&t.limitType===e.limitType}function eI(t){return`${qy(cr(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Xb(s)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ha(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ha(s)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Il(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=H_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Il(r),s)||r.endAt&&!function(o,a,c){const u=H_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Il(r),s))}(t,e)}function N4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tI(t){return(e,n)=>{let r=!1;for(const s of Il(t)){const i=O4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function O4(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?da(c,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ri(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Ue(te.comparator);function Hr(){return D4}const nI=new Ue(te.comparator);function ul(...t){let e=nI;for(const n of t)e=e.insert(n.key,n);return e}function rI(t){let e=nI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return Cl()}function sI(){return Cl()}function Cl(){return new Yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const M4=new Ue(te.comparator),L4=new it(te.comparator);function ge(...t){let e=L4;for(const n of t)e=e.add(n);return e}const V4=new it(me);function j4(){return V4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zd(e)?"-0":e}}function iI(t){return{integerValue:""+t}}function F4(t,e){return f4(e)?iI(e):Ky(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(){this._=void 0}}function U4(t,e,n){return t instanceof oc?function(s,i){const o={fields:{[Ub]:{stringValue:Fb},[zb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Hy(i)&&(i=Vh(i)),i&&(o.fields[$b]=i),{mapValue:o}}(n,e):t instanceof ac?aI(t,e):t instanceof lc?lI(t,e):function(s,i){const o=oI(s,i),a=K_(o)+K_(s.Ae);return Bm(o)&&Bm(s.Ae)?iI(a):Ky(s.serializer,a)}(t,e)}function $4(t,e,n){return t instanceof ac?aI(t,e):t instanceof lc?lI(t,e):n}function oI(t,e){return t instanceof qd?function(r){return Bm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class oc extends $h{}class ac extends $h{constructor(e){super(),this.elements=e}}function aI(t,e){const n=cI(e);for(const r of t.elements)n.some(s=>yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class lc extends $h{constructor(e){super(),this.elements=e}}function lI(t,e){let n=cI(e);for(const r of t.elements)n=n.filter(s=>!yr(s,r));return{arrayValue:{values:n}}}class qd extends $h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K_(t){return We(t.integerValue||t.doubleValue)}function cI(t){return Wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.field=e,this.transform=n}}function B4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ac&&s instanceof ac||r instanceof lc&&s instanceof lc?ua(r.elements,s.elements,yr):r instanceof qd&&s instanceof qd?yr(r.Ae,s.Ae):r instanceof oc&&s instanceof oc}(t.transform,e.transform)}class H4{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zh{}function uI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qy(t.key,Mn.none()):new Pc(t.key,t.data,Mn.none());{const n=t.data,r=Bt.empty();let s=new it(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new si(t.key,r,new Zt(s.toArray()),Mn.none())}}function W4(t,e,n){t instanceof Pc?function(s,i,o){const a=s.value.clone(),c=Y_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof si?function(s,i,o){if(!Xu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Y_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(dI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Al(t,e,n,r){return t instanceof Pc?function(i,o,a,c){if(!Xu(i.precondition,o))return a;const u=i.value.clone(),d=X_(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof si?function(i,o,a,c){if(!Xu(i.precondition,o))return a;const u=X_(i.fieldTransforms,c,o),d=o.data;return d.setAll(dI(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Xu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function q4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=oI(r.transform,s||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,i))}return n||null}function Q_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ua(r,s,(i,o)=>B4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pc extends zh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class si extends zh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Y_(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,$4(o,a,n[s]))}return r}function X_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,U4(i,o,e))}return r}class Qy extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G4 extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&W4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=uI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,r)=>Q_(n,r))&&ua(this.baseMutations,e.baseMutations,(n,r)=>Q_(n,r))}}class Yy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return M4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Yy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ve;function X4(t){switch(t){case $.OK:return se(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function hI(t){if(t===void 0)return Br("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qe.OK:return $.OK;case Qe.CANCELLED:return $.CANCELLED;case Qe.UNKNOWN:return $.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return $.INTERNAL;case Qe.UNAVAILABLE:return $.UNAVAILABLE;case Qe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qe.NOT_FOUND:return $.NOT_FOUND;case Qe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qe.ABORTED:return $.ABORTED;case Qe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qe.DATA_LOSS:return $.DATA_LOSS;default:return se(39323,{code:t})}}(ve=Qe||(Qe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=new Us([4294967295,4294967295],0);function J_(t){const e=J4().encode(t),n=new Ib;return n.update(e),new Uint8Array(n.digest())}function Z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Us([n,r],0),new Us([s,i],0)]}class Xy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Us.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Us.fromNumber(r)));return s.compare(Z4)===1&&(s=new Us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=J_(e),[r,s]=Z_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Xy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=J_(e),[r,s]=Z_(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bh(oe.min(),s,new Ue(me),Hr(),ge())}}class Rc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class fI{constructor(e,n){this.targetId=e,this.Ce=n}}class pI{constructor(e,n,r=vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class eE{constructor(){this.ve=0,this.Fe=tE(),this.Me=vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new Rc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=tE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ej{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hr(),this.Je=Su(),this.He=Su(),this.Ye=new Ue(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Wm(i))if(r===0){const o=new te(i.path);this.et(n,o,It.newNoDocument(o,oe.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Qs(r).toUint8Array()}catch(c){if(c instanceof jb)return ca("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Xy(o,s,i)}catch(c){return ca(c instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Wm(a.target)){const c=new te(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,It.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ge();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Bh(e,n,this.Ye,this.je,r);return this.je=Hr(),this.Je=Su(),this.He=Su(),this.Ye=new Ue(me),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new it(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new it(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Su(){return new Ue(te.comparator)}function tE(){return new Ue(te.comparator)}const tj={asc:"ASCENDING",desc:"DESCENDING"},nj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rj={and:"AND",or:"OR"};class sj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function Gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ij(t,e){return Gd(t,e.toTimestamp())}function ur(t){return xe(!!t,49232),oe.fromTimestamp(function(n){const r=Ks(n);return new ke(r.seconds,r.nanos)}(t))}function Jy(t,e){return Qm(t,e).canonicalString()}function Qm(t,e){const n=function(s){return new Ie(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gI(t){const e=Ie.fromString(t);return xe(EI(e),10190,{key:e.toString()}),e}function Ym(t,e){return Jy(t.databaseId,e.path)}function ap(t,e){const n=gI(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(vI(n))}function yI(t,e){return Jy(t.databaseId,e)}function oj(t){const e=gI(t);return e.length===4?Ie.emptyPath():vI(e)}function Xm(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vI(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nE(t,e,n){return{name:Ym(t,e),fields:n.value.mapValue.fields}}function aj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(xe(d===void 0||typeof d=="string",58123),vt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:hI(u.code);return new Y(d,u.message||"")}(o);n=new pI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ap(t,r.document.name),i=ur(r.document.updateTime),o=r.document.createTime?ur(r.document.createTime):oe.min(),a=new Bt({mapValue:{fields:r.document.fields}}),c=It.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ju(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ap(t,r.document),i=r.readTime?ur(r.readTime):oe.min(),o=It.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ju([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ap(t,r.document),i=r.removedTargetIds||[];n=new Ju([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Y4(s,i),a=r.targetId;n=new fI(a,o)}}return n}function lj(t,e){let n;if(e instanceof Pc)n={update:nE(t,e.key,e.value)};else if(e instanceof Qy)n={delete:Ym(t,e.key)};else if(e instanceof si)n={update:nE(t,e.key,e.data),updateMask:yj(e.fieldMask)};else{if(!(e instanceof G4))return se(16599,{Vt:e.type});n={verify:Ym(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof oc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ac)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof lc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ij(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function cj(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ur(s.updateTime):ur(i);return o.isEqual(oe.min())&&(o=ur(i)),new H4(o,s.transformResults||[])}(n,e))):[]}function uj(t,e){return{documents:[yI(t,e.path)]}}function dj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yI(t,s);const i=function(u){if(u.length!==0)return _I(Fn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:fo(m.field),direction:pj(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Km(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function hj(t){let e=oj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=wI(h);return m instanceof Fn&&Qb(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(S){return new ic(po(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Lh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,g=h.values||[];return new Wd(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,g=h.values||[];return new Wd(g,m)}(n.endAt)),R4(e,s,o,i,a,"F",c,u)}function fj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=po(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=po(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=po(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(po(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>wI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function pj(t){return tj[t]}function mj(t){return nj[t]}function gj(t){return rj[t]}function fo(t){return{fieldPath:t.canonicalString()}}function po(t){return mt.fromServerFormat(t.fieldPath)}function _I(t){return t instanceof Xe?function(n){if(n.op==="=="){if(B_(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(z_(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B_(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(z_(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:mj(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(s=>_I(s));return r.length===1?r[0]:{compositeFilter:{op:gj(n.op),filters:r}}}(t):se(54877,{filter:t})}function yj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.yt=e}}function wj(t){const e=hj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.Cn=new Ej}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Gs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class Ej{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new it(Ie.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new it(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xI=41943040;class Ut{static withCacheSize(e){return new Ut(e,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ut.DEFAULT_COLLECTION_PERCENTILE=10,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ut.DEFAULT=new Ut(xI,Ut.DEFAULT_COLLECTION_PERCENTILE,Ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ut.DISABLED=new Ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fa(0)}static cr(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",xj=1048576;function iE([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class Tj{constructor(e){this.Ir=e,this.buffer=new it(iE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();iE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Sj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(sE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ia(n)?X(sE,"Ignoring IndexedDB error during garbage collection: ",n):await ba(n)}await this.Vr(3e5)})}}class bj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Mh.ce);const r=new Tj(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(rE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),uo()<=pe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function Ij(t,e){return new bj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(){this.changes=new Yi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Al(r.mutation,s,Zt.empty(),ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=Ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ul();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Hr();const o=Cl(),a=function(){return Cl()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof si)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Al(d.mutation,u,d.mutation.getFieldMask(),ke.now())):o.set(u.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new Aj(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Cl();let s=new Ue((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Zt.empty();d=a.applyToLocalView(u,d),r.set(c,d);const h=(s.get(a.batchId)||ge()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,h=sI();d.forEach(m=>{if(!i.has(m)){const g=uI(n.get(m),r.get(m));g!==null&&h.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ei());let a=tc,c=i;return o.next(u=>B.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ge())).next(d=>({batchId:a,changes:rI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=ul();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ul();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,c=>{const u=function(h,m){return new Ca(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,It.newInvalidDocument(d)))});let a=ul();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Al(d.mutation,u,Zt.empty(),ke.now()),Uh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ur(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:wj(s.bundledQuery),readTime:ur(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.overlays=new Ue(te.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ei(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ue((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ei(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ei(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Q4(n,r));let i=this.qr.get(n);i===void 0&&(i=ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Qr=new it(ut.$r),this.Ur=new it(ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ut(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new te(new Ie([])),r=new ut(n,e),s=new ut(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new Ie([])),r=new ut(n,e),s=new ut(n,e+1);let i=ge();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new it(ut.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new K4(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new ut(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?By:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),s=new ut(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(me);return n.forEach(s=>{const i=new ut(s,0),o=new ut(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new ut(new te(i),0);let a=new it(me);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new ut(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ut(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.ri=e,this.docs=function(){return new Ue(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():It.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Hr();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||c4(l4(d),r)<=0||(s.has(d.key)||Uh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Mj(this)}getSize(e){return B.resolve(this.size)}}class Mj extends Cj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.persistence=e,this.si=new Yi(n=>qy(n),Gy),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Zy,this.targetCount=0,this.ai=fa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Mh(0),this.li=!1,this.li=!0,this.hi=new Nj,this.referenceDelegate=e(this),this.Pi=new Lj(this),this.indexManager=new _j,this.remoteDocumentCache=function(s){return new Dj(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new vj(n),this.Ii=new Rj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Oj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new Vj(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Vj extends d4{constructor(e){super(),this.currentSequenceNumber=e}}class ev{constructor(e){this.persistence=e,this.Ri=new Zy,this.Vi=null}static mi(e){return new ev(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=te.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kd{constructor(e,n){this.persistence=e,this.pi=new Yi(r=>p4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Ij(this,n)}static mi(e,n){return new Kd(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qu(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new tv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return NL()?8:h4(At())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new jj;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(uo()<=pe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(uo()<=pe.DEBUG&&X("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(uo()<=pe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):B.resolve())}ys(e,n){if(G_(n))return B.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gm(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,Gm(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return G_(n)||s.isEqual(oe.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(uo()<=pe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ho(n)),this.vs(e,o,n,a4(s,tc)).next(a=>a))})}Ds(e,n){let r=new it(tI(e));return n.forEach((s,i)=>{Uh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return uo()<=pe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ps.getDocumentsMatchingQuery(e,n,Gs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LocalStore",Uj=3e8;class $j{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ue(me),this.xs=new Yi(i=>qy(i),Gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zj(t,e,n,r){return new $j(t,e,n,r)}async function SI(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function Bj(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const h=u.batch,m=h.keys();let g=B.resolve();return m.forEach(S=>{g=g.next(()=>d.getEntry(c,S)).next(v=>{const E=u.docVersions.get(S);xe(E!==null,48541),v.version.compareTo(E)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function bI(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Hj(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(vt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(v,E,_){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Uj?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,d)&&a.push(n.Pi.updateTargetData(i,g))});let c=Hr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Wj(i,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function Wj(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Hr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X(nv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function qj(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=By),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gj(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Jm(t,e,n){const r=ae(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ia(o))throw o;X(nv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function oE(t,e,n){const r=ae(t);let s=oe.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=ae(c),m=h.xs.get(d);return m!==void 0?B.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,d)}(r,o,cr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:ge())).next(a=>(Kj(r,N4(e),a),{documents:a,Qs:i})))}function Kj(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class aE{constructor(){this.activeTargetIds=j4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qj{constructor(){this.Mo=new aE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="ConnectivityMonitor";class cE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(lE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(lE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu=null;function Zm(){return bu===null?bu=function(){return 268435456+Math.round(2147483648*Math.random())}():bu++,"0x"+bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="RestConnection",Xj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Bd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Zm(),a=this.zo(e,n.toUriEncodedString());X(lp,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),d=xa(u);return this.Jo(e,a,c,r,d).then(h=>(X(lp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw ca(lp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=Xj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class eF extends Jj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Zm();return new Promise((a,c)=>{const u=new Cb;u.setWithCredentials(!0),u.listenOnce(Ab.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ku.NO_ERROR:const h=u.getResponseJson();X(xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Ku.TIMEOUT:X(xt,`RPC '${e}' ${o} timed out`),c(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const m=u.getStatus();if(X(xt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const v=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(S.status);c(new Y(v,S.message))}else c(new Y($.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y($.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(xt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);X(xt,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Zm(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kb(),a=Rb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");X(xt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let m=!1,g=!1;const S=new Zj({Yo:E=>{g?X(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(X(xt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),X(xt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},Zo:()=>h.close()}),v=(E,_,w)=>{E.listen(_,T=>{try{w(T)}catch(N){setTimeout(()=>{throw N},0)}})};return v(h,cl.EventType.OPEN,()=>{g||(X(xt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),v(h,cl.EventType.CLOSE,()=>{g||(g=!0,X(xt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(h))}),v(h,cl.EventType.ERROR,E=>{g||(g=!0,ca(xt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new Y($.UNAVAILABLE,"The operation could not be completed")))}),v(h,cl.EventType.MESSAGE,E=>{var _;if(!g){const w=E.data[0];xe(!!w,16349);const T=w,N=(T==null?void 0:T.error)||((_=T[0])==null?void 0:_.error);if(N){X(xt,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let M=function(P){const R=Qe[P];if(R!==void 0)return hI(R)}(D),b=N.message;M===void 0&&(M=$.INTERNAL,b="Unknown error status: "+D+" with message "+N.message),g=!0,S.a_(new Y(M,b)),h.close()}else X(xt,`RPC '${e}' stream ${s} received:`,w),S.u_(w)}}),v(a,Pb.STAT_EVENT,E=>{E.stat===Um.PROXY?X(xt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Um.NOPROXY&&X(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t){return new sj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="PersistentStream";class CI{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new II(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Br(n.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tF extends CI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aj(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?ur(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Xm(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Wm(c)?{documents:uj(i,c)}:{query:dj(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mI(i,o.resumeToken);const u=Km(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Gd(i,o.snapshotVersion.toTimestamp());const u=Km(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=fj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.q_(n)}}class nF extends CI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cj(e.writeResults,e.commitTime),r=ur(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Xm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lj(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{}class sF extends rF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Qm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Qm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class iF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Br(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class oF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Xi(this)&&(X(zi,"Restarting streams for network reachability change."),await async function(c){const u=ae(c);u.Ea.add(4),await kc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Wh(u)}(this))})}),this.Ra=new iF(r,s)}}async function Wh(t){if(Xi(t))for(const e of t.da)await e(!0)}async function kc(t){for(const e of t.da)await e(!1)}function AI(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ov(n)?iv(n):Aa(n).O_()&&sv(n,e))}function rv(t,e){const n=ae(t),r=Aa(n);n.Ia.delete(e),r.O_()&&PI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Xi(n)&&n.Ra.set("Unknown"))}function sv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).Y_(e)}function PI(t,e){t.Va.Ue(e),Aa(t).Z_(e)}function iv(t){t.Va=new ej({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.Ra.ua()}function ov(t){return Xi(t)&&!Aa(t).x_()&&t.Ia.size>0}function Xi(t){return ae(t).Ea.size===0}function RI(t){t.Va=void 0}async function aF(t){t.Ra.set("Online")}async function lF(t){t.Ia.forEach((e,n)=>{sv(t,e)})}async function cF(t,e){RI(t),ov(t)?(t.Ra.ha(e),iv(t)):t.Ra.set("Unknown")}async function uF(t,e,n){if(t.Ra.set("Online"),e instanceof pI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){X(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(t,r)}else if(e instanceof Ju?t.Va.Ze(e):e instanceof fI?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await bI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(vt.EMPTY_BYTE_STRING,d.snapshotVersion)),PI(i,c);const h=new Cs(d.target,c,u,d.sequenceNumber);sv(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(zi,"Failed to raise snapshot:",r),await Qd(t,r)}}async function Qd(t,e,n){if(!Ia(e))throw e;t.Ea.add(1),await kc(t),t.Ra.set("Offline"),n||(n=()=>bI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(zi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wh(t)})}function kI(t,e){return e().catch(n=>Qd(t,n,e))}async function qh(t){const e=ae(t),n=Xs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:By;for(;dF(e);)try{const s=await qj(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,hF(e,s)}catch(s){await Qd(e,s)}NI(e)&&OI(e)}function dF(t){return Xi(t)&&t.Ta.length<10}function hF(t,e){t.Ta.push(e);const n=Xs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function NI(t){return Xi(t)&&!Xs(t).x_()&&t.Ta.length>0}function OI(t){Xs(t).start()}async function fF(t){Xs(t).ra()}async function pF(t){const e=Xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function mF(t,e,n){const r=t.Ta.shift(),s=Yy.from(r,e,n);await kI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await qh(t)}async function gF(t,e){e&&Xs(t).X_&&await async function(r,s){if(function(o){return X4(o)&&o!==$.ABORTED}(s.code)){const i=r.Ta.shift();Xs(r).B_(),await kI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await qh(r)}}(t,e),NI(t)&&OI(t)}async function dE(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),X(zi,"RemoteStore received new credentials");const r=Xi(n);n.Ea.add(3),await kc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wh(n)}async function yF(t,e){const n=ae(t);e?(n.Ea.delete(2),await Wh(n)):e||(n.Ea.add(2),await kc(n),n.Ra.set("Unknown"))}function Aa(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new tF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:aF.bind(null,t),t_:lF.bind(null,t),r_:cF.bind(null,t),H_:uF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),ov(t)?iv(t):t.Ra.set("Unknown")):(await t.ma.stop(),RI(t))})),t.ma}function Xs(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new nF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fF.bind(null,t),r_:gF.bind(null,t),ta:pF.bind(null,t),na:mF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await qh(t)):(await t.fa.stop(),t.Ta.length>0&&(X(zi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new av(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lv(t,e){if(Br("AsyncQueue",`${e}: ${t}`),Ia(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ul(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.ga=new Ue(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class pa{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new pa(e,n,Lo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class wF{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=fE(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function fE(){return new Yi(t=>eI(t),Fh)}async function DI(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new vF,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=lv(o,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&cv(n)}async function MI(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _F(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&cv(n)}function EF(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function cv(t){t.Ca.forEach(e=>{e.next()})}var eg,pE;(pE=eg||(eg={})).Ma="default",pE.Cache="cache";class LI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.key=e}}class jI{constructor(e){this.key=e}}class xF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=tI(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new hE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),g=Uh(this.query,h)?h:null,S=!!m&&this.mutatedKeys.has(m.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;m&&g?m.data.isEqual(g.data)?S!==v&&(r.track({type:3,doc:g}),E=!0):this.su(m,g)||(r.track({type:2,doc:g}),E=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),E=!0):m&&!g&&(r.track({type:1,doc:m}),E=!0,(c||u)&&(a=!0)),E&&(g?(o=o.add(g),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(g,S){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:E})}};return v(g)-v(S)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new pa(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new jI(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new VI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uv="SyncEngine";class TF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SF{constructor(e){this.key=e,this.hu=!1}}class bF{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Yi(a=>eI(a),Fh),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(te.comparator),this.Au=new Map,this.Ru=new Zy,this.Vu={},this.mu=new Map,this.fu=fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IF(t,e,n=!0){const r=HI(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await FI(r,e,n,!0),s}async function CF(t,e){const n=HI(t);await FI(n,e,!0,!1)}async function FI(t,e,n,r){const s=await Gj(t.localStore,cr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await AF(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&AI(t.remoteStore,s),a}async function AF(t,e,n,r,s){t.pu=(h,m,g)=>async function(v,E,_,w){let T=E.view.ru(_);T.Cs&&(T=await oE(v.localStore,E.query,!1).then(({documents:b})=>E.view.ru(b,T)));const N=w&&w.targetChanges.get(E.targetId),D=w&&w.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,v.isPrimaryClient,N,D);return gE(v,E.targetId,M.au),M.snapshot}(t,h,m,g);const i=await oE(t.localStore,e,!0),o=new xF(e,i.Qs),a=o.ru(i.documents),c=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);gE(t,n,u.au);const d=new TF(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function PF(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Fh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Jm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&rv(r.remoteStore,s.targetId),tg(r,s.targetId)}).catch(ba)):(tg(r,s.targetId),await Jm(r.localStore,s.targetId,!0))}async function RF(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rv(n.remoteStore,r.targetId))}async function kF(t,e,n){const r=jF(t);try{const s=await function(o,a){const c=ae(o),u=ke.now(),d=a.reduce((g,S)=>g.add(S.key),ge());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let S=Hr(),v=ge();return c.Ns.getEntries(g,d).next(E=>{S=E,S.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,S)).next(E=>{h=E;const _=[];for(const w of a){const T=q4(w,h.get(w.key).overlayedDocument);T!=null&&_.push(new si(w.key,T,qb(T.value.mapValue),Mn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,_,a)}).next(E=>{m=E;const _=E.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:m.batchId,changes:rI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ue(me)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await Nc(r,s.changes),await qh(r.remoteStore)}catch(s){const i=lv(s,"Failed to persist write");n.reject(i)}}async function UI(t,e){const n=ae(t);try{const r=await Hj(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await Nc(n,r,e)}catch(r){await ba(r)}}function mE(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ae(o);c.onlineState=a;let u=!1;c.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(a)&&(u=!0)}),u&&cv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NF(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ue(te.comparator);o=o.insert(i,It.newNoDocument(i,oe.min()));const a=ge().add(i),c=new Bh(oe.min(),new Map,new Ue(me),o,a);await UI(r,c),r.du=r.du.remove(i),r.Au.delete(e),dv(r)}else await Jm(r.localStore,e,!1).then(()=>tg(r,e,n)).catch(ba)}async function OF(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await Bj(n.localStore,e);zI(n,r,null),$I(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nc(n,s)}catch(s){await ba(s)}}async function DF(t,e,n){const r=ae(t);try{const s=await function(o,a){const c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(xe(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);zI(r,e,n),$I(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nc(r,s)}catch(s){await ba(s)}}function $I(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function zI(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function tg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||BI(t,r)})}function BI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dv(t))}function gE(t,e,n){for(const r of n)r instanceof VI?(t.Ru.addReference(r.key,e),MF(t,r)):r instanceof jI?(X(uv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||BI(t,r.key)):se(19791,{wu:r})}function MF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(uv,"New document in limbo: "+n),t.Eu.add(r),dv(t))}function dv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(Ie.fromString(e)),r=t.fu.next();t.Au.set(r,new SF(n)),t.du=t.du.insert(n,r),AI(t.remoteStore,new Cs(cr(jh(n.path)),r,"TargetPurposeLimboResolution",Mh.ce))}}async function Nc(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=tv.As(c.targetId,u);i.push(h)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const d=ae(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,m=>B.forEach(m.Es,g=>d.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>B.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!Ia(h))throw h;X(nv,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const g=d.Ms.get(m),S=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(m,v)}}}(r.localStore,i))}async function LF(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){X(uv,"User change. New user:",e.toKey());const r=await SI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new Y($.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nc(n,r.Ls)}}function VF(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let s=ge();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function HI(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NF.bind(null,e),e.Pu.H_=_F.bind(null,e.eventManager),e.Pu.yu=EF.bind(null,e.eventManager),e}function jF(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DF.bind(null,e),e}class Yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zj(this.persistence,new Fj,e.initialUser,this.serializer)}Cu(e){return new TI(ev.mi,this.serializer)}Du(e){return new Qj}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yd.provider={build:()=>new Yd};class FF extends Yd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof Kd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Sj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ut.withCacheSize(this.cacheSizeBytes):Ut.DEFAULT;return new TI(r=>Kd.mi(r,n),this.serializer)}}class ng{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LF.bind(null,this.syncEngine),await yF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wF}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),r=function(i){return new eF(i)}(e.databaseInfo);return function(i,o,a,c){return new sF(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new oF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mE(this.syncEngine,n,0),function(){return cE.v()?new cE:new Yj}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const h=new bF(s,i,o,a,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);X(zi,"RemoteStore shutting down."),i.Ea.add(5),await kc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ng.provider={build:()=>new ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="FirestoreClient";class UF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=St.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X(Js,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(Js,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function up(t,e){t.asyncQueue.verifyOperationInProgress(),X(Js,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await SI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $F(t);X(Js,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>dE(e.remoteStore,s)),t._onlineComponents=e}async function $F(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Js,"Using user provided OfflineComponentProvider");try{await up(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await up(t,new Yd)}}else X(Js,"Using default OfflineComponentProvider"),await up(t,new FF(void 0));return t._offlineComponents}async function qI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Js,"Using user provided OnlineComponentProvider"),await yE(t,t._uninitializedComponentsProvider._online)):(X(Js,"Using default OnlineComponentProvider"),await yE(t,new ng))),t._onlineComponents}function zF(t){return qI(t).then(e=>e.syncEngine)}async function rg(t){const e=await qI(t),n=e.eventManager;return n.onListen=IF.bind(null,e.syncEngine),n.onUnlisten=PF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RF.bind(null,e.syncEngine),n}function BF(t,e,n={}){const r=new $s;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new WI({next:m=>{d.Nu(),o.enqueueAndForget(()=>MI(i,h));const g=m.docs.has(a);!g&&m.fromCache?u.reject(new Y($.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new LI(jh(a.path),d,{includeMetadataChanges:!0,qa:!0});return DI(i,h)}(await rg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="firestore.googleapis.com",wE=!0;class _E{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KI,this.ssl=wE}else this.host=e.host,this.ssl=e.ssl??wE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<xj)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YV;switch(r.type){case"firstParty":return new e4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vE.get(n);r&&(X("ComponentProvider","Removing Datastore"),vE.delete(n),r.terminate())}(this),Promise.resolve()}}function HF(t,e,n,r={}){var u;t=lr(t,Gh);const s=xa(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(vb(`https://${a}`),wb("Firestore",!0)),i.host!==KI&&i.host!==a&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Fi(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=St.MOCK_USER;else{d=TL(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new St(m)}t._authCredentials=new XV(new Ob(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class Ge{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ge(this.firestore,e,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ac(n,Ge._jsonSchema))return new Ge(e,r||null,new te(Ie.fromString(n.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:Je("string",Ge._jsonSchemaVersion),referencePath:Je("string")};class zs extends Ji{constructor(e,n,r){super(e,n,jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new te(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function Vo(t,e,...n){if(t=ot(t),Db("collection","path",e),t instanceof Gh){const r=Ie.fromString(e,...n);return O_(r),new zs(t,null,r)}{if(!(t instanceof Ge||t instanceof zs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return O_(r),new zs(t.firestore,null,r)}}function Pl(t,e,...n){if(t=ot(t),arguments.length===1&&(e=zy.newId()),Db("doc","path",e),t instanceof Gh){const r=Ie.fromString(e,...n);return N_(r),new Ge(t,null,new te(r))}{if(!(t instanceof Ge||t instanceof zs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return N_(r),new Ge(t.firestore,t instanceof zs?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="AsyncQueue";class xE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new II(this,"async_queue_retry"),this._c=()=>{const r=cp();r&&X(EE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $s;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ia(e))throw e;X(EE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Br("INTERNAL UNHANDLED ERROR: ",TE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=av.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:TE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Bi extends Gh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new xE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xE(e),this._firestoreClient=void 0,await e}}}function WF(t,e){const n=typeof t=="object"?t:Tb(),r=typeof t=="string"?t:Bd,s=Uy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=EL("firestore");i&&HF(s,...i)}return s}function hv(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qF(t),t._firestoreClient}function qF(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,d){return new y4(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new UF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pn(vt.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pn(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,pn._jsonSchema))return pn.fromBase64String(e.bytes)}}pn._jsonSchemaVersion="firestore/bytes/1.0",pn._jsonSchema={type:Je("string",pn._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:Je("string",dr._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hr(e.vectorValues);throw new Y($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:Je("string",hr._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=/^__.*__$/;class KF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pc(e,this.data,n,this.fieldTransforms)}}class QI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class fv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YI(this.Ac)&&GF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hh(e)}Cc(e,n,r,s=!1){return new fv({Ac:e,methodName:n,Dc:r,path:mt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pv(t){const e=t._freezeSettings(),n=Hh(t._databaseId);return new QF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YF(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);gv("Data must be an object, but it was:",o,r);const a=XI(r,o);let c,u;if(i.merge)c=new Zt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=sg(e,h,n);if(!o.contains(m))throw new Y($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZI(d,m)||d.push(m)}c=new Zt(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new KF(new Bt(a),c,u)}class Yh extends Qh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class mv extends Qh{_toFieldTransform(e){return new z4(e.path,new oc)}isEqual(e){return e instanceof mv}}function XF(t,e,n,r){const s=t.Cc(1,e,n);gv("Data must be an object, but it was:",s,r);const i=[],o=Bt.empty();ri(r,(c,u)=>{const d=yv(e,c,n);u=ot(u);const h=s.yc(d);if(u instanceof Yh)i.push(d);else{const m=Oc(u,h);m!=null&&(i.push(d),o.set(d,m))}});const a=new Zt(i);return new QI(o,a,s.fieldTransforms)}function JF(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[sg(e,r,n)],c=[s];if(i.length%2!=0)throw new Y($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(sg(e,i[m])),c.push(i[m+1]);const u=[],d=Bt.empty();for(let m=a.length-1;m>=0;--m)if(!ZI(u,a[m])){const g=a[m];let S=c[m];S=ot(S);const v=o.yc(g);if(S instanceof Yh)u.push(g);else{const E=Oc(S,v);E!=null&&(u.push(g),d.set(g,E))}}const h=new Zt(u);return new QI(d,h,o.fieldTransforms)}function ZF(t,e,n,r=!1){return Oc(n,t.Cc(r?4:3,e))}function Oc(t,e){if(JI(t=ot(t)))return gv("Unsupported field value:",e,t),XI(t,e);if(t instanceof Qh)return function(r,s){if(!YI(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Oc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ke.fromDate(r);return{timestampValue:Gd(s.serializer,i)}}if(r instanceof ke){const i=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gd(s.serializer,i)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pn)return{bytesValue:mI(s.serializer,r._byteString)};if(r instanceof Ge){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Jy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hr)return function(o,a){return{mapValue:{fields:{[Bb]:{stringValue:Wb},[Hd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Ky(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Dh(r)}`)}(t,e)}function XI(t,e){const n={};return Vb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ri(t,(r,s)=>{const i=Oc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function JI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof dr||t instanceof pn||t instanceof Ge||t instanceof Qh||t instanceof hr)}function gv(t,e,n){if(!JI(n)||!Mb(n)){const r=Dh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function sg(t,e,n){if((e=ot(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return yv(t,e);throw Xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const e3=new RegExp("[~\\*/\\[\\]]");function yv(t,e,n){if(e.search(e3)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Y($.INVALID_ARGUMENT,a+t+c)}function ZI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t3 extends eC{data(){return super.data()}}function vv(t,e){return typeof e=="string"?yv(t,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}class tC extends wv{}function ig(t,e,...n){let r=[];e instanceof wv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Ev).length,a=i.filter(c=>c instanceof _v).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class _v extends tC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _v(e,n,r)}_apply(e){const n=this._parse(e);return nC(e._query,n),new Ji(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=pv(e.firestore);return function(i,o,a,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){IE(h,d);const S=[];for(const v of h)S.push(bE(c,i,v));m={arrayValue:{values:S}}}else m=bE(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||IE(h,d),m=ZF(a,o,h,d==="in"||d==="not-in");return Xe.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ev extends wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ev(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)nC(o,c),o=qm(o,c)}(e._query,n),new Ji(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xv extends tC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Y($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(i,o)}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ca(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function og(t,e="asc"){const n=e,r=vv("orderBy",t);return xv._create(r,n)}function bE(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zb(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ie.fromString(n));if(!te.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $_(t,new te(r))}if(n instanceof Ge)return $_(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(n)}.`)}function IE(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r3{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ri(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Hd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>We(o.doubleValue));return new hr(n)}convertGeoPoint(e){return new dr(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);xe(EI(r),9688,{name:e});const s=new rc(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||Br(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends eC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ki._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",ki._jsonSchema={type:Je("string",ki._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class Zu extends ki{data(e={}){return super.data(e)}}class jo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zu(this._firestore,this._userDataWriter,r.key,r,new hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Zu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new hl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Zu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new hl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:i3(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){t=lr(t,Ge);const e=lr(t.firestore,Bi);return BF(hv(e),t._key).then(n=>sC(e,t,n))}jo._jsonSchemaVersion="firestore/querySnapshot/1.0",jo._jsonSchema={type:Je("string",jo._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class rC extends r3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}function CE(t,e,n,...r){t=lr(t,Ge);const s=lr(t.firestore,Bi),i=pv(s);let o;return o=typeof(e=ot(e))=="string"||e instanceof Kh?JF(i,"updateDoc",t._key,e,n,r):XF(i,"updateDoc",t._key,e),Tv(s,[o.toMutation(t._key,Mn.exists(!0))])}function a3(t){return Tv(lr(t.firestore,Bi),[new Qy(t._key,Mn.none())])}function ag(t,e){const n=lr(t.firestore,Bi),r=Pl(t),s=s3(t.converter,e);return Tv(n,[YF(pv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}function lg(t,...e){var c,u,d;t=ot(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||SE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(SE(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,o,a;if(t instanceof Ge)o=lr(t.firestore,Bi),a=jh(t._key.path),i={next:h=>{e[r]&&e[r](sC(o,t,h))},error:e[r+1],complete:e[r+2]};else{const h=lr(t,Ji);o=lr(h.firestore,Bi),a=h._query;const m=new rC(o);i={next:g=>{e[r]&&e[r](new jo(o,m,h,g))},error:e[r+1],complete:e[r+2]},n3(t._query)}return function(m,g,S,v){const E=new WI(v),_=new LI(g,E,S);return m.asyncQueue.enqueueAndForget(async()=>DI(await rg(m),_)),()=>{E.Nu(),m.asyncQueue.enqueueAndForget(async()=>MI(await rg(m),_))}}(hv(o),a,s,i)}function Tv(t,e){return function(r,s){const i=new $s;return r.asyncQueue.enqueueAndForget(async()=>kF(await zF(r),s,i)),i.promise}(hv(t),e)}function sC(t,e,n){const r=n.docs.get(e._key),s=new rC(t);return new ki(t,s,e._key,r,new hl(n.hasPendingWrites,n.fromCache),e.converter)}function cg(){return new mv("serverTimestamp")}(function(e,n=!0){(function(s){Sa=s})(Ta),la(new Ui("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Bi(new JV(r.getProvider("auth-internal")),new t4(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fs(A_,P_,e),Fs(A_,P_,"esm2020")})();function iC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l3=iC,oC=new Ic("auth","Firebase",iC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new jy("@firebase/auth");function c3(t,...e){Jd.logLevel<=pe.WARN&&Jd.warn(`Auth (${Ta}): ${t}`,...e)}function ed(t,...e){Jd.logLevel<=pe.ERROR&&Jd.error(`Auth (${Ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t,...e){throw Sv(t,...e)}function fr(t,...e){return Sv(t,...e)}function aC(t,e,n){const r={...l3(),[e]:n};return new Ic("auth","Firebase",r).create(e,{appName:t.name})}function Dr(t){return aC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oC.create(t,...e)}function re(t,e,...n){if(!t)throw Sv(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function Wr(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function u3(){return AE()==="http:"||AE()==="https:"}function AE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u3()||PL()||"connection"in navigator)?navigator.onLine:!0}function h3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=IL()||RL()}get(){return d3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],m3=new Dc(3e4,6e4);function ii(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function oi(t,e,n,r,s={}){return cC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Cc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return AL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&xa(t.emulatorConfig.host)&&(u.credentials="include"),lC.fetch()(await uC(t,t.config.apiHost,n,a),u)})}async function cC(t,e,n){t._canInitEmulator=!1;const r={...f3,...e};try{const s=new y3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Iu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Iu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Iu(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aC(t,d,u);Un(t,d)}}catch(s){if(s instanceof Kr)throw s;Un(t,"network-request-failed",{message:String(s)})}}async function Mc(t,e,n,r,s={}){const i=await oi(t,e,n,r,s);return"mfaPendingCredential"in i&&Un(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?bv(t.config,s):`${t.config.apiScheme}://${s}`;return p3.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function g3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class y3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),m3.get())})}}function Iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=fr(t,e,r);return s.customData._tokenResponse=n,s}function PE(t){return t!==void 0&&t.enterprise!==void 0}class v3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function w3(t,e){return oi(t,"GET","/v2/recaptchaConfig",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e){return oi(t,"POST","/v1/accounts:delete",e)}async function Zd(t,e){return oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E3(t,e=!1){const n=ot(t),r=await n.getIdToken(e),s=Iv(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Rl(dp(s.auth_time)),issuedAtTime:Rl(dp(s.iat)),expirationTime:Rl(dp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function dp(t){return Number(t)*1e3}function Iv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const s=pb(n);return s?JSON.parse(s):(ed("Failed to decode base64 JWT payload"),null)}catch(s){return ed("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function RE(t){const e=Iv(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kr&&x3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await cc(t,Zd(e,{idToken:n}));re(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(h=s.providerUserInfo)!=null&&h.length?dC(s.providerUserInfo):[],o=b3(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dg(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function S3(t){const e=ot(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function dC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t,e){const n=await cC(t,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await uC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&xa(t.emulatorConfig.host)&&(c.credentials="include"),lC.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C3(t,e){return oi(t,"POST","/v2/accounts:revokeToken",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=RE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await I3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Fo;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new T3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E3(this,e)}reload(){return S3(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fn(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await cc(this,_3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:g,providerData:S,stsTokenManager:v}=n;re(h&&v,e,"internal-error");const E=Fo.fromJSON(this.name,v);re(typeof h=="string",e,"internal-error"),as(r,e.name),as(s,e.name),re(typeof m=="boolean",e,"internal-error"),re(typeof g=="boolean",e,"internal-error"),as(i,e.name),as(o,e.name),as(a,e.name),as(c,e.name),as(u,e.name),as(d,e.name);const _=new kn({uid:h,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:d});return S&&Array.isArray(S)&&(_.providerData=S.map(w=>({...w}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Fo;s.updateFromServerResponse(n);const i=new kn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await eh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?dC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Fo;a.updateFromIdToken(r);const c=new kn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new dg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function Nr(t){Wr(t instanceof Function,"Expected a class definition");let e=kE.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hC.type="NONE";const NE=hC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class Uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=td(this.userKey,s.apiKey,i),this.fullPersistenceKey=td("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zd(this.auth,{idToken:e}).catch(()=>{});return n?kn._fromGetAccountInfoResponse(this.auth,n,e):null}return kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Uo(Nr(NE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Nr(NE);const o=td(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const m=await Zd(e,{idToken:d}).catch(()=>{});if(!m)break;h=await kn._fromGetAccountInfoResponse(e,m,d)}else h=kn._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Uo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Uo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vC(e))return"Blackberry";if(wC(e))return"Webos";if(pC(e))return"Safari";if((e.includes("chrome/")||mC(e))&&!e.includes("edge/"))return"Chrome";if(yC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fC(t=At()){return/firefox\//i.test(t)}function pC(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mC(t=At()){return/crios\//i.test(t)}function gC(t=At()){return/iemobile/i.test(t)}function yC(t=At()){return/android/i.test(t)}function vC(t=At()){return/blackberry/i.test(t)}function wC(t=At()){return/webos/i.test(t)}function Cv(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A3(t=At()){var e;return Cv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function P3(){return kL()&&document.documentMode===10}function _C(t=At()){return Cv(t)||yC(t)||wC(t)||vC(t)||/windows phone/i.test(t)||gC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e=[]){let n;switch(t){case"Browser":n=OE(At());break;case"Worker":n=`${OE(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e={}){return oi(t,"GET","/v2/passwordPolicy",ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=6;class O3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??N3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new R3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zd(this,{idToken:e}),r=await kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=h3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fn(this.app))return Promise.reject(Dr(this));const n=e?ot(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fn(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fn(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k3(this),n=new O3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await C3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&c3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zi(t){return ot(t)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=FL(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M3(t){Xh=t}function xC(t){return Xh.loadJS(t)}function L3(){return Xh.recaptchaEnterpriseScript}function V3(){return Xh.gapiScript}function j3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class F3{constructor(){this.enterprise=new U3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class U3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $3="recaptcha-enterprise",TC="NO_RECAPTCHA";class z3{constructor(e){this.type=$3,this.auth=Zi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{w3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new v3(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;PE(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(TC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&PE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=L3();c.length!==0&&(c+=a),xC(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function ME(t,e,n,r=!1,s=!1){const i=new z3(t);let o;if(s)o=TC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function LE(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ME(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ME(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t,e){const n=Uy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Fi(i,e??{}))return s;Un(s,"already-initialized")}return n.initialize({options:e})}function H3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function W3(t,e,n){const r=Zi(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=SC(e),{host:o,port:a}=q3(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Fi(u,r.config.emulator)&&Fi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,xa(o)?(vb(`${i}//${o}${c}`),wb("Auth",!0)):G3()}function SC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q3(t){const e=SC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:VE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:VE(o)}}}function VE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function K3(t,e){return oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e){return Mc(t,"POST","/v1/accounts:signInWithPassword",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}async function X3(t,e){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Av{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LE(e,n,"signInWithPassword",Q3);case"emailLink":return Y3(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return LE(e,r,"signUpPassword",K3);case"emailLink":return X3(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e){return Mc(t,"POST","/v1/accounts:signInWithIdp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="http://localhost";class Hi extends Av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Hi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:J3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e6(t){const e=al(ll(t)).link,n=e?al(ll(e)).deep_link_id:null,r=al(ll(t)).deep_link_id;return(r?al(ll(r)).link:null)||r||n||e||t}class Pv{constructor(e){const n=al(ll(e)),r=n.apiKey??null,s=n.oobCode??null,i=Z3(n.mode??null);re(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=e6(e);try{return new Pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pv.parseLink(n);return re(r,"argument-error"),uc._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends bC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Lc{constructor(){super("facebook.com")}static credential(e){return Hi._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hi._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gs.credential(n,r)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Lc{constructor(){super("github.com")}static credential(e){return Hi._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Lc{constructor(){super("twitter.com")}static credential(e,n){return Hi._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vs.credential(n,r)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t6(t,e){return Mc(t,"POST","/v1/accounts:signUp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await kn._fromIdTokenResponse(e,r,s),o=jE(r);return new Zs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jE(r);return new Zs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(t){var s;if(fn(t.app))return Promise.reject(Dr(t));const e=Zi(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Zs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await t6(e,{returnSecureToken:!0}),r=await Zs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Kr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new th(e,n,r,s)}}function IC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(t,i,e,r):i})}async function n6(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e,n=!1){const{auth:r}=t;if(fn(r.app))return Promise.reject(Dr(r));const s="reauthenticate";try{const i=await cc(t,IC(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Iv(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Un(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e,n=!1){if(fn(t.app))return Promise.reject(Dr(t));const r="signIn",s=await IC(t,r,e),i=await Zs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function s6(t,e){return CC(Zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t){const e=Zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function o6(t,e,n){return fn(t.app)?Promise.reject(Dr(t)):s6(ot(t),Pa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&i6(t),r})}function a6(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function l6(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function Rv(t,e,n,r){return ot(t).onAuthStateChanged(e,n,r)}function AC(t){return ot(t).signOut()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=1e3,u6=10;class RC extends PC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_C(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);P3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,u6):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},c6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}RC.type="LOCAL";const d6=RC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends PC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kC.type="SESSION";const NC=kC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await h6(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=kv("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function p6(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function m6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function y6(){return OC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="firebaseLocalStorageDb",v6=1,rh="firebaseLocalStorage",MC="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zh(t,e){return t.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function w6(){const t=indexedDB.deleteDatabase(DC);return new Vc(t).toPromise()}function fg(){const t=indexedDB.open(DC,v6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rh,{keyPath:MC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rh)?e(r):(r.close(),await w6(),e(await fg()))})})}async function FE(t,e,n){const r=Zh(t,!0).put({[MC]:e,value:n});return new Vc(r).toPromise()}async function _6(t,e){const n=Zh(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function UE(t,e){const n=Zh(t,!0).delete(e);return new Vc(n).toPromise()}const E6=800,x6=3;class LC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>x6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(y6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await m6(),!this.activeServiceWorker)return;this.sender=new f6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fg();return await FE(e,nh,"1"),await UE(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>FE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Zh(s,!1).getAll();return new Vc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LC.type="LOCAL";const T6=LC;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t,e){return e?Nr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b6(t){return CC(t.auth,new Nv(t),t.bypassAuthState)}function I6(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),r6(n,new Nv(t),t.bypassAuthState)}async function C6(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),n6(n,new Nv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b6;case"linkViaPopup":case"linkViaRedirect":return C6;case"reauthViaPopup":case"reauthViaRedirect":return I6;default:Un(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new Dc(2e3,1e4);class Co extends VC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A6.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="pendingRedirect",nd=new Map;class R6 extends VC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const r=await k6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k6(t,e){const n=D6(e),r=O6(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function N6(t,e){nd.set(t._key(),e)}function O6(t){return Nr(t._redirectPersistence)}function D6(t){return td(P6,t.config.apiKey,t.name)}async function M6(t,e,n=!1){if(fn(t.app))return Promise.reject(Dr(t));const r=Zi(t),s=S6(r,e),o=await new R6(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=10*60*1e3;class V6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L6&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function j6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F6(t,e={}){return oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$6=/^https?/;async function z6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await F6(t);for(const n of e)try{if(B6(n))return}catch{}Un(t,"unauthorized-domain")}function B6(t){const e=ug(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$6.test(n))return!1;if(U6.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new Dc(3e4,6e4);function zE(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W6(t){return new Promise((e,n)=>{var s,i,o;function r(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(fr(t,"network-request-failed"))},timeout:H6.get()})}if((i=(s=pr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=pr().gapi)!=null&&o.load)r();else{const a=j3("iframefcb");return pr()[a]=()=>{gapi.load?r():n(fr(t,"network-request-failed"))},xC(`${V3()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw rd=null,e})}let rd=null;function q6(t){return rd=rd||W6(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new Dc(5e3,15e3),K6="__/auth/iframe",Q6="emulator/auth/iframe",Y6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J6(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bv(e,Q6):`https://${t.config.authDomain}/${K6}`,r={apiKey:e.apiKey,appName:t.name,v:Ta},s=X6.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cc(r).slice(1)}`}async function Z6(t){const e=await q6(t),n=pr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:J6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y6,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=fr(t,"network-request-failed"),a=pr().setTimeout(()=>{i(o)},G6.get());function c(){pr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tU=500,nU=600,rU="_blank",sU="http://localhost";class BE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iU(t,e,n,r=tU,s=nU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...eU,width:r.toString(),height:s.toString(),top:i,left:o},u=At().toLowerCase();n&&(a=mC(u)?rU:n),fC(u)&&(e=e||sU,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,S])=>`${m}${g}=${S},`,"");if(A3(u)&&a!=="_self")return oU(e||"",a),new BE(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new BE(h)}function oU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU="__/auth/handler",lU="emulator/auth/handler",cU=encodeURIComponent("fac");async function HE(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ta,eventId:s};if(e instanceof bC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Lc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${cU}=${encodeURIComponent(c)}`:"";return`${uU(t)}?${Cc(a).slice(1)}${u}`}function uU({config:t}){return t.emulator?bv(t,lU):`https://${t.authDomain}/${aU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="webStorageSupport";class dU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NC,this._completeRedirectFn=M6,this._overrideRedirectResult=N6}async _openPopup(e,n,r,s){var o;Wr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await HE(e,n,r,ug(),s);return iU(e,i,kv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await HE(e,n,r,ug(),s);return p6(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Wr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z6(e),r=new V6(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hp,{type:hp},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[hp];i!==void 0&&n(!!i),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _C()||pC()||Cv()}}const hU=dU;var WE="@firebase/auth",qE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mU(t){la(new Ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EC(t)},u=new D3(r,s,i,c);return H3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),la(new Ui("auth-internal",e=>{const n=Zi(e.getProvider("auth").getImmediate());return(r=>new fU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(WE,qE,pU(t)),Fs(WE,qE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=5*60,yU=yb("authIdTokenMaxAge")||gU;let GE=null;const vU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yU)return;const s=n==null?void 0:n.token;GE!==s&&(GE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function wU(t=Tb()){const e=Uy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=B3(t,{popupRedirectResolver:hU,persistence:[T6,d6,NC]}),r=yb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=vU(i.toString());l6(n,o,()=>o(n.currentUser)),a6(n,a=>o(a))}}const s=mb("auth");return s&&W3(n,`http://${s}`),n}function _U(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}M3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=fr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_U().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mU("Browser");var EU="firebase",xU="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fs(EU,xU,"app");const pg={apiKey:"AIzaSyAA76KwXiz1415R0Ogr-BiqhOV29Rwpolc",authDomain:"ai-art-prompt-bc87f.firebaseapp.com",projectId:"ai-art-prompt-bc87f",storageBucket:"ai-art-prompt-bc87f.firebasestorage.app",messagingSenderId:"778571230462",appId:"1:778571230462:web:72438c4a008b7c4bbbc9af"},mg={cloudName:"dop0p5gir",uploadPreset:"prompt_art"},fl=pg.apiKey!==""&&mg.cloudName!=="";let fp,un,zt;pg.apiKey!==""&&(fp=xb(pg),un=WF(fp),zt=wU(fp));const FC=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",mg.uploadPreset);const n=await fetch(`https://api.cloudinary.com/v1_1/${mg.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok)throw new Error("Cloudinary upload failed");return(await n.json()).secure_url},gg=({message:t,type:e="success"})=>p.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 text-white transform transition-all duration-300 z-50 ${e==="success"?"bg-emerald-600":"bg-destructive"}`,children:[e==="success"?p.jsx(Ey,{size:18}):p.jsx(xc,{size:18}),p.jsx("span",{className:"font-medium",children:t})]}),Ov=({isOpen:t,onClose:e,title:n,children:r})=>t?p.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-card border border-border rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[p.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-border sticky top-0 bg-card z-10",children:[p.jsx("h2",{className:"text-xl font-bold text-foreground",children:n}),p.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:p.jsx(xc,{size:24})})]}),p.jsx("div",{className:"p-6",children:r})]})}):null,UC=({isOpen:t,onClose:e,onUpload:n,isConfigured:r})=>{const[s,i]=x.useState({image:null,prompt:"",description:"",model:"Gemini 2.5 Flash Image (Nano Banana)",uploaderName:"",uploaderEmail:""}),[o,a]=x.useState(!1),c=async u=>{if(u.preventDefault(),!(!s.image||!s.prompt||!s.uploaderName||!s.uploaderEmail)){a(!0);try{await n(s),e(),i({image:null,prompt:"",description:"",model:"Gemini 2.5 Flash Image (Nano Banana)",uploaderName:"",uploaderEmail:""})}catch(d){console.error(d)}finally{a(!1)}}};return p.jsxs(Ov,{isOpen:t,onClose:e,title:"Upload New Artwork",children:[!r&&p.jsxs("div",{className:"mb-4 p-3 bg-amber-500/10 border border-amber-500/50 rounded text-amber-200 text-sm",children:[p.jsx("strong",{children:"Warning:"})," Missing keys. Please set Firebase AND Cloudinary config."]}),p.jsxs("form",{onSubmit:c,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Image File"}),p.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors bg-background",children:s.image?p.jsxs("div",{className:"text-primary flex items-center justify-center gap-2",children:[p.jsx(Ey,{size:18})," ",s.image.name]}):p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"file",accept:"image/*",onChange:u=>{var d;return i({...s,image:((d=u.target.files)==null?void 0:d[0])||null})},className:"hidden",id:"file-upload"}),p.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2 text-muted-foreground hover:text-foreground",children:[p.jsx(xy,{size:24}),p.jsx("span",{children:"Click to select image"})]})]})})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Your Name"}),p.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.uploaderName,onChange:u=>i({...s,uploaderName:u.target.value}),placeholder:"John Doe"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Your Email"}),p.jsx("input",{type:"email",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.uploaderEmail,onChange:u=>i({...s,uploaderEmail:u.target.value}),placeholder:"john@example.com"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Title / Description"}),p.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.description,onChange:u=>i({...s,description:u.target.value}),placeholder:"e.g. Cyberpunk Cityscape"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"AI Model Used"}),p.jsxs("select",{className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.model,onChange:u=>i({...s,model:u.target.value}),children:[p.jsx("option",{children:"Midjourney v6"}),p.jsx("option",{children:"Gemini 2.5 Flash Image (Nano Banana)"}),p.jsx("option",{children:"DALL-E 3"}),p.jsx("option",{children:"Stable Diffusion XL"}),p.jsx("option",{children:"Leonardo AI"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Prompt"}),p.jsx("textarea",{required:!0,rows:4,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none font-mono text-sm text-foreground",value:s.prompt,onChange:u=>i({...s,prompt:u.target.value}),placeholder:"Enter the exact prompt used..."})]}),p.jsxs("button",{type:"submit",disabled:o,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-medium transition-colors flex justify-center items-center gap-2",children:[o?p.jsx(Vi,{className:"animate-spin"}):p.jsx(CN,{size:18}),o?"Uploading...":"Publish Artwork"]})]})]})},$C=({artwork:t,onCopy:e,onShare:n,onClick:r})=>{var s;return p.jsxs("div",{className:"group relative bg-card rounded-xl overflow-hidden border border-border hover:border-primary/50 transition-all duration-300 hover:shadow-2xl hover:shadow-primary/10 flex flex-col",children:[p.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden cursor-pointer",onClick:r,children:[p.jsx("img",{src:t.imageUrl,alt:t.description,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-4 group-hover:translate-y-0 transition-transform duration-300 opacity-0 group-hover:opacity-100",children:p.jsx("div",{className:"flex justify-between items-end",children:p.jsx("span",{className:"bg-primary/90 text-primary-foreground text-xs px-2 py-1 rounded backdrop-blur-sm",children:t.model})})})]}),p.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[p.jsx("h3",{className:"font-semibold text-foreground truncate mb-1",title:t.description,children:t.description||"Untitled Artwork"}),p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[p.jsx(bN,{size:12}),(s=t.createdAt)!=null&&s.seconds?new Date(t.createdAt.seconds*1e3).toLocaleDateString():"Just now"]}),t.uploaderName&&p.jsxs("p",{className:"text-xs text-primary font-medium",children:["by ",t.uploaderName]})]}),p.jsxs("div",{className:"mt-auto bg-background rounded-lg p-3 border border-border group-hover:border-primary/30 transition-colors",children:[p.jsxs("p",{className:"text-muted-foreground text-xs line-clamp-3 font-mono mb-3 select-none",children:[t.prompt.split(" ").slice(0,2).join(" "),"..."]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:i=>{i.stopPropagation(),e(t.prompt)},className:"flex-1 flex items-center justify-center gap-2 bg-secondary hover:bg-primary hover:text-primary-foreground text-secondary-foreground text-xs py-2 rounded-md transition-all font-medium",children:[p.jsx(aS,{size:14}),"Copy Prompt"]}),n&&p.jsx("button",{onClick:i=>{i.stopPropagation(),n()},className:"flex items-center justify-center px-3 bg-secondary hover:bg-primary hover:text-primary-foreground text-secondary-foreground rounded-md transition-all",title:"Share Artwork",children:p.jsx(ON,{size:16})})]})]})]})]})},TU=["gmail.com","icloud.com"],SU=({isOpen:t,onClose:e,onSubmit:n})=>{const[r,s]=x.useState(""),[i,o]=x.useState(""),[a,c]=x.useState(!1),u=h=>{var S;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h))return o("Please enter a valid email address"),!1;const g=(S=h.split("@")[1])==null?void 0:S.toLowerCase();return TU.includes(g)?!0:(o("Only @gmail.com and @icloud.com emails are allowed"),!1)},d=async h=>{if(h.preventDefault(),o(""),!!u(r)){c(!0);try{await n(r.toLowerCase().trim()),s(""),e()}catch(m){o(m.message||"Failed to submit email")}finally{c(!1)}}};return p.jsxs(Ov,{isOpen:t,onClose:e,title:"Access Prompt",children:[p.jsxs("div",{className:"text-center mb-6",children:[p.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(qu,{className:"text-primary",size:24})}),p.jsx("p",{className:"text-muted-foreground",children:"To copy prompts, please provide your email address. This is a one-time requirement for this session."})]}),p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i&&p.jsx("div",{className:"p-3 bg-destructive/20 border border-destructive/50 text-destructive text-sm rounded-lg",children:i}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),p.jsx("input",{type:"email",required:!0,value:r,onChange:h=>s(h.target.value),placeholder:"your.email@gmail.com",className:"w-full bg-background border border-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-ring outline-none text-foreground",disabled:a}),p.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Only @gmail.com and @icloud.com addresses are accepted"})]}),p.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:a?p.jsxs(p.Fragment,{children:[p.jsx(Vi,{className:"animate-spin",size:18}),"Submitting..."]}):"Continue"})]})]})};var pp="focusScope.autoFocusOnMount",mp="focusScope.autoFocusOnUnmount",KE={bubbles:!1,cancelable:!0},bU="FocusScope",zC=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=x.useState(null),u=mr(s),d=mr(i),h=x.useRef(null),m=Dt(e,v=>c(v)),g=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let v=function(T){if(g.paused||!a)return;const N=T.target;a.contains(N)?h.current=N:us(h.current,{select:!0})},E=function(T){if(g.paused||!a)return;const N=T.relatedTarget;N!==null&&(a.contains(N)||us(h.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&us(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,g.paused]),x.useEffect(()=>{if(a){YE.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(pp,KE);a.addEventListener(pp,u),a.dispatchEvent(_),_.defaultPrevented||(IU(kU(BC(a)),{select:!0}),document.activeElement===v&&us(a))}return()=>{a.removeEventListener(pp,u),setTimeout(()=>{const _=new CustomEvent(mp,KE);a.addEventListener(mp,d),a.dispatchEvent(_),_.defaultPrevented||us(v??document.body,{select:!0}),a.removeEventListener(mp,d),YE.remove(g)},0)}}},[a,u,d,g]);const S=x.useCallback(v=>{if(!n&&!r||g.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const w=v.currentTarget,[T,N]=CU(w);T&&N?!v.shiftKey&&_===N?(v.preventDefault(),n&&us(T,{select:!0})):v.shiftKey&&_===T&&(v.preventDefault(),n&&us(N,{select:!0})):_===w&&v.preventDefault()}},[n,r,g.paused]);return p.jsx(et.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});zC.displayName=bU;function IU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(us(r,{select:e}),document.activeElement!==n)return}function CU(t){const e=BC(t),n=QE(e,t),r=QE(e.reverse(),t);return[n,r]}function BC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function QE(t,e){for(const n of t)if(!AU(n,{upTo:e}))return n}function AU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function PU(t){return t instanceof HTMLInputElement&&"select"in t}function us(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&PU(t)&&e&&t.select()}}var YE=RU();function RU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=XE(t,e),t.unshift(e)},remove(e){var n;t=XE(t,e),(n=t[0])==null||n.resume()}}}function XE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kU(t){return t.filter(e=>e.tagName!=="A")}var gp=0;function NU(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??JE()),document.body.insertAdjacentElement("beforeend",t[1]??JE()),gp++,()=>{gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gp--}},[])}function JE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rr=function(){return rr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rr.apply(this,arguments)};function HC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function OU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var sd="right-scroll-bar-position",id="width-before-scroll-bar",DU="with-scroll-bars-hidden",MU="--removed-body-scroll-bar-size";function yp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function LU(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var VU=typeof window<"u"?x.useLayoutEffect:x.useEffect,ZE=new WeakMap;function jU(t,e){var n=LU(null,function(r){return t.forEach(function(s){return yp(s,r)})});return VU(function(){var r=ZE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||yp(a,null)}),i.forEach(function(a){s.has(a)||yp(a,o)})}ZE.set(n,t)},[t]),n}function FU(t){return t}function UU(t,e){e===void 0&&(e=FU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function $U(t){t===void 0&&(t={});var e=UU(null);return e.options=rr({async:!0,ssr:!1},t),e}var WC=function(t){var e=t.sideCar,n=HC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,rr({},n))};WC.isSideCarExport=!0;function zU(t,e){return t.useMedium(e),WC}var qC=$U(),vp=function(){},ef=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:vp,onWheelCapture:vp,onTouchMoveCapture:vp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,S=t.noIsolation,v=t.inert,E=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,T=t.gapMode,N=HC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=m,M=jU([n,e]),b=rr(rr({},N),s);return x.createElement(x.Fragment,null,d&&x.createElement(D,{sideCar:qC,removeScrollBar:u,shards:h,noRelative:g,noIsolation:S,inert:v,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:T}),o?x.cloneElement(x.Children.only(a),rr(rr({},b),{ref:M})):x.createElement(w,rr({},b,{className:c,ref:M}),a))});ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ef.classNames={fullWidth:id,zeroRight:sd};var BU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=BU();return e&&t.setAttribute("nonce",e),t}function WU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function qU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var GU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=HU())&&(WU(e,n),qU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KU=function(){var t=GU();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},GC=function(){var t=KU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},QU={left:0,top:0,right:0,gap:0},wp=function(t){return parseInt(t||"",10)||0},YU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[wp(n),wp(r),wp(s)]},XU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return QU;var e=YU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},JU=GC(),zo="data-scroll-locked",ZU=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(DU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(id,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sd," .").concat(sd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zo,`] {
    `).concat(MU,": ").concat(a,`px;
  }
`)},e1=function(){var t=parseInt(document.body.getAttribute(zo)||"0",10);return isFinite(t)?t:0},e5=function(){x.useEffect(function(){return document.body.setAttribute(zo,(e1()+1).toString()),function(){var t=e1()-1;t<=0?document.body.removeAttribute(zo):document.body.setAttribute(zo,t.toString())}},[])},t5=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;e5();var i=x.useMemo(function(){return XU(s)},[s]);return x.createElement(JU,{styles:ZU(i,!e,s,n?"":"!important")})},yg=!1;if(typeof window<"u")try{var Cu=Object.defineProperty({},"passive",{get:function(){return yg=!0,!0}});window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{yg=!1}var oo=yg?{passive:!1}:!1,n5=function(t){return t.tagName==="TEXTAREA"},KC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!n5(t)&&n[e]==="visible")},r5=function(t){return KC(t,"overflowY")},s5=function(t){return KC(t,"overflowX")},t1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=QC(t,r);if(s){var i=YC(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},i5=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},o5=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QC=function(t,e){return t==="v"?r5(e):s5(e)},YC=function(t,e){return t==="v"?i5(e):o5(e)},a5=function(t,e){return t==="h"&&e==="rtl"?-1:1},l5=function(t,e,n,r,s){var i=a5(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,d=o>0,h=0,m=0;do{if(!a)break;var g=YC(t,a),S=g[0],v=g[1],E=g[2],_=v-E-i*S;(S||_)&&QC(t,a)&&(h+=_,m+=S);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Au=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},n1=function(t){return[t.deltaX,t.deltaY]},r1=function(t){return t&&"current"in t?t.current:t},c5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},u5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},d5=0,ao=[];function h5(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),s=x.useState(d5++)[0],i=x.useState(GC)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=OU([t.lockRef.current],(t.shards||[]).map(r1),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=Au(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-_[0],N="deltaY"in v?v.deltaY:w[1]-_[1],D,M=v.target,b=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in v&&b==="h"&&M.type==="range")return!1;var I=t1(b,M);if(!I)return!0;if(I?D=b:(D=b==="v"?"h":"v",I=t1(b,M)),!I)return!1;if(!r.current&&"changedTouches"in v&&(T||N)&&(r.current=D),!D)return!0;var P=r.current||D;return l5(P,E,v,P==="h"?T:N,!0)},[]),c=x.useCallback(function(v){var E=v;if(!(!ao.length||ao[ao.length-1]!==i)){var _="deltaY"in E?n1(E):Au(E),w=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&c5(D.delta,_)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(r1).filter(Boolean).filter(function(D){return D.contains(E.target)}),N=T.length>0?a(E,T[0]):!o.current.noIsolation;N&&E.cancelable&&E.preventDefault()}}},[]),u=x.useCallback(function(v,E,_,w){var T={name:v,delta:E,target:_,should:w,shadowParent:f5(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),d=x.useCallback(function(v){n.current=Au(v),r.current=void 0},[]),h=x.useCallback(function(v){u(v.type,n1(v),v.target,a(v,t.lockRef.current))},[]),m=x.useCallback(function(v){u(v.type,Au(v),v.target,a(v,t.lockRef.current))},[]);x.useEffect(function(){return ao.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,oo),document.addEventListener("touchmove",c,oo),document.addEventListener("touchstart",d,oo),function(){ao=ao.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,oo),document.removeEventListener("touchmove",c,oo),document.removeEventListener("touchstart",d,oo)}},[]);var g=t.removeScrollBar,S=t.inert;return x.createElement(x.Fragment,null,S?x.createElement(i,{styles:u5(s)}):null,g?x.createElement(t5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function f5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const p5=zU(qC,h5);var XC=x.forwardRef(function(t,e){return x.createElement(ef,rr({},t,{ref:e,sideCar:p5}))});XC.classNames=ef.classNames;var m5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},lo=new WeakMap,Pu=new WeakMap,Ru={},_p=0,JC=function(t){return t&&(t.host||JC(t.parentNode))},g5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=JC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},y5=function(t,e,n,r){var s=g5(e,Array.isArray(t)?t:[t]);Ru[n]||(Ru[n]=new WeakMap);var i=Ru[n],o=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var g=m.getAttribute(r),S=g!==null&&g!=="false",v=(lo.get(m)||0)+1,E=(i.get(m)||0)+1;lo.set(m,v),i.set(m,E),o.push(m),v===1&&S&&Pu.set(m,!0),E===1&&m.setAttribute(n,"true"),S||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return d(e),a.clear(),_p++,function(){o.forEach(function(h){var m=lo.get(h)-1,g=i.get(h)-1;lo.set(h,m),i.set(h,g),m||(Pu.has(h)||h.removeAttribute(r),Pu.delete(h)),g||h.removeAttribute(n)}),_p--,_p||(lo=new WeakMap,lo=new WeakMap,Pu=new WeakMap,Ru={})}},v5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=m5(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),y5(r,s,n,"aria-hidden")):function(){return null}},tf="Dialog",[ZC,N9]=_c(tf),[w5,$n]=ZC(tf),eA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=x.useRef(null),c=x.useRef(null),[u,d]=jT({prop:r,defaultProp:s??!1,onChange:i,caller:tf});return p.jsx(w5,{scope:e,triggerRef:a,contentRef:c,contentId:Yf(),titleId:Yf(),descriptionId:Yf(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};eA.displayName=tf;var tA="DialogTrigger",_5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$n(tA,n),i=Dt(e,s.triggerRef);return p.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lv(s.open),...r,ref:i,onClick:Me(t.onClick,s.onOpenToggle)})});_5.displayName=tA;var Dv="DialogPortal",[E5,nA]=ZC(Dv,{forceMount:void 0}),rA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=$n(Dv,e);return p.jsx(E5,{scope:e,forceMount:n,children:x.Children.map(r,o=>p.jsx(va,{present:n||i.open,children:p.jsx(yy,{asChild:!0,container:s,children:o})}))})};rA.displayName=Dv;var sh="DialogOverlay",sA=x.forwardRef((t,e)=>{const n=nA(sh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$n(sh,t.__scopeDialog);return i.modal?p.jsx(va,{present:r||i.open,children:p.jsx(T5,{...s,ref:e})}):null});sA.displayName=sh;var x5=Nd("DialogOverlay.RemoveScroll"),T5=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$n(sh,n);return p.jsx(XC,{as:x5,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(et.div,{"data-state":Lv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Wi="DialogContent",iA=x.forwardRef((t,e)=>{const n=nA(Wi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=$n(Wi,t.__scopeDialog);return p.jsx(va,{present:r||i.open,children:i.modal?p.jsx(S5,{...s,ref:e}):p.jsx(b5,{...s,ref:e})})});iA.displayName=Wi;var S5=x.forwardRef((t,e)=>{const n=$n(Wi,t.__scopeDialog),r=x.useRef(null),s=Dt(e,n.contentRef,r);return x.useEffect(()=>{const i=r.current;if(i)return v5(i)},[]),p.jsx(oA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Me(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Me(t.onFocusOutside,i=>i.preventDefault())})}),b5=x.forwardRef((t,e)=>{const n=$n(Wi,t.__scopeDialog),r=x.useRef(!1),s=x.useRef(!1);return p.jsx(oA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),oA=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=$n(Wi,n),c=x.useRef(null),u=Dt(e,c);return NU(),p.jsxs(p.Fragment,{children:[p.jsx(zC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(Eh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Lv(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(I5,{titleId:a.titleId}),p.jsx(A5,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Mv="DialogTitle",aA=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$n(Mv,n);return p.jsx(et.h2,{id:s.titleId,...r,ref:e})});aA.displayName=Mv;var lA="DialogDescription",cA=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$n(lA,n);return p.jsx(et.p,{id:s.descriptionId,...r,ref:e})});cA.displayName=lA;var uA="DialogClose",dA=x.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=$n(uA,n);return p.jsx(et.button,{type:"button",...r,ref:e,onClick:Me(t.onClick,()=>s.onOpenChange(!1))})});dA.displayName=uA;function Lv(t){return t?"open":"closed"}var hA="DialogTitleWarning",[O9,fA]=Pk(hA,{contentName:Wi,titleName:Mv,docsSlug:"dialog"}),I5=({titleId:t})=>{const e=fA(hA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},C5="DialogDescriptionWarning",A5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fA(C5).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},P5=eA,R5=rA,pA=sA,mA=iA,gA=aA,yA=cA,k5=dA;const N5=P5,O5=R5,vA=x.forwardRef(({className:t,...e},n)=>p.jsx(pA,{ref:n,className:wn("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));vA.displayName=pA.displayName;const wA=x.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(O5,{children:[p.jsx(vA,{}),p.jsxs(mA,{ref:r,className:wn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(k5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(xc,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wA.displayName=mA.displayName;const _A=({className:t,...e})=>p.jsx("div",{className:wn("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});_A.displayName="DialogHeader";const EA=x.forwardRef(({className:t,...e},n)=>p.jsx(gA,{ref:n,className:wn("text-lg font-semibold leading-none tracking-tight",t),...e}));EA.displayName=gA.displayName;const D5=x.forwardRef(({className:t,...e},n)=>p.jsx(yA,{ref:n,className:wn("text-sm text-muted-foreground",t),...e}));D5.displayName=yA.displayName;const xA=({isOpen:t,onClose:e,url:n,title:r})=>{const[s,i]=x.useState(!1),o=()=>{navigator.clipboard.writeText(n),i(!0),setTimeout(()=>i(!1),2e3)},a=`Check out this AI artwork: ${r}`,c=encodeURIComponent(a),u=encodeURIComponent(n);return p.jsx(N5,{open:t,onOpenChange:e,children:p.jsxs(wA,{className:"sm:max-w-md",children:[p.jsx(_A,{children:p.jsx(EA,{children:"Share Artwork"})}),p.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[p.jsxs("div",{className:"flex gap-4 justify-center",children:[p.jsxs("a",{href:`https://twitter.com/intent/tweet?text=${c}&url=${u}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-muted hover:bg-muted/80 transition-colors",children:[p.jsx("div",{className:"p-3 bg-[#1DA1F2]/10 rounded-full text-[#1DA1F2]",children:p.jsx(LN,{size:24})}),p.jsx("span",{className:"text-sm font-medium",children:"Twitter"})]}),p.jsxs("a",{href:`https://wa.me/?text=${c} ${u}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-muted hover:bg-muted/80 transition-colors",children:[p.jsx("div",{className:"p-3 bg-[#25D366]/10 rounded-full text-[#25D366]",children:p.jsx(kN,{size:24})}),p.jsx("span",{className:"text-sm font-medium",children:"WhatsApp"})]})]}),p.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg bg-muted/50",children:[p.jsx("input",{readOnly:!0,value:n,className:"flex-1 bg-transparent text-sm px-2 outline-none text-muted-foreground"}),p.jsx("button",{onClick:o,className:"p-2 hover:bg-background rounded-md transition-colors",children:s?p.jsx("span",{className:"text-xs font-bold text-green-500",children:"Copied!"}):p.jsx(aS,{size:16})})]})]})]})})};var M5=typeof Element<"u",L5=typeof Map=="function",V5=typeof Set=="function",j5=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function od(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!od(t[r],e[r]))return!1;return!0}var i;if(L5&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!od(r.value[1],e.get(r.value[0])))return!1;return!0}if(V5&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(j5&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(M5&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!od(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var F5=function(e,n){try{return od(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const U5=fc(F5);var $5=function(t,e,n,r,s,i,o,a){if(!t){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,i,o,a],d=0;c=new Error(e.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},z5=$5;const s1=fc(z5);var B5=function(e,n,r,s){var i=r?r.call(s,e,n):void 0;if(i!==void 0)return!!i;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var h=e[d],m=n[d];if(i=r?r.call(s,h,m,d):void 0,i===!1||i===void 0&&h!==m)return!1}return!0};const H5=fc(B5);var TA=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(TA||{}),Ep={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},i1=Object.values(TA),Vv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},W5=Object.entries(Vv).reduce((t,[e,n])=>(t[n]=e,t),{}),Nn="data-rh",Bo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ho=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},q5=t=>{let e=Ho(t,"title");const n=Ho(t,Bo.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Ho(t,Bo.DEFAULT_TITLE);return e||r||void 0},G5=t=>Ho(t,Bo.ON_CHANGE_CLIENT_STATE)||(()=>{}),xp=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),K5=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let i=0;i<s.length;i+=1){const a=s[i].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),Q5=t=>console&&typeof console.warn=="function"&&console.warn(t),tl=(t,e,n)=>{const r={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Q5(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,i)=>{const o={};i.filter(c=>{let u;const d=Object.keys(c);for(let m=0;m<d.length;m+=1){const g=d[m],S=g.toLowerCase();e.indexOf(S)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(S==="rel"&&c[S].toLowerCase()==="stylesheet")&&(u=S),e.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(u=g)}if(!u||!c[u])return!1;const h=c[u].toLowerCase();return r[u]||(r[u]={}),o[u]||(o[u]={}),r[u][h]?!1:(o[u][h]=!0,!0)}).reverse().forEach(c=>s.push(c));const a=Object.keys(o);for(let c=0;c<a.length;c+=1){const u=a[c],d={...r[u],...o[u]};r[u]=d}return s},[]).reverse()},Y5=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},X5=t=>({baseTag:K5(["href"],t),bodyAttributes:xp("bodyAttributes",t),defer:Ho(t,Bo.DEFER),encode:Ho(t,Bo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:xp("htmlAttributes",t),linkTags:tl("link",["rel","href"],t),metaTags:tl("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:tl("noscript",["innerHTML"],t),onChangeClientState:G5(t),scriptTags:tl("script",["src","innerHTML"],t),styleTags:tl("style",["cssText"],t),title:q5(t),titleAttributes:xp("titleAttributes",t),prioritizeSeoTags:Y5(t,Bo.PRIORITIZE_SEO_TAGS)}),SA=t=>Array.isArray(t)?t.join(""):t,J5=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},Tp=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(J5(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},o1=(t,e)=>({...t,[e]:void 0}),Z5=["noscript","script","style"],vg=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),bA=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),e9=(t,e,n,r)=>{const s=bA(n),i=SA(e);return s?`<${t} ${Nn}="true" ${s}>${vg(i,r)}</${t}>`:`<${t} ${Nn}="true">${vg(i,r)}</${t}>`},t9=(t,e,n=!0)=>e.reduce((r,s)=>{const i=s,o=Object.keys(i).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const h=typeof i[d]>"u"?d:`${d}="${vg(i[d],n)}"`;return u?`${u} ${h}`:h},""),a=i.innerHTML||i.cssText||"",c=Z5.indexOf(t)===-1;return`${r}<${t} ${Nn}="true" ${o}${c?"/>":`>${a}</${t}>`}`},""),IA=(t,e={})=>Object.keys(t).reduce((n,r)=>{const s=Vv[r];return n[s||r]=t[r],n},e),n9=(t,e,n)=>{const r={key:e,[Nn]:!0},s=IA(n,r);return[W.createElement("title",s,e)]},ad=(t,e)=>e.map((n,r)=>{const s={key:r,[Nn]:!0};return Object.keys(n).forEach(i=>{const a=Vv[i]||i;if(a==="innerHTML"||a==="cssText"){const c=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:c}}else s[a]=n[i]}),W.createElement(t,s)}),ln=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>n9(t,e.title,e.titleAttributes),toString:()=>e9(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>IA(e),toString:()=>bA(e)};default:return{toComponent:()=>ad(t,e),toString:()=>t9(t,e,n)}}},r9=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const s=Tp(t,Ep.meta),i=Tp(e,Ep.link),o=Tp(n,Ep.script);return{priorityMethods:{toComponent:()=>[...ad("meta",s.priority),...ad("link",i.priority),...ad("script",o.priority)],toString:()=>`${ln("meta",s.priority,r)} ${ln("link",i.priority,r)} ${ln("script",o.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:o.default}},s9=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:o,title:a="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:d,metaTags:h,scriptTags:m}=t,g={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:g,linkTags:d,metaTags:h,scriptTags:m}=r9(t)),{priority:g,base:ln("base",e,r),bodyAttributes:ln("bodyAttributes",n,r),htmlAttributes:ln("htmlAttributes",s,r),link:ln("link",d,r),meta:ln("meta",h,r),noscript:ln("noscript",i,r),script:ln("script",m,r),style:ln("style",o,r),title:ln("title",{title:a,titleAttributes:c},r)}},wg=s9,ku=[],CA=!!(typeof window<"u"&&window.document&&window.document.createElement),_g=class{constructor(t,e){Tr(this,"instances",[]);Tr(this,"canUseDOM",CA);Tr(this,"context");Tr(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?ku:this.instances,add:t=>{(this.canUseDOM?ku:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?ku:this.instances).indexOf(t);(this.canUseDOM?ku:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=wg({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},i9={},AA=W.createContext(i9),Ai,PA=(Ai=class extends x.Component{constructor(n){super(n);Tr(this,"helmetData");this.helmetData=new _g(this.props.context||{},Ai.canUseDOM)}render(){return W.createElement(AA.Provider,{value:this.helmetData.value},this.props.children)}},Tr(Ai,"canUseDOM",CA),Ai),co=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Nn}]`),s=[].slice.call(r),i=[];let o;return e&&e.length&&e.forEach(a=>{const c=document.createElement(t);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u))if(u==="innerHTML")c.innerHTML=a.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=a.cssText:c.appendChild(document.createTextNode(a.cssText));else{const d=u,h=typeof a[d]>"u"?"":a[d];c.setAttribute(u,h)}c.setAttribute(Nn,"true"),s.some((u,d)=>(o=d,c.isEqualNode(u)))?s.splice(o,1):i.push(c)}),s.forEach(a=>{var c;return(c=a.parentNode)==null?void 0:c.removeChild(a)}),i.forEach(a=>n.appendChild(a)),{oldTags:s,newTags:i}},Eg=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Nn),s=r?r.split(","):[],i=[...s],o=Object.keys(e);for(const a of o){const c=e[a]||"";n.getAttribute(a)!==c&&n.setAttribute(a,c),s.indexOf(a)===-1&&s.push(a);const u=i.indexOf(a);u!==-1&&i.splice(u,1)}for(let a=i.length-1;a>=0;a-=1)n.removeAttribute(i[a]);s.length===i.length?n.removeAttribute(Nn):n.getAttribute(Nn)!==o.join(",")&&n.setAttribute(Nn,o.join(","))},o9=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=SA(t)),Eg("title",e)},a1=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:o,noscriptTags:a,onChangeClientState:c,scriptTags:u,styleTags:d,title:h,titleAttributes:m}=t;Eg("body",r),Eg("html",s),o9(h,m);const g={baseTag:co("base",n),linkTags:co("link",i),metaTags:co("meta",o),noscriptTags:co("noscript",a),scriptTags:co("script",u),styleTags:co("style",d)},S={},v={};Object.keys(g).forEach(E=>{const{newTags:_,oldTags:w}=g[E];_.length&&(S[E]=_),w.length&&(v[E]=g[E].oldTags)}),e&&e(),c(t,S,v)},nl=null,a9=t=>{nl&&cancelAnimationFrame(nl),t.defer?nl=requestAnimationFrame(()=>{a1(t,()=>{nl=null})}):(a1(t),nl=null)},l9=a9,l1=class extends x.Component{constructor(){super(...arguments);Tr(this,"rendered",!1)}shouldComponentUpdate(e){return!H5(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const s=X5(e.get().map(i=>{const o={...i.props};return delete o.context,o}));PA.canUseDOM?l9(s):wg&&(r=wg(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Sp,RA=(Sp=class extends x.Component{shouldComponentUpdate(t){return!U5(o1(this.props,"helmetData"),o1(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return s1(i1.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${i1.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),s1(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return W.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:s,...i}=r.props,o=Object.keys(i).reduce((c,u)=>(c[W5[u]||u]=i[u],c),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,s),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,s);break;default:e=this.mapObjectTypeChildren(r,e,o,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof _g)){const s=r;r=new _g(s.context,!0),delete n.helmetData}return r?W.createElement(l1,{...n,context:r.value}):W.createElement(AA.Consumer,null,s=>W.createElement(l1,{...n,context:s}))}},Tr(Sp,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Sp);const c9=[{id:"1",imageUrl:"https://images.unsplash.com/photo-1675271591211-6029fe4066d1?q=80&w=800&auto=format&fit=crop",prompt:"Cyberpunk city street at night, neon lights reflecting on wet pavement",model:"Midjourney v6",description:"Neo-Tokyo night drive",createdAt:{seconds:1709251200}},{id:"2",imageUrl:"https://images.unsplash.com/photo-1655720828018-edd2daec9349?q=80&w=800&auto=format&fit=crop",prompt:"A cute robot gardener watering plants in a greenhouse",model:"DALL-E 3",description:"Eco-bot 3000",createdAt:{seconds:1709164800}}],u9=()=>{const[t,e]=x.useState([]),[n,r]=x.useState(!0),[s,i]=x.useState(null),[o,a]=x.useState(!1),[c,u]=x.useState(null),{searchTerm:d}=jM(),[h,m]=x.useState("All"),[g,S]=x.useState("newest"),[v,E]=x.useState(!1),[_,w]=x.useState(null),[T,N]=x.useState(null),[D,M]=x.useState(()=>sessionStorage.getItem("promptAccessGranted")==="true");x.useEffect(()=>{if(!fl){e(c9),r(!1);return}(async()=>{try{zt.currentUser||await hg(zt)}catch(j){console.error("Auth error:",j),(j.code==="auth/configuration-not-found"||j.code==="auth/operation-not-allowed")&&i({message:"SETUP REQUIRED: Enable 'Anonymous' Sign-in in Firebase Console",type:"error"})}})();const q=Rv(zt,j=>{u(j)}),Q=ig(Vo(un,"artworks"),og("createdAt","desc")),Z=lg(Q,j=>{const z=j.docs.map(K=>({id:K.id,...K.data()}));e(z),r(!1)},j=>{console.error("Data fetch error:",j),i({message:"Error connecting to database",type:"error"}),r(!1)});return()=>{q(),Z()}},[]);const b=(F,q="success")=>{i({message:F,type:q}),setTimeout(()=>i(null),3e3)},I=F=>{if(!D){N(F),E(!0);return}if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(F).then(()=>{b("Prompt copied!")}).catch(()=>{b("Failed to copy","error")});else{const q=document.createElement("textarea");q.value=F,document.body.appendChild(q),q.select();try{document.execCommand("copy"),b("Prompt copied!")}catch{b("Failed to copy","error")}document.body.removeChild(q)}},P=async F=>{if(!fl){b("Firebase not configured","error");return}try{await ag(Vo(un,"prompt_access_emails"),{email:F,submittedAt:cg(),userAgent:navigator.userAgent}),sessionStorage.setItem("promptAccessGranted","true"),M(!0),T&&(I(T),N(null)),b("Email submitted successfully!")}catch(q){throw console.error("Email submission error:",q),new Error("Failed to submit email. Please try again.")}},R=F=>{const q=`${window.location.origin}/#/artwork/${F.id}`;w({url:q,title:F.description||"AI Artwork"})},A=async F=>{if(!F.image||!F.prompt){b("Image and Prompt are required","error");return}if(!fl){b("Configure API keys first","error");return}try{const q=await FC(F.image);await ag(Vo(un,"artworks"),{imageUrl:q,prompt:F.prompt,description:F.description,model:F.model,createdAt:cg(),uploaderId:c?c.uid:"anon",uploaderName:F.uploaderName,uploaderEmail:F.uploaderEmail,status:"pending"}),b("Artwork submitted for approval!")}catch(q){throw console.error(q),b("Upload failed: "+q.message,"error"),q}},O=x.useMemo(()=>{let F=[...t];if(F=F.filter(q=>!q.status||q.status==="approved"),d){const q=d.toLowerCase();F=F.filter(Q=>Q.prompt.toLowerCase().includes(q)||Q.description.toLowerCase().includes(q)||Q.model.toLowerCase().includes(q))}return h!=="All"&&(F=F.filter(q=>q.model===h)),g==="oldest"?F.sort((q,Q)=>{var Z,j;return((Z=q.createdAt)==null?void 0:Z.seconds)-((j=Q.createdAt)==null?void 0:j.seconds)}):F.sort((q,Q)=>{var Z,j;return((Z=Q.createdAt)==null?void 0:Z.seconds)-((j=q.createdAt)==null?void 0:j.seconds)}),F},[t,d,h,g]),k=["All",...new Set(t.map(F=>F.model))];return p.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[p.jsxs(RA,{children:[p.jsx("title",{children:"Prompt Vision Gallery - AI Art Prompts"}),p.jsx("meta",{name:"description",content:"Discover and share amazing AI-generated art prompts. Join the community of AI artists and explore a gallery of creative prompts."}),p.jsx("meta",{property:"og:title",content:"Prompt Vision Gallery - AI Art Prompts"}),p.jsx("meta",{property:"og:description",content:"Discover and share amazing AI-generated art prompts."}),p.jsx("meta",{property:"og:image",content:"/og-image.png"})]}),p.jsx(UC,{isOpen:o,onClose:()=>a(!1),onUpload:A,isConfigured:fl}),p.jsx(SU,{isOpen:v,onClose:()=>{E(!1),N(null)},onSubmit:P}),_&&p.jsx(xA,{isOpen:!!_,onClose:()=>w(null),url:_.url,title:_.title}),s&&p.jsx(gg,{message:s.message,type:s.type}),p.jsx("div",{className:"relative bg-gradient-to-b from-card to-background border-b border-border",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8 text-center",children:[p.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-6",children:["Discover the Art of"," ",p.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-accent",children:"Prompt Engineering"})]}),p.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"A curated collection of AI-generated imagery and the exact prompts used to create them. Explore, learn, and create."}),p.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-3 rounded-full font-medium transition-all shadow-lg",children:[p.jsx(xy,{size:18}),"Upload Your Artwork"]})]})}),p.jsx("div",{className:"border-b border-border bg-background",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto w-full sm:w-auto pb-2 sm:pb-0 no-scrollbar",children:[p.jsx(RN,{size:16,className:"text-muted-foreground mr-2 flex-shrink-0"}),k.map(F=>p.jsx("button",{onClick:()=>m(F),className:`px-4 py-1.5 rounded-full text-sm whitespace-nowrap transition-colors ${h===F?"bg-primary text-primary-foreground font-medium":"bg-card text-muted-foreground hover:text-foreground hover:bg-muted"} `,children:F},F))]}),p.jsxs("select",{value:g,onChange:F=>S(F.target.value),className:"bg-card border-none text-foreground text-sm rounded-lg focus:ring-2 focus:ring-ring block w-full sm:w-auto p-2.5 cursor-pointer",children:[p.jsx("option",{value:"newest",children:"Newest First"}),p.jsx("option",{value:"oldest",children:"Oldest First"})]})]})}),p.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n?p.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[p.jsx(Vi,{className:"animate-spin mb-4",size:40}),p.jsx("p",{children:"Loading library..."})]}):O.length===0?p.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[p.jsx(xm,{size:48,className:"mx-auto mb-4 opacity-50"}),p.jsx("p",{className:"text-xl font-medium",children:"No artworks found"}),p.jsx("p",{children:"Try adjusting your search or filters"})]}):p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:O.map(F=>p.jsx($C,{artwork:F,onCopy:I,onShare:()=>R(F),onClick:()=>{}},F.id))})})]})},c1=({isOpen:t,onClose:e,onLogin:n})=>{const[r,s]=x.useState(""),[i,o]=x.useState(""),[a,c]=x.useState(""),[u,d]=x.useState(!1),h=async m=>{m.preventDefault(),c(""),d(!0);try{await n(r,i),e()}catch{c("Invalid email or password")}finally{d(!1)}};return p.jsx(Ov,{isOpen:t,onClose:e,title:"Admin Login",children:p.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a&&p.jsx("div",{className:"p-3 bg-destructive/20 border border-destructive/50 text-destructive-foreground text-sm rounded",children:a}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Email"}),p.jsx("input",{type:"email",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:r,onChange:m=>s(m.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:i,onChange:m=>o(m.target.value)})]}),p.jsx("button",{type:"submit",disabled:u,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-2 rounded-lg font-medium transition-colors",children:u?p.jsx(Vi,{className:"animate-spin mx-auto",size:20}):"Login"})]})})},d9=()=>{const t=Nh(),[e,n]=x.useState(null),[r,s]=x.useState([]),[i,o]=x.useState(!0),[a,c]=x.useState(null),[u,d]=x.useState(!1),[h,m]=x.useState(!1),[g,S]=x.useState([]),[v,E]=x.useState(!0),[_,w]=x.useState({totalArtworks:0,totalViews:0,recentUploads:0}),T=!!(e&&!e.isAnonymous);x.useEffect(()=>{const A=Rv(zt,Q=>{n(Q),(!Q||Q.isAnonymous)&&(d(!0),o(!1))});if(!un){o(!1);return}const O=ig(Vo(un,"artworks"),og("createdAt","desc")),k=lg(O,Q=>{const Z=Q.docs.map(K=>({id:K.id,...K.data()}));s(Z);const j=Date.now()/1e3,z=Z.filter(K=>{var ie;return((ie=K.createdAt)==null?void 0:ie.seconds)>j-7*24*60*60}).length;w({totalArtworks:Z.length,totalViews:Z.length*15,recentUploads:z}),o(!1)},Q=>{console.error("Data fetch error:",Q),o(!1)}),F=ig(Vo(un,"prompt_access_emails"),og("submittedAt","desc")),q=lg(F,Q=>{const Z=Q.docs.map(j=>({id:j.id,...j.data()}));S(Z),E(!1)},Q=>{console.error("Email fetch error:",Q),E(!1)});return()=>{A(),k(),q()}},[t]);const N=(A,O="success")=>{c({message:A,type:O}),setTimeout(()=>c(null),3e3)},D=async(A,O)=>{zt&&(await AC(zt),await o6(zt,A,O),N("Welcome back, Admin!"),d(!1))},M=async A=>{if(window.confirm("Are you sure you want to delete this artwork?"))try{await a3(Pl(un,"artworks",A)),N("Artwork deleted successfully")}catch(O){console.error("Error deleting:",O),N("Failed to delete artwork","error")}},b=async A=>{try{await CE(Pl(un,"artworks",A),{status:"approved"}),N("Artwork approved!")}catch(O){console.error("Error approving:",O),N("Failed to approve artwork","error")}},I=async A=>{if(window.confirm("Are you sure you want to reject this artwork?"))try{await CE(Pl(un,"artworks",A),{status:"rejected"}),N("Artwork rejected")}catch(O){console.error("Error rejecting:",O),N("Failed to reject artwork","error")}},P=async A=>{if(!A.image||!A.prompt){N("Image and Prompt are required","error");return}try{const O=await FC(A.image);await ag(Vo(un,"artworks"),{imageUrl:O,prompt:A.prompt,description:A.description,model:A.model,createdAt:cg(),uploaderId:e?e.uid:"anon"}),N("Artwork published!"),m(!1)}catch(O){throw console.error(O),N("Upload failed: "+O.message,"error"),O}},R=()=>{if(g.length===0){N("No emails to export","error");return}const A=[["Email","Submitted At","User Agent"].join(","),...g.map(q=>{var Q;return[q.email,(Q=q.submittedAt)!=null&&Q.seconds?new Date(q.submittedAt.seconds*1e3).toISOString():"Recent",`"${(q.userAgent||"N/A").replace(/"/g,'""')}"`].join(",")})].join(`
`),O=new Blob([A],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),F=URL.createObjectURL(O);k.setAttribute("href",F),k.setAttribute("download",`email_submissions_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k),N("Emails exported successfully!")};return!T&&!i?p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(c1,{isOpen:u,onClose:()=>t("/"),onLogin:D}),a&&p.jsx(gg,{message:a.message,type:a.type}),p.jsx("div",{className:"flex items-center justify-center min-h-screen",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Admin Access Required"}),p.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the admin dashboard."}),p.jsx("button",{onClick:()=>t("/"),className:"bg-muted hover:bg-muted/80 text-foreground px-6 py-2 rounded-lg",children:"Back to Home"})]})})]}):i?p.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p.jsx(Vi,{className:"animate-spin text-primary",size:40})}):p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx(c1,{isOpen:u,onClose:()=>t("/"),onLogin:D}),a&&p.jsx(gg,{message:a.message,type:a.type}),p.jsx(UC,{isOpen:h,onClose:()=>m(!1),onUpload:P,isConfigured:!0}),p.jsx("div",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-10",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:()=>t("/"),className:"text-muted-foreground hover:text-foreground transition-colors",children:p.jsx(Em,{size:24})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Admin Dashboard"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your prompt gallery"})]})]}),p.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:[p.jsx(xy,{size:18}),"Upload New"]})]})})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:p.jsx(xm,{className:"text-primary",size:24})}),p.jsx(yu,{className:"text-emerald-400",size:20})]}),p.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:_.totalArtworks}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Artworks"})]}),p.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:p.jsx(PN,{className:"text-primary",size:24})}),p.jsx(yu,{className:"text-emerald-400",size:20})]}),p.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:_.totalViews}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Views"})]}),p.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:p.jsx(IN,{className:"text-primary",size:24})}),p.jsx(yu,{className:"text-emerald-400",size:20})]}),p.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:_.recentUploads}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"This Week"})]}),p.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:p.jsx(qu,{className:"text-primary",size:24})}),p.jsx(yu,{className:"text-emerald-400",size:20})]}),p.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:g.length}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Email Submissions"})]})]}),p.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden mb-8",children:[p.jsxs("div",{className:"p-6 border-b border-border flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[p.jsx(qu,{size:20,className:"text-primary"}),"Email Submissions"]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Users who submitted emails to access prompts"})]}),p.jsxs("button",{onClick:R,disabled:g.length===0,className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground disabled:cursor-not-allowed text-primary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:[p.jsx(AN,{size:18}),"Export CSV"]})]}),p.jsx("div",{className:"overflow-x-auto",children:v?p.jsx("div",{className:"flex justify-center py-12",children:p.jsx(Vi,{className:"animate-spin text-primary",size:32})}):g.length===0?p.jsxs("div",{className:"text-center py-12",children:[p.jsx(qu,{size:48,className:"mx-auto mb-4 text-muted-foreground opacity-50"}),p.jsx("p",{className:"text-muted-foreground",children:"No email submissions yet"})]}):p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-muted/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Email"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Submitted At"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User Agent"})]})}),p.jsx("tbody",{className:"divide-y divide-border",children:g.map(A=>{var O;return p.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:"font-medium text-foreground",children:A.email})}),p.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:(O=A.submittedAt)!=null&&O.seconds?new Date(A.submittedAt.seconds*1e3).toLocaleString():"Recent"}),p.jsx("td",{className:"px-6 py-4 text-xs text-muted-foreground max-w-xs truncate",children:A.userAgent||"N/A"})]},A.id)})})]})})]}),p.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-border",children:[p.jsx("h2",{className:"text-xl font-bold text-foreground",children:"All Artworks"}),p.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage and moderate your gallery content"})]}),p.jsxs("div",{className:"overflow-x-auto",children:[p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-muted/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Artwork"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Uploader"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),p.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-border",children:r.map(A=>{var O;return p.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("img",{src:A.imageUrl,alt:A.description,className:"w-16 h-16 rounded-lg object-cover border border-border"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-foreground",children:A.description}),p.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 max-w-md",children:A.prompt}),p.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-muted text-muted-foreground mt-1",children:A.model})]})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"font-medium text-foreground",children:A.uploaderName||"Anonymous"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:A.uploaderEmail||"No email"})]})}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.status==="approved"?"bg-green-500/10 text-green-500":A.status==="rejected"?"bg-red-500/10 text-red-500":"bg-yellow-500/10 text-yellow-500"}`,children:A.status||"approved"})}),p.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:(O=A.createdAt)!=null&&O.seconds?new Date(A.createdAt.seconds*1e3).toLocaleDateString():"Just now"}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(!A.status||A.status==="pending")&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>b(A.id),className:"p-1 text-green-500 hover:bg-green-500/10 rounded transition-colors",title:"Approve",children:p.jsx(Ey,{size:18})}),p.jsx("button",{onClick:()=>I(A.id),className:"p-1 text-red-500 hover:bg-red-500/10 rounded transition-colors",title:"Reject",children:p.jsx(xc,{size:18})})]}),p.jsx("button",{onClick:()=>M(A.id),className:"p-1 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Delete",children:p.jsx(MN,{size:18})})]})})]},A.id)})})]}),r.length===0&&p.jsxs("div",{className:"text-center py-12",children:[p.jsx(xm,{size:48,className:"mx-auto mb-4 text-muted-foreground opacity-50"}),p.jsx("p",{className:"text-muted-foreground",children:"No artworks yet. Upload your first piece!"})]})]})]})]})]})},h9=()=>{const t=bc();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},jv=({searchTerm:t,setSearchTerm:e,isAdmin:n,handleLogout:r,showSearch:s=!0,showAdminControls:i=!0})=>{const o=Nh();return p.jsx("nav",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsxs(Dm,{to:"/",className:"flex items-center gap-2 text-primary hover:opacity-90 transition-opacity",children:[p.jsx(DN,{size:28}),p.jsxs("span",{className:"text-xl font-bold text-foreground tracking-tight",children:["Prompt",p.jsx("span",{className:"text-primary",children:"Gallery"})]})]}),p.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[s&&e&&p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:p.jsx(NN,{size:16,className:"text-muted-foreground"})}),p.jsx("input",{type:"text",placeholder:"Search prompts...",value:t,onChange:a=>e(a.target.value),className:"bg-card border border-border text-sm rounded-full pl-10 pr-4 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-ring transition-all text-foreground"})]}),i&&n&&r&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>o("/admin"),className:"text-xs font-medium px-3 py-1 rounded-full bg-primary/20 border border-primary text-primary hover:bg-primary/30 transition-colors",children:"Admin Panel"}),p.jsx("button",{onClick:r,className:"text-xs font-medium px-3 py-1 rounded-full border bg-primary/20 border-primary text-primary transition-colors",children:"Log Out"})]})]})]})})})},f9=()=>p.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[p.jsx(jv,{showSearch:!1,showAdminControls:!1}),p.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[p.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Privacy Policy"}),p.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-6",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Introduction"}),p.jsx("p",{className:"text-muted-foreground",children:"Welcome to Prompt Vision Gallery. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Data We Collect"}),p.jsx("p",{className:"text-muted-foreground",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),p.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[p.jsx("li",{children:"Identity Data includes first name, last name, username or similar identifier."}),p.jsx("li",{children:"Contact Data includes email address."}),p.jsx("li",{children:"Technical Data includes internet protocol (IP) address, your login data, browser type and version, time zone setting and location, browser plug-in types and versions, operating system and platform and other technology on the devices you use to access this website."}),p.jsx("li",{children:"Usage Data includes information about how you use our website, products and services."})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. How We Use Your Data"}),p.jsx("p",{className:"text-muted-foreground",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),p.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[p.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),p.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."}),p.jsx("li",{children:"Where we need to comply with a legal or regulatory obligation."})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Data Security"}),p.jsx("p",{className:"text-muted-foreground",children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. In addition, we limit access to your personal data to those employees, agents, contractors and other third parties who have a business need to know."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Contact Us"}),p.jsx("p",{className:"text-muted-foreground",children:"If you have any questions about this privacy policy or our privacy practices, please contact us."})]})]})]})]}),p9=()=>p.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[p.jsx(jv,{showSearch:!1,showAdminControls:!1}),p.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[p.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Terms of Service"}),p.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-6",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Agreement to Terms"}),p.jsx("p",{className:"text-muted-foreground",children:"By accessing or using Prompt Vision Gallery, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Use License"}),p.jsx("p",{className:"text-muted-foreground",children:"Permission is granted to temporarily download one copy of the materials (information or software) on Prompt Vision Gallery's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),p.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[p.jsx("li",{children:"modify or copy the materials;"}),p.jsx("li",{children:"use the materials for any commercial purpose, or for any public display (commercial or non-commercial);"}),p.jsx("li",{children:"attempt to decompile or reverse engineer any software contained on Prompt Vision Gallery's website;"}),p.jsx("li",{children:"remove any copyright or other proprietary notations from the materials; or"}),p.jsx("li",{children:'transfer the materials to another person or "mirror" the materials on any other server.'})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. User Content"}),p.jsx("p",{className:"text-muted-foreground",children:"You retain all rights in, and are solely responsible for, the User Content you post to Prompt Vision Gallery. By posting User Content, you grant Prompt Vision Gallery a non-exclusive, transferable, sub-licensable, royalty-free, worldwide license to use, copy, modify, create derivative works based upon, distribute, publicly display, and publicly perform your User Content in connection with operating and providing the Service."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Disclaimer"}),p.jsx("p",{className:"text-muted-foreground",children:"The materials on Prompt Vision Gallery's website are provided on an 'as is' basis. Prompt Vision Gallery makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Limitations"}),p.jsx("p",{className:"text-muted-foreground",children:"In no event shall Prompt Vision Gallery or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Prompt Vision Gallery's website."})]})]})]})]}),m9=()=>p.jsx("footer",{className:"bg-background border-t py-12 mt-auto",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("span",{className:"text-xl font-bold text-foreground tracking-tight",children:["Prompt",p.jsx("span",{className:"text-primary",children:"Gallery"})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover and share amazing AI-generated art prompts."})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium mb-4",children:"Legal"}),p.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[p.jsx("li",{children:p.jsx(Dm,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"})}),p.jsx("li",{children:p.jsx(Dm,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms of Service"})})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium mb-4",children:"Credits"}),p.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{children:"Developer:"}),p.jsxs("a",{href:"https://instagram.com/sahilgupta.pvtt",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-foreground transition-colors",children:["Sahil Gupta ",p.jsx(F0,{className:"h-4 w-4"})]})]}),p.jsxs("li",{className:"flex items-center gap-2",children:[p.jsx("span",{children:"Promoter:"}),p.jsxs("a",{href:"https://instagram.com/bytanmay",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-foreground transition-colors",children:["Tanmay Pandey ",p.jsx(F0,{className:"h-4 w-4"})]})]})]})]})]}),p.jsx("div",{className:"mt-12 pt-8 border-t text-center text-sm text-muted-foreground",children:p.jsxs("p",{children:[" ",new Date().getFullYear()," PromptGallery. All rights reserved."]})})]})}),g9=()=>{const[t,e]=x.useState(null),[n,r]=x.useState(!0),[s,i]=x.useState(null);x.useEffect(()=>{if(!fl){r(!1);return}(async()=>{try{zt.currentUser||await hg(zt)}catch(u){console.error("Auth error:",u),u.code==="auth/configuration-not-found"||u.code==="auth/operation-not-allowed"?i("SETUP REQUIRED: Enable 'Anonymous' Sign-in in Firebase Console"):i(u.message)}})();const c=Rv(zt,u=>{e(u),r(!1)});return()=>c()},[]);const o=async()=>{zt&&(await AC(zt),await hg(zt))};return{user:t,loading:n,error:s,isAdmin:!!(t&&!t.isAnonymous),logout:o}},y9=()=>{const[t,e]=x.useState(""),{isAdmin:n,logout:r}=g9();return p.jsxs("div",{className:"flex flex-col min-h-screen",children:[p.jsx(jv,{searchTerm:t,setSearchTerm:e,isAdmin:n,handleLogout:r}),p.jsx("main",{className:"flex-grow",children:p.jsx(eL,{context:{searchTerm:t,setSearchTerm:e}})}),p.jsx(m9,{})]})},v9=()=>{const{id:t}=UM(),e=Nh(),[n,r]=x.useState(null),[s,i]=x.useState(!0),[o,a]=x.useState(null),[c,u]=x.useState(!1);x.useEffect(()=>{(async()=>{if(t)try{const m=Pl(un,"artworks",t),g=await o3(m);g.exists()?r({id:g.id,...g.data()}):a("Artwork not found")}catch(m){console.error("Error fetching artwork:",m),a("Failed to load artwork")}finally{i(!1)}})()},[t]);const d=h=>{navigator.clipboard.writeText(h)};return s?p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsx(Vi,{className:"animate-spin text-primary",size:40})}):o||!n?p.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[p.jsx("h1",{className:"text-2xl font-bold text-foreground",children:o||"Artwork not found"}),p.jsxs("button",{onClick:()=>e("/"),className:"text-primary hover:underline flex items-center gap-2",children:[p.jsx(Em,{size:20}),"Back to Gallery"]})]}):p.jsxs("div",{className:"min-h-screen bg-background py-12 px-4 sm:px-6 lg:px-8",children:[p.jsxs(RA,{children:[p.jsx("title",{children:n.description?`${n.description.slice(0,50)}... - Prompt Vision Gallery`:"Artwork - Prompt Vision Gallery"}),p.jsx("meta",{name:"description",content:n.prompt||n.description||"View this amazing AI generated artwork on Prompt Vision Gallery"}),p.jsx("meta",{property:"og:title",content:n.description||"AI Artwork"}),p.jsx("meta",{property:"og:description",content:n.prompt||"View this amazing AI generated artwork"}),n.imageUrl&&p.jsx("meta",{property:"og:image",content:n.imageUrl}),p.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsxs("button",{onClick:()=>e("/"),className:"mb-6 flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors",children:[p.jsx(Em,{size:20}),"Back to Gallery"]}),p.jsx($C,{artwork:n,onCopy:d,onShare:()=>u(!0),onClick:()=>{}}),p.jsx(xA,{isOpen:c,onClose:()=>u(!1),url:window.location.href,title:n.description||"AI Artwork"})]})]})},w9=new aM,_9=()=>p.jsx(PA,{children:p.jsx(cM,{client:w9,children:p.jsxs(VD,{children:[p.jsx(v2,{}),p.jsx(Y2,{}),p.jsx(cL,{children:p.jsxs(nL,{children:[p.jsxs(cs,{element:p.jsx(y9,{}),children:[p.jsx(cs,{path:"/",element:p.jsx(u9,{})}),p.jsx(cs,{path:"/artwork/:id",element:p.jsx(v9,{})}),p.jsx(cs,{path:"/privacy",element:p.jsx(f9,{})}),p.jsx(cs,{path:"/terms",element:p.jsx(p9,{})})]}),p.jsx(cs,{path:"/admin",element:p.jsx(d9,{})}),p.jsx(cs,{path:"*",element:p.jsx(h9,{})})]})})]})})});kT(document.getElementById("root")).render(p.jsx(_9,{}));
