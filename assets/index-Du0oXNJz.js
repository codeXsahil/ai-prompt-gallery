var _v=t=>{throw TypeError(t)};var Vh=(t,e,n)=>e.has(t)||_v("Cannot "+n);var F=(t,e,n)=>(Vh(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?_v("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(Vh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vt=(t,e,n)=>(Vh(t,e,"access private method"),n);var Pc=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return F(t,e,r)}});function Ub(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function nE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rE={exports:{}},Ad={},sE={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=Symbol.for("react.element"),zb=Symbol.for("react.portal"),$b=Symbol.for("react.fragment"),Bb=Symbol.for("react.strict_mode"),Wb=Symbol.for("react.profiler"),Hb=Symbol.for("react.provider"),qb=Symbol.for("react.context"),Gb=Symbol.for("react.forward_ref"),Kb=Symbol.for("react.suspense"),Qb=Symbol.for("react.memo"),Yb=Symbol.for("react.lazy"),Ev=Symbol.iterator;function Xb(t){return t===null||typeof t!="object"?null:(t=Ev&&t[Ev]||t["@@iterator"],typeof t=="function"?t:null)}var iE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oE=Object.assign,aE={};function ea(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||iE}ea.prototype.isReactComponent={};ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lE(){}lE.prototype=ea.prototype;function Tm(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||iE}var Im=Tm.prototype=new lE;Im.constructor=Tm;oE(Im,ea.prototype);Im.isPureReactComponent=!0;var xv=Array.isArray,cE=Object.prototype.hasOwnProperty,Sm={current:null},uE={key:!0,ref:!0,__self:!0,__source:!0};function dE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cE.call(e,r)&&!uE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Kl,type:t,key:i,ref:o,props:s,_owner:Sm.current}}function Jb(t,e){return{$$typeof:Kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kl}function Zb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tv=/\/+/g;function jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zb(""+t.key):e.toString(36)}function iu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Kl:case zb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+jh(o,0):r,xv(s)?(n="",t!=null&&(n=t.replace(Tv,"$&/")+"/"),iu(s,e,n,"",function(u){return u})):s!=null&&(bm(s)&&(s=Jb(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xv(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+jh(i,a);o+=iu(i,e,n,c,s)}else if(c=Xb(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+jh(i,a++),o+=iu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rc(t,e,n){if(t==null)return t;var r=[],s=0;return iu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function eA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},ou={transition:null},tA={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:ou,ReactCurrentOwner:Sm};function hE(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Rc,forEach:function(t,e,n){Rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!bm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ea;fe.Fragment=$b;fe.Profiler=Wb;fe.PureComponent=Tm;fe.StrictMode=Bb;fe.Suspense=Kb;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tA;fe.act=hE;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)cE.call(e,c)&&!uE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Kl,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:qb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hb,_context:t},t.Consumer=t};fe.createElement=dE;fe.createFactory=function(t){var e=dE.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Gb,render:t}};fe.isValidElement=bm;fe.lazy=function(t){return{$$typeof:Yb,_payload:{_status:-1,_result:t},_init:eA}};fe.memo=function(t,e){return{$$typeof:Qb,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=ou.transition;ou.transition={};try{t()}finally{ou.transition=e}};fe.unstable_act=hE;fe.useCallback=function(t,e){return Dt.current.useCallback(t,e)};fe.useContext=function(t){return Dt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Dt.current.useEffect(t,e)};fe.useId=function(){return Dt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Dt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};fe.useRef=function(t){return Dt.current.useRef(t)};fe.useState=function(t){return Dt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Dt.current.useTransition()};fe.version="18.3.1";sE.exports=fe;var C=sE.exports;const H=nE(C),fE=Ub({__proto__:null,default:H},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA=C,rA=Symbol.for("react.element"),sA=Symbol.for("react.fragment"),iA=Object.prototype.hasOwnProperty,oA=nA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aA={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)iA.call(e,r)&&!aA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:rA,type:t,key:i,ref:o,props:s,_owner:oA.current}}Ad.Fragment=sA;Ad.jsx=pE;Ad.jsxs=pE;rE.exports=Ad;var y=rE.exports,mE={exports:{}},nn={},gE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var G=j.length;j.push($);e:for(;0<G;){var ie=G-1>>>1,Z=j[ie];if(0<s(Z,$))j[ie]=$,j[G]=Z,G=ie;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],G=j.pop();if(G!==$){j[0]=G;e:for(var ie=0,Z=j.length,de=Z>>>1;ie<de;){var ce=2*(ie+1)-1,De=j[ce],He=ce+1,ye=j[He];if(0>s(De,G))He<Z&&0>s(ye,De)?(j[ie]=ye,j[He]=G,ie=He):(j[ie]=De,j[ce]=G,ie=ce);else if(He<Z&&0>s(ye,G))j[ie]=ye,j[He]=G,ie=He;else break e}}return $}function s(j,$){var G=j.sortIndex-$.sortIndex;return G!==0?G:j.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,m=3,p=!1,b=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=j)r(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(u)}}function D(j){if(_=!1,T(j),!b)if(n(c)!==null)b=!0,J(O);else{var $=n(u);$!==null&&te(D,$.startTime-j)}}function O(j,$){b=!1,_&&(_=!1,w(I),I=-1),p=!0;var G=m;try{for(T($),f=n(c);f!==null&&(!(f.expirationTime>$)||j&&!x());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,m=f.priorityLevel;var Z=ie(f.expirationTime<=$);$=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(c)&&r(c),T($)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var ce=n(u);ce!==null&&te(D,ce.startTime-$),de=!1}return de}finally{f=null,m=G,p=!1}}var L=!1,S=null,I=-1,k=5,N=-1;function x(){return!(t.unstable_now()-N<k)}function P(){if(S!==null){var j=t.unstable_now();N=j;var $=!0;try{$=S(!0,j)}finally{$?R():(L=!1,S=null)}}else L=!1}var R;if(typeof v=="function")R=function(){v(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Y=z.port2;z.port1.onmessage=P,R=function(){Y.postMessage(null)}}else R=function(){E(P,0)};function J(j){S=j,L||(L=!0,R())}function te(j,$){I=E(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,J(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var G=m;m=$;try{return j()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=m;m=j;try{return $()}finally{m=G}},t.unstable_scheduleCallback=function(j,$,G){var ie=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ie+G:ie):G=ie,j){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=G+Z,j={id:d++,callback:$,priorityLevel:j,startTime:G,expirationTime:Z,sortIndex:-1},G>ie?(j.sortIndex=G,e(u,j),n(c)===null&&j===n(u)&&(_?(w(I),I=-1):_=!0,te(D,G-ie))):(j.sortIndex=Z,e(c,j),b||p||(b=!0,J(O))),j},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(j){var $=m;return function(){var G=m;m=$;try{return j.apply(this,arguments)}finally{m=G}}}})(yE);gE.exports=yE;var lA=gE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA=C,tn=lA;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vE=new Set,hl={};function Mi(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(hl[t]=e,t=0;t<e.length;t++)vE.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,uA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iv={},Sv={};function dA(t){return Nf.call(Sv,t)?!0:Nf.call(Iv,t)?!1:uA.test(t)?Sv[t]=!0:(Iv[t]=!0,!1)}function hA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fA(t,e,n,r){if(e===null||typeof e>"u"||hA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Cm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Am,Cm);gt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Am,Cm);gt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Am,Cm);gt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pm(t,e,n,r){var s=gt.hasOwnProperty(e)?gt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fA(e,n,s,r)&&(n=null),r||s===null?dA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vr=cA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kc=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Rm=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),wE=Symbol.for("react.provider"),_E=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Mf=Symbol.for("react.suspense_list"),Nm=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),EE=Symbol.for("react.offscreen"),bv=Symbol.iterator;function Pa(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Fh;function Fa(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var Uh=!1;function zh(t,e){if(!t||Uh)return"";Uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Uh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function pA(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=zh(t.type,!1),t;case 11:return t=zh(t.type.render,!1),t;case 1:return t=zh(t.type,!0),t;default:return""}}function Lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case eo:return"Portal";case Df:return"Profiler";case Rm:return"StrictMode";case Of:return"Suspense";case Mf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _E:return(t.displayName||"Context")+".Consumer";case wE:return(t._context.displayName||"Context")+".Provider";case km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nm:return e=t.displayName||null,e!==null?e:Lf(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return Lf(t(e))}catch{}}return null}function mA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lf(e);case 8:return e===Rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gA(t){var e=xE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nc(t){t._valueTracker||(t._valueTracker=gA(t))}function TE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Av(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IE(t,e){e=e.checked,e!=null&&Pm(t,"checked",e,!1)}function jf(t,e){IE(t,e);var n=ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||Nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ks(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Uf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Ua(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ks(n)}}function SE(t,e){var n=ks(e.value),r=ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dc,AE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dc=Dc||document.createElement("div"),Dc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yA=["Webkit","ms","Moz","O"];Object.keys(Ya).forEach(function(t){yA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ya[e]=Ya[t]})});function CE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ya.hasOwnProperty(t)&&Ya[t]?(""+e).trim():e+"px"}function PE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=CE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var vA=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(t,e){if(e){if(vA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wf=null;function Dm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hf=null,mo=null,go=null;function kv(t){if(t=Xl(t)){if(typeof Hf!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Nd(e),Hf(t.stateNode,t.type,e))}}function RE(t){mo?go?go.push(t):go=[t]:mo=t}function kE(){if(mo){var t=mo,e=go;if(go=mo=null,kv(t),e)for(t=0;t<e.length;t++)kv(e[t])}}function NE(t,e){return t(e)}function DE(){}var $h=!1;function OE(t,e,n){if($h)return t(e,n);$h=!0;try{return NE(t,e,n)}finally{$h=!1,(mo!==null||go!==null)&&(DE(),kE())}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var qf=!1;if(Ar)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){qf=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{qf=!1}function wA(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Xa=!1,Du=null,Ou=!1,Gf=null,_A={onError:function(t){Xa=!0,Du=t}};function EA(t,e,n,r,s,i,o,a,c){Xa=!1,Du=null,wA.apply(_A,arguments)}function xA(t,e,n,r,s,i,o,a,c){if(EA.apply(this,arguments),Xa){if(Xa){var u=Du;Xa=!1,Du=null}else throw Error(W(198));Ou||(Ou=!0,Gf=u)}}function Li(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ME(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(Li(t)!==t)throw Error(W(188))}function TA(t){var e=t.alternate;if(!e){if(e=Li(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nv(s),t;if(i===r)return Nv(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function LE(t){return t=TA(t),t!==null?VE(t):null}function VE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VE(t);if(e!==null)return e;t=t.sibling}return null}var jE=tn.unstable_scheduleCallback,Dv=tn.unstable_cancelCallback,IA=tn.unstable_shouldYield,SA=tn.unstable_requestPaint,We=tn.unstable_now,bA=tn.unstable_getCurrentPriorityLevel,Om=tn.unstable_ImmediatePriority,FE=tn.unstable_UserBlockingPriority,Mu=tn.unstable_NormalPriority,AA=tn.unstable_LowPriority,UE=tn.unstable_IdlePriority,Cd=null,er=null;function CA(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Cd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:kA,PA=Math.log,RA=Math.LN2;function kA(t){return t>>>=0,t===0?32:31-(PA(t)/RA|0)|0}var Oc=64,Mc=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=za(a):(i&=o,i!==0&&(r=za(i)))}else o=n&~s,o!==0?r=za(o):i!==0&&(r=za(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),s=1<<n,r|=t[n],e&=~s;return r}function NA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Pn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=NA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zE(){var t=Oc;return Oc<<=1,!(Oc&4194240)&&(Oc=64),t}function Bh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function OA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Mm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function $E(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BE,Lm,WE,HE,qE,Qf=!1,Lc=[],gs=null,ys=null,vs=null,ml=new Map,gl=new Map,ts=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ov(t,e){switch(t){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function ka(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xl(e),e!==null&&Lm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function LA(t,e,n,r,s){switch(e){case"focusin":return gs=ka(gs,t,e,n,r,s),!0;case"dragenter":return ys=ka(ys,t,e,n,r,s),!0;case"mouseover":return vs=ka(vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ml.set(i,ka(ml.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gl.set(i,ka(gl.get(i)||null,t,e,n,r,s)),!0}return!1}function GE(t){var e=ui(t.target);if(e!==null){var n=Li(e);if(n!==null){if(e=n.tag,e===13){if(e=ME(n),e!==null){t.blockedOn=e,qE(t.priority,function(){WE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wf=r,n.target.dispatchEvent(r),Wf=null}else return e=Xl(n),e!==null&&Lm(e),t.blockedOn=n,!1;e.shift()}return!0}function Mv(t,e,n){au(t)&&n.delete(e)}function VA(){Qf=!1,gs!==null&&au(gs)&&(gs=null),ys!==null&&au(ys)&&(ys=null),vs!==null&&au(vs)&&(vs=null),ml.forEach(Mv),gl.forEach(Mv)}function Na(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,VA)))}function yl(t){function e(s){return Na(s,t)}if(0<Lc.length){Na(Lc[0],t);for(var n=1;n<Lc.length;n++){var r=Lc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gs!==null&&Na(gs,t),ys!==null&&Na(ys,t),vs!==null&&Na(vs,t),ml.forEach(e),gl.forEach(e),n=0;n<ts.length;n++)r=ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&ts.shift()}var yo=Vr.ReactCurrentBatchConfig,Vu=!0;function jA(t,e,n,r){var s=Te,i=yo.transition;yo.transition=null;try{Te=1,Vm(t,e,n,r)}finally{Te=s,yo.transition=i}}function FA(t,e,n,r){var s=Te,i=yo.transition;yo.transition=null;try{Te=4,Vm(t,e,n,r)}finally{Te=s,yo.transition=i}}function Vm(t,e,n,r){if(Vu){var s=Yf(t,e,n,r);if(s===null)Zh(t,e,r,ju,n),Ov(t,r);else if(LA(s,t,e,n,r))r.stopPropagation();else if(Ov(t,r),e&4&&-1<MA.indexOf(t)){for(;s!==null;){var i=Xl(s);if(i!==null&&BE(i),i=Yf(t,e,n,r),i===null&&Zh(t,e,r,ju,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zh(t,e,r,null,n)}}var ju=null;function Yf(t,e,n,r){if(ju=null,t=Dm(r),t=ui(t),t!==null)if(e=Li(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ME(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ju=t,null}function KE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bA()){case Om:return 1;case FE:return 4;case Mu:case AA:return 16;case UE:return 536870912;default:return 16}default:return 16}}var hs=null,jm=null,lu=null;function QE(){if(lu)return lu;var t,e=jm,n=e.length,r,s="value"in hs?hs.value:hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return lu=s.slice(t,1<r?1-r:void 0)}function cu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vc(){return!0}function Lv(){return!1}function rn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vc:Lv,this.isPropagationStopped=Lv,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fm=rn(ta),Yl=je({},ta,{view:0,detail:0}),UA=rn(Yl),Wh,Hh,Da,Pd=je({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(Wh=t.screenX-Da.screenX,Hh=t.screenY-Da.screenY):Hh=Wh=0,Da=t),Wh)},movementY:function(t){return"movementY"in t?t.movementY:Hh}}),Vv=rn(Pd),zA=je({},Pd,{dataTransfer:0}),$A=rn(zA),BA=je({},Yl,{relatedTarget:0}),qh=rn(BA),WA=je({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),HA=rn(WA),qA=je({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GA=rn(qA),KA=je({},ta,{data:0}),jv=rn(KA),QA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XA[t])?!!e[t]:!1}function Um(){return JA}var ZA=je({},Yl,{key:function(t){if(t.key){var e=QA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(t){return t.type==="keypress"?cu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eC=rn(ZA),tC=je({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fv=rn(tC),nC=je({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),rC=rn(nC),sC=je({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),iC=rn(sC),oC=je({},Pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aC=rn(oC),lC=[9,13,27,32],zm=Ar&&"CompositionEvent"in window,Ja=null;Ar&&"documentMode"in document&&(Ja=document.documentMode);var cC=Ar&&"TextEvent"in window&&!Ja,YE=Ar&&(!zm||Ja&&8<Ja&&11>=Ja),Uv=" ",zv=!1;function XE(t,e){switch(t){case"keyup":return lC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function uC(t,e){switch(t){case"compositionend":return JE(e);case"keypress":return e.which!==32?null:(zv=!0,Uv);case"textInput":return t=e.data,t===Uv&&zv?null:t;default:return null}}function dC(t,e){if(no)return t==="compositionend"||!zm&&XE(t,e)?(t=QE(),lu=jm=hs=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YE&&e.locale!=="ko"?null:e.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hC[t.type]:e==="textarea"}function ZE(t,e,n,r){RE(r),e=Fu(e,"onChange"),0<e.length&&(n=new Fm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Za=null,vl=null;function fC(t){u1(t,0)}function Rd(t){var e=io(t);if(TE(e))return t}function pC(t,e){if(t==="change")return e}var e1=!1;if(Ar){var Gh;if(Ar){var Kh="oninput"in document;if(!Kh){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Kh=typeof Bv.oninput=="function"}Gh=Kh}else Gh=!1;e1=Gh&&(!document.documentMode||9<document.documentMode)}function Wv(){Za&&(Za.detachEvent("onpropertychange",t1),vl=Za=null)}function t1(t){if(t.propertyName==="value"&&Rd(vl)){var e=[];ZE(e,vl,t,Dm(t)),OE(fC,e)}}function mC(t,e,n){t==="focusin"?(Wv(),Za=e,vl=n,Za.attachEvent("onpropertychange",t1)):t==="focusout"&&Wv()}function gC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rd(vl)}function yC(t,e){if(t==="click")return Rd(e)}function vC(t,e){if(t==="input"||t==="change")return Rd(e)}function wC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:wC;function wl(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nf.call(e,s)||!Nn(t[s],e[s]))return!1}return!0}function Hv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qv(t,e){var n=Hv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hv(n)}}function n1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r1(){for(var t=window,e=Nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nu(t.document)}return e}function $m(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _C(t){var e=r1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n1(n.ownerDocument.documentElement,n)){if(r!==null&&$m(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=qv(n,i);var o=qv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EC=Ar&&"documentMode"in document&&11>=document.documentMode,ro=null,Xf=null,el=null,Jf=!1;function Gv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||ro==null||ro!==Nu(r)||(r=ro,"selectionStart"in r&&$m(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),el&&wl(el,r)||(el=r,r=Fu(Xf,"onSelect"),0<r.length&&(e=new Fm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ro)))}function jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},Qh={},s1={};Ar&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function kd(t){if(Qh[t])return Qh[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s1)return Qh[t]=e[n];return t}var i1=kd("animationend"),o1=kd("animationiteration"),a1=kd("animationstart"),l1=kd("transitionend"),c1=new Map,Kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){c1.set(t,e),Mi(e,[t])}for(var Yh=0;Yh<Kv.length;Yh++){var Xh=Kv[Yh],xC=Xh.toLowerCase(),TC=Xh[0].toUpperCase()+Xh.slice(1);Ws(xC,"on"+TC)}Ws(i1,"onAnimationEnd");Ws(o1,"onAnimationIteration");Ws(a1,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(l1,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IC=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function Qv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xA(r,e,void 0,t),t.currentTarget=null}function u1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Qv(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Qv(s,a,u),i=c}}}if(Ou)throw t=Gf,Ou=!1,Gf=null,t}function Re(t,e){var n=e[rp];n===void 0&&(n=e[rp]=new Set);var r=t+"__bubble";n.has(r)||(d1(e,t,2,!1),n.add(r))}function Jh(t,e,n){var r=0;e&&(r|=4),d1(n,t,r,e)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function _l(t){if(!t[Fc]){t[Fc]=!0,vE.forEach(function(n){n!=="selectionchange"&&(IC.has(n)||Jh(n,!1,t),Jh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fc]||(e[Fc]=!0,Jh("selectionchange",!1,e))}}function d1(t,e,n,r){switch(KE(e)){case 1:var s=jA;break;case 4:s=FA;break;default:s=Vm}n=s.bind(null,e,n,t),s=void 0,!qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ui(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}OE(function(){var u=i,d=Dm(n),f=[];e:{var m=c1.get(t);if(m!==void 0){var p=Fm,b=t;switch(t){case"keypress":if(cu(n)===0)break e;case"keydown":case"keyup":p=eC;break;case"focusin":b="focus",p=qh;break;case"focusout":b="blur",p=qh;break;case"beforeblur":case"afterblur":p=qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$A;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rC;break;case i1:case o1:case a1:p=HA;break;case l1:p=iC;break;case"scroll":p=UA;break;case"wheel":p=aC;break;case"copy":case"cut":case"paste":p=GA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Fv}var _=(e&4)!==0,E=!_&&t==="scroll",w=_?m!==null?m+"Capture":null:m;_=[];for(var v=u,T;v!==null;){T=v;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,w!==null&&(D=pl(v,w),D!=null&&_.push(El(v,D,T)))),E)break;v=v.return}0<_.length&&(m=new p(m,b,null,n,d),f.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Wf&&(b=n.relatedTarget||n.fromElement)&&(ui(b)||b[Cr]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?ui(b):null,b!==null&&(E=Li(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(_=Vv,D="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=Fv,D="onPointerLeave",w="onPointerEnter",v="pointer"),E=p==null?m:io(p),T=b==null?m:io(b),m=new _(D,v+"leave",p,n,d),m.target=E,m.relatedTarget=T,D=null,ui(d)===u&&(_=new _(w,v+"enter",b,n,d),_.target=T,_.relatedTarget=E,D=_),E=D,p&&b)t:{for(_=p,w=b,v=0,T=_;T;T=Qi(T))v++;for(T=0,D=w;D;D=Qi(D))T++;for(;0<v-T;)_=Qi(_),v--;for(;0<T-v;)w=Qi(w),T--;for(;v--;){if(_===w||w!==null&&_===w.alternate)break t;_=Qi(_),w=Qi(w)}_=null}else _=null;p!==null&&Yv(f,m,p,_,!1),b!==null&&E!==null&&Yv(f,E,b,_,!0)}}e:{if(m=u?io(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var O=pC;else if($v(m))if(e1)O=vC;else{O=gC;var L=mC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=yC);if(O&&(O=O(t,u))){ZE(f,O,n,d);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Ff(m,"number",m.value)}switch(L=u?io(u):window,t){case"focusin":($v(L)||L.contentEditable==="true")&&(ro=L,Xf=u,el=null);break;case"focusout":el=Xf=ro=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Gv(f,n,d);break;case"selectionchange":if(EC)break;case"keydown":case"keyup":Gv(f,n,d)}var S;if(zm)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else no?XE(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(YE&&n.locale!=="ko"&&(no||I!=="onCompositionStart"?I==="onCompositionEnd"&&no&&(S=QE()):(hs=d,jm="value"in hs?hs.value:hs.textContent,no=!0)),L=Fu(u,I),0<L.length&&(I=new jv(I,t,null,n,d),f.push({event:I,listeners:L}),S?I.data=S:(S=JE(n),S!==null&&(I.data=S)))),(S=cC?uC(t,n):dC(t,n))&&(u=Fu(u,"onBeforeInput"),0<u.length&&(d=new jv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}u1(f,e)})}function El(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=pl(t,n),i!=null&&r.unshift(El(t,i,s)),i=pl(t,e),i!=null&&r.push(El(t,i,s))),t=t.return}return r}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=pl(n,i),c!=null&&o.unshift(El(n,c,a))):s||(c=pl(n,i),c!=null&&o.push(El(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SC=/\r\n?/g,bC=/\u0000|\uFFFD/g;function Xv(t){return(typeof t=="string"?t:""+t).replace(SC,`
`).replace(bC,"")}function Uc(t,e,n){if(e=Xv(e),Xv(t)!==e&&n)throw Error(W(425))}function Uu(){}var Zf=null,ep=null;function tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,AC=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(t){return Jv.resolve(null).then(t).catch(PC)}:np;function PC(t){setTimeout(function(){throw t})}function ef(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yl(e)}function ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var na=Math.random().toString(36).slice(2),Jn="__reactFiber$"+na,xl="__reactProps$"+na,Cr="__reactContainer$"+na,rp="__reactEvents$"+na,RC="__reactListeners$"+na,kC="__reactHandles$"+na;function ui(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zv(t);t!==null;){if(n=t[Jn])return n;t=Zv(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[Jn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Nd(t){return t[xl]||null}var sp=[],oo=-1;function Hs(t){return{current:t}}function Ne(t){0>oo||(t.current=sp[oo],sp[oo]=null,oo--)}function Ae(t,e){oo++,sp[oo]=t.current,t.current=e}var Ns={},bt=Hs(Ns),Bt=Hs(!1),Ii=Ns;function Vo(t,e){var n=t.type.contextTypes;if(!n)return Ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Wt(t){return t=t.childContextTypes,t!=null}function zu(){Ne(Bt),Ne(bt)}function ew(t,e,n){if(bt.current!==Ns)throw Error(W(168));Ae(bt,e),Ae(Bt,n)}function h1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,mA(t)||"Unknown",s));return je({},n,r)}function $u(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ns,Ii=bt.current,Ae(bt,t),Ae(Bt,Bt.current),!0}function tw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=h1(t,e,Ii),r.__reactInternalMemoizedMergedChildContext=t,Ne(Bt),Ne(bt),Ae(bt,t)):Ne(Bt),Ae(Bt,n)}var wr=null,Dd=!1,tf=!1;function f1(t){wr===null?wr=[t]:wr.push(t)}function NC(t){Dd=!0,f1(t)}function qs(){if(!tf&&wr!==null){tf=!0;var t=0,e=Te;try{var n=wr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wr=null,Dd=!1}catch(s){throw wr!==null&&(wr=wr.slice(t+1)),jE(Om,qs),s}finally{Te=e,tf=!1}}return null}var ao=[],lo=0,Bu=null,Wu=0,ln=[],cn=0,Si=null,Er=1,xr="";function oi(t,e){ao[lo++]=Wu,ao[lo++]=Bu,Bu=t,Wu=e}function p1(t,e,n){ln[cn++]=Er,ln[cn++]=xr,ln[cn++]=Si,Si=t;var r=Er;t=xr;var s=32-Pn(r)-1;r&=~(1<<s),n+=1;var i=32-Pn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Er=1<<32-Pn(e)+s|n<<s|r,xr=i+t}else Er=1<<i|n<<s|r,xr=t}function Bm(t){t.return!==null&&(oi(t,1),p1(t,1,0))}function Wm(t){for(;t===Bu;)Bu=ao[--lo],ao[lo]=null,Wu=ao[--lo],ao[lo]=null;for(;t===Si;)Si=ln[--cn],ln[cn]=null,xr=ln[--cn],ln[cn]=null,Er=ln[--cn],ln[cn]=null}var Zt=null,Xt=null,Oe=!1,An=null;function m1(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Si!==null?{id:Er,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Xt=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function op(t){if(Oe){var e=Xt;if(e){var n=e;if(!nw(t,e)){if(ip(t))throw Error(W(418));e=ws(n.nextSibling);var r=Zt;e&&nw(t,e)?m1(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Zt=t)}}else{if(ip(t))throw Error(W(418));t.flags=t.flags&-4097|2,Oe=!1,Zt=t}}}function rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function zc(t){if(t!==Zt)return!1;if(!Oe)return rw(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tp(t.type,t.memoizedProps)),e&&(e=Xt)){if(ip(t))throw g1(),Error(W(418));for(;e;)m1(t,e),e=ws(e.nextSibling)}if(rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?ws(t.stateNode.nextSibling):null;return!0}function g1(){for(var t=Xt;t;)t=ws(t.nextSibling)}function jo(){Xt=Zt=null,Oe=!1}function Hm(t){An===null?An=[t]:An.push(t)}var DC=Vr.ReactCurrentBatchConfig;function Oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function $c(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sw(t){var e=t._init;return e(t._payload)}function y1(t){function e(w,v){if(t){var T=w.deletions;T===null?(w.deletions=[v],w.flags|=16):T.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Ts(w,v),w.index=0,w.sibling=null,w}function i(w,v,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<v?(w.flags|=2,v):T):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,T,D){return v===null||v.tag!==6?(v=cf(T,w.mode,D),v.return=w,v):(v=s(v,T),v.return=w,v)}function c(w,v,T,D){var O=T.type;return O===to?d(w,v,T.props.children,D,T.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Zr&&sw(O)===v.type)?(D=s(v,T.props),D.ref=Oa(w,v,T),D.return=w,D):(D=gu(T.type,T.key,T.props,null,w.mode,D),D.ref=Oa(w,v,T),D.return=w,D)}function u(w,v,T,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=uf(T,w.mode,D),v.return=w,v):(v=s(v,T.children||[]),v.return=w,v)}function d(w,v,T,D,O){return v===null||v.tag!==7?(v=Ei(T,w.mode,D,O),v.return=w,v):(v=s(v,T),v.return=w,v)}function f(w,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cf(""+v,w.mode,T),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case kc:return T=gu(v.type,v.key,v.props,null,w.mode,T),T.ref=Oa(w,null,v),T.return=w,T;case eo:return v=uf(v,w.mode,T),v.return=w,v;case Zr:var D=v._init;return f(w,D(v._payload),T)}if(Ua(v)||Pa(v))return v=Ei(v,w.mode,T,null),v.return=w,v;$c(w,v)}return null}function m(w,v,T,D){var O=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(w,v,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kc:return T.key===O?c(w,v,T,D):null;case eo:return T.key===O?u(w,v,T,D):null;case Zr:return O=T._init,m(w,v,O(T._payload),D)}if(Ua(T)||Pa(T))return O!==null?null:d(w,v,T,D,null);$c(w,T)}return null}function p(w,v,T,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(T)||null,a(v,w,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case kc:return w=w.get(D.key===null?T:D.key)||null,c(v,w,D,O);case eo:return w=w.get(D.key===null?T:D.key)||null,u(v,w,D,O);case Zr:var L=D._init;return p(w,v,T,L(D._payload),O)}if(Ua(D)||Pa(D))return w=w.get(T)||null,d(v,w,D,O,null);$c(v,D)}return null}function b(w,v,T,D){for(var O=null,L=null,S=v,I=v=0,k=null;S!==null&&I<T.length;I++){S.index>I?(k=S,S=null):k=S.sibling;var N=m(w,S,T[I],D);if(N===null){S===null&&(S=k);break}t&&S&&N.alternate===null&&e(w,S),v=i(N,v,I),L===null?O=N:L.sibling=N,L=N,S=k}if(I===T.length)return n(w,S),Oe&&oi(w,I),O;if(S===null){for(;I<T.length;I++)S=f(w,T[I],D),S!==null&&(v=i(S,v,I),L===null?O=S:L.sibling=S,L=S);return Oe&&oi(w,I),O}for(S=r(w,S);I<T.length;I++)k=p(S,w,I,T[I],D),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?I:k.key),v=i(k,v,I),L===null?O=k:L.sibling=k,L=k);return t&&S.forEach(function(x){return e(w,x)}),Oe&&oi(w,I),O}function _(w,v,T,D){var O=Pa(T);if(typeof O!="function")throw Error(W(150));if(T=O.call(T),T==null)throw Error(W(151));for(var L=O=null,S=v,I=v=0,k=null,N=T.next();S!==null&&!N.done;I++,N=T.next()){S.index>I?(k=S,S=null):k=S.sibling;var x=m(w,S,N.value,D);if(x===null){S===null&&(S=k);break}t&&S&&x.alternate===null&&e(w,S),v=i(x,v,I),L===null?O=x:L.sibling=x,L=x,S=k}if(N.done)return n(w,S),Oe&&oi(w,I),O;if(S===null){for(;!N.done;I++,N=T.next())N=f(w,N.value,D),N!==null&&(v=i(N,v,I),L===null?O=N:L.sibling=N,L=N);return Oe&&oi(w,I),O}for(S=r(w,S);!N.done;I++,N=T.next())N=p(S,w,I,N.value,D),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?I:N.key),v=i(N,v,I),L===null?O=N:L.sibling=N,L=N);return t&&S.forEach(function(P){return e(w,P)}),Oe&&oi(w,I),O}function E(w,v,T,D){if(typeof T=="object"&&T!==null&&T.type===to&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case kc:e:{for(var O=T.key,L=v;L!==null;){if(L.key===O){if(O=T.type,O===to){if(L.tag===7){n(w,L.sibling),v=s(L,T.props.children),v.return=w,w=v;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Zr&&sw(O)===L.type){n(w,L.sibling),v=s(L,T.props),v.ref=Oa(w,L,T),v.return=w,w=v;break e}n(w,L);break}else e(w,L);L=L.sibling}T.type===to?(v=Ei(T.props.children,w.mode,D,T.key),v.return=w,w=v):(D=gu(T.type,T.key,T.props,null,w.mode,D),D.ref=Oa(w,v,T),D.return=w,w=D)}return o(w);case eo:e:{for(L=T.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(w,v.sibling),v=s(v,T.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=uf(T,w.mode,D),v.return=w,w=v}return o(w);case Zr:return L=T._init,E(w,v,L(T._payload),D)}if(Ua(T))return b(w,v,T,D);if(Pa(T))return _(w,v,T,D);$c(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,T),v.return=w,w=v):(n(w,v),v=cf(T,w.mode,D),v.return=w,w=v),o(w)):n(w,v)}return E}var Fo=y1(!0),v1=y1(!1),Hu=Hs(null),qu=null,co=null,qm=null;function Gm(){qm=co=qu=null}function Km(t){var e=Hu.current;Ne(Hu),t._currentValue=e}function ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){qu=t,qm=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(qm!==t)if(t={context:t,memoizedValue:e,next:null},co===null){if(qu===null)throw Error(W(308));co=t,qu.dependencies={lanes:0,firstContext:t}}else co=co.next=t;return e}var di=null;function Qm(t){di===null?di=[t]:di.push(t)}function w1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Qm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var es=!1;function Ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pr(t,n)}return s=r.interleaved,s===null?(e.next=e,Qm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pr(t,n)}function uu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}function iw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gu(t,e,n,r){var s=t.updateQueue;es=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,_=a;switch(m=e,p=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){f=b.call(p,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,m=typeof b=="function"?b.call(p,f,m):b,m==null)break e;f=je({},f,m);break e;case 2:es=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=f}}function ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var Jl={},tr=Hs(Jl),Tl=Hs(Jl),Il=Hs(Jl);function hi(t){if(t===Jl)throw Error(W(174));return t}function Xm(t,e){switch(Ae(Il,e),Ae(Tl,t),Ae(tr,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zf(e,t)}Ne(tr),Ae(tr,e)}function Uo(){Ne(tr),Ne(Tl),Ne(Il)}function E1(t){hi(Il.current);var e=hi(tr.current),n=zf(e,t.type);e!==n&&(Ae(Tl,t),Ae(tr,n))}function Jm(t){Tl.current===t&&(Ne(tr),Ne(Tl))}var Le=Hs(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nf=[];function Zm(){for(var t=0;t<nf.length;t++)nf[t]._workInProgressVersionPrimary=null;nf.length=0}var du=Vr.ReactCurrentDispatcher,rf=Vr.ReactCurrentBatchConfig,bi=0,Ve=null,et=null,ut=null,Qu=!1,tl=!1,Sl=0,OC=0;function wt(){throw Error(W(321))}function eg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function tg(t,e,n,r,s,i){if(bi=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,du.current=t===null||t.memoizedState===null?jC:FC,t=n(r,s),tl){i=0;do{if(tl=!1,Sl=0,25<=i)throw Error(W(301));i+=1,ut=et=null,e.updateQueue=null,du.current=UC,t=n(r,s)}while(tl)}if(du.current=Yu,e=et!==null&&et.next!==null,bi=0,ut=et=Ve=null,Qu=!1,e)throw Error(W(300));return t}function ng(){var t=Sl!==0;return Sl=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ve.memoizedState=ut=t:ut=ut.next=t,ut}function mn(){if(et===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=ut===null?Ve.memoizedState:ut.next;if(e!==null)ut=e,et=t;else{if(t===null)throw Error(W(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ut===null?Ve.memoizedState=ut=t:ut=ut.next=t}return ut}function bl(t,e){return typeof e=="function"?e(t):e}function sf(t){var e=mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((bi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ve.lanes|=d,Ai|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Nn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,Ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function of(t){var e=mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nn(i,e.memoizedState)||($t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function x1(){}function T1(t,e){var n=Ve,r=mn(),s=e(),i=!Nn(r.memoizedState,s);if(i&&(r.memoizedState=s,$t=!0),r=r.queue,rg(b1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Al(9,S1.bind(null,n,r,s,e),void 0,null),dt===null)throw Error(W(349));bi&30||I1(n,e,s)}return s}function I1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S1(t,e,n,r){e.value=n,e.getSnapshot=r,A1(e)&&C1(t)}function b1(t,e,n){return n(function(){A1(e)&&C1(t)})}function A1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function C1(t){var e=Pr(t,1);e!==null&&Rn(e,t,1,-1)}function aw(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=VC.bind(null,Ve,t),[e.memoizedState,t]}function Al(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P1(){return mn().memoizedState}function hu(t,e,n,r){var s=Gn();Ve.flags|=t,s.memoizedState=Al(1|e,n,void 0,r===void 0?null:r)}function Od(t,e,n,r){var s=mn();r=r===void 0?null:r;var i=void 0;if(et!==null){var o=et.memoizedState;if(i=o.destroy,r!==null&&eg(r,o.deps)){s.memoizedState=Al(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=Al(1|e,n,i,r)}function lw(t,e){return hu(8390656,8,t,e)}function rg(t,e){return Od(2048,8,t,e)}function R1(t,e){return Od(4,2,t,e)}function k1(t,e){return Od(4,4,t,e)}function N1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D1(t,e,n){return n=n!=null?n.concat([t]):null,Od(4,4,N1.bind(null,e,t),n)}function sg(){}function O1(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&eg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function M1(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&eg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function L1(t,e,n){return bi&21?(Nn(n,e)||(n=zE(),Ve.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function MC(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=rf.transition;rf.transition={};try{t(!1),e()}finally{Te=n,rf.transition=r}}function V1(){return mn().memoizedState}function LC(t,e,n){var r=xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j1(t))F1(e,n);else if(n=w1(t,e,n,r),n!==null){var s=Nt();Rn(n,t,r,s),U1(n,e,r)}}function VC(t,e,n){var r=xs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j1(t))F1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nn(a,o)){var c=e.interleaved;c===null?(s.next=s,Qm(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=w1(t,e,s,r),n!==null&&(s=Nt(),Rn(n,t,r,s),U1(n,e,r))}}function j1(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function F1(t,e){tl=Qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function U1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}var Yu={readContext:pn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},jC={readContext:pn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:lw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hu(4194308,4,N1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return hu(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LC.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:aw,useDebugValue:sg,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=aw(!1),e=t[0];return t=MC.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Gn();if(Oe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),dt===null)throw Error(W(349));bi&30||I1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lw(b1.bind(null,r,i,t),[t]),r.flags|=2048,Al(9,S1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gn(),e=dt.identifierPrefix;if(Oe){var n=xr,r=Er;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FC={readContext:pn,useCallback:O1,useContext:pn,useEffect:rg,useImperativeHandle:D1,useInsertionEffect:R1,useLayoutEffect:k1,useMemo:M1,useReducer:sf,useRef:P1,useState:function(){return sf(bl)},useDebugValue:sg,useDeferredValue:function(t){var e=mn();return L1(e,et.memoizedState,t)},useTransition:function(){var t=sf(bl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:x1,useSyncExternalStore:T1,useId:V1,unstable_isNewReconciler:!1},UC={readContext:pn,useCallback:O1,useContext:pn,useEffect:rg,useImperativeHandle:D1,useInsertionEffect:R1,useLayoutEffect:k1,useMemo:M1,useReducer:of,useRef:P1,useState:function(){return of(bl)},useDebugValue:sg,useDeferredValue:function(t){var e=mn();return et===null?e.memoizedState=t:L1(e,et.memoizedState,t)},useTransition:function(){var t=of(bl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:x1,useSyncExternalStore:T1,useId:V1,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Md={isMounted:function(t){return(t=t._reactInternals)?Li(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=xs(t),i=Sr(r,s);i.payload=e,n!=null&&(i.callback=n),e=_s(t,i,s),e!==null&&(Rn(e,t,s,r),uu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=xs(t),i=Sr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_s(t,i,s),e!==null&&(Rn(e,t,s,r),uu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=xs(t),s=Sr(n,r);s.tag=2,e!=null&&(s.callback=e),e=_s(t,s,r),e!==null&&(Rn(e,t,r,n),uu(e,t,r))}};function cw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!wl(n,r)||!wl(s,i):!0}function z1(t,e,n){var r=!1,s=Ns,i=e.contextType;return typeof i=="object"&&i!==null?i=pn(i):(s=Wt(e)?Ii:bt.current,r=e.contextTypes,i=(r=r!=null)?Vo(t,s):Ns),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Md,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function uw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Md.enqueueReplaceState(e,e.state,null)}function cp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ym(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=pn(i):(i=Wt(e)?Ii:bt.current,s.context=Vo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Md.enqueueReplaceState(s,s.state,null),Gu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zo(t,e){try{var n="",r=e;do n+=pA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zC=typeof WeakMap=="function"?WeakMap:Map;function $1(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ju||(Ju=!0,_p=r),up(t,e)},n}function B1(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){up(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){up(t,e),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=tP.bind(null,t,e,n),e.then(t,t))}function hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var $C=Vr.ReactCurrentOwner,$t=!1;function Rt(t,e,n,r){e.child=t===null?v1(e,null,n,r):Fo(e,t.child,n,r)}function pw(t,e,n,r,s){n=n.render;var i=e.ref;return vo(e,s),r=tg(t,e,n,r,i,s),n=ng(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rr(t,e,s)):(Oe&&n&&Bm(e),e.flags|=1,Rt(t,e,r,s),e.child)}function mw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,W1(t,e,i,r,s)):(t=gu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:wl,n(o,r)&&t.ref===e.ref)return Rr(t,e,s)}return e.flags|=1,t=Ts(i,r),t.ref=e.ref,t.return=e,e.child=t}function W1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(wl(i,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,Rr(t,e,s)}return dp(t,e,n,r,s)}function H1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(ho,Qt),Qt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(ho,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ae(ho,Qt),Qt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ae(ho,Qt),Qt|=r;return Rt(t,e,s,n),e.child}function q1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dp(t,e,n,r,s){var i=Wt(n)?Ii:bt.current;return i=Vo(e,i),vo(e,s),n=tg(t,e,n,r,i,s),r=ng(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rr(t,e,s)):(Oe&&r&&Bm(e),e.flags|=1,Rt(t,e,n,s),e.child)}function gw(t,e,n,r,s){if(Wt(n)){var i=!0;$u(e)}else i=!1;if(vo(e,s),e.stateNode===null)fu(t,e),z1(e,n,r),cp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=Wt(n)?Ii:bt.current,u=Vo(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&uw(e,o,r,u),es=!1;var m=e.memoizedState;o.state=m,Gu(e,r,o,s),c=e.memoizedState,a!==r||m!==c||Bt.current||es?(typeof d=="function"&&(lp(e,n,d,r),c=e.memoizedState),(a=es||cw(e,n,a,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:En(e.type,a),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=Wt(n)?Ii:bt.current,c=Vo(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&uw(e,o,r,c),es=!1,m=e.memoizedState,o.state=m,Gu(e,r,o,s);var b=e.memoizedState;a!==f||m!==b||Bt.current||es?(typeof p=="function"&&(lp(e,n,p,r),b=e.memoizedState),(u=es||cw(e,n,u,r,m,b,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return hp(t,e,n,r,i,s)}function hp(t,e,n,r,s,i){q1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tw(e,n,!1),Rr(t,e,i);r=e.stateNode,$C.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,i),e.child=Fo(e,null,a,i)):Rt(t,e,a,i),e.memoizedState=r.state,s&&tw(e,n,!0),e.child}function G1(t){var e=t.stateNode;e.pendingContext?ew(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ew(t,e.context,!1),Xm(t,e.containerInfo)}function yw(t,e,n,r,s){return jo(),Hm(s),e.flags|=256,Rt(t,e,n,r),e.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function K1(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ae(Le,s&1),t===null)return op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=jd(o,r,0,null),t=Ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pp(n),e.memoizedState=fp,t):ig(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return BC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ts(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ts(a,i):(i=Ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=fp,r}return i=t.child,t=i.sibling,r=Ts(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ig(t,e){return e=jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bc(t,e,n,r){return r!==null&&Hm(r),Fo(e,t.child,null,n),t=ig(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=af(Error(W(422))),Bc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=jd({mode:"visible",children:r.children},s,0,null),i=Ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=pp(o),e.memoizedState=fp,i);if(!(e.mode&1))return Bc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=af(i,r,void 0),Bc(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pr(t,s),Rn(r,t,s,-1))}return dg(),r=af(Error(W(421))),Bc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=nP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Xt=ws(s.nextSibling),Zt=e,Oe=!0,An=null,t!==null&&(ln[cn++]=Er,ln[cn++]=xr,ln[cn++]=Si,Er=t.id,xr=t.overflow,Si=e),e=ig(e,r.children),e.flags|=4096,e)}function vw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ap(t.return,e,n)}function lf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Q1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vw(t,n,e);else if(t.tag===19)vw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ku(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ku(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lf(e,!0,n,null,i);break;case"together":lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Ts(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ts(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WC(t,e,n){switch(e.tag){case 3:G1(e),jo();break;case 5:E1(e);break;case 1:Wt(e.type)&&$u(e);break;case 4:Xm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ae(Hu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?K1(t,e,n):(Ae(Le,Le.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Ae(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Q1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,H1(t,e,n)}return Rr(t,e,n)}var Y1,mp,X1,J1;Y1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mp=function(){};X1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hi(tr.current);var i=null;switch(n){case"input":s=Vf(t,s),r=Vf(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Uf(t,s),r=Uf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uu)}$f(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};J1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ma(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HC(t,e,n){var r=e.pendingProps;switch(Wm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Wt(e.type)&&zu(),_t(e),null;case 3:return r=e.stateNode,Uo(),Ne(Bt),Ne(bt),Zm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Tp(An),An=null))),mp(t,e),_t(e),null;case 5:Jm(e);var s=hi(Il.current);if(n=e.type,t!==null&&e.stateNode!=null)X1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return _t(e),null}if(t=hi(tr.current),zc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jn]=e,r[xl]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<$a.length;s++)Re($a[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Av(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Pv(r,i),Re("invalid",r)}$f(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Uc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Uc(r.textContent,a,t),s=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Nc(r),Cv(r,i,!0);break;case"textarea":Nc(r),Rv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jn]=e,t[xl]=r,Y1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bf(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<$a.length;s++)Re($a[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":Av(t,r),s=Vf(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Pv(t,r),s=Uf(t,r),Re("invalid",t);break;default:s=r}$f(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?PE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&fl(t,c):typeof c=="number"&&fl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",t):c!=null&&Pm(t,i,c,o))}switch(n){case"input":Nc(t),Cv(t,r,!1);break;case"textarea":Nc(t),Rv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ks(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?po(t,!!r.multiple,i,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)J1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=hi(Il.current),hi(tr.current),zc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(i=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:Uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return _t(e),null;case 13:if(Ne(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Xt!==null&&e.mode&1&&!(e.flags&128))g1(),jo(),e.flags|=98560,i=!1;else if(i=zc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Jn]=e}else jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else An!==null&&(Tp(An),An=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?nt===0&&(nt=3):dg())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Uo(),mp(t,e),t===null&&_l(e.stateNode.containerInfo),_t(e),null;case 10:return Km(e.type._context),_t(e),null;case 17:return Wt(e.type)&&zu(),_t(e),null;case 19:if(Ne(Le),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ma(i,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ku(t),o!==null){for(e.flags|=128,Ma(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&We()>$o&&(e.flags|=128,r=!0,Ma(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ma(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Oe)return _t(e),null}else 2*We()-i.renderingStartTime>$o&&n!==1073741824&&(e.flags|=128,r=!0,Ma(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=We(),e.sibling=null,n=Le.current,Ae(Le,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return ug(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function qC(t,e){switch(Wm(e),e.tag){case 1:return Wt(e.type)&&zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),Ne(Bt),Ne(bt),Zm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jm(e),null;case 13:if(Ne(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Le),null;case 4:return Uo(),null;case 10:return Km(e.type._context),null;case 22:case 23:return ug(),null;case 24:return null;default:return null}}var Wc=!1,It=!1,GC=typeof WeakSet=="function"?WeakSet:Set,X=null;function uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function gp(t,e,n){try{n()}catch(r){$e(t,e,r)}}var ww=!1;function KC(t,e){if(Zf=Vu,t=r1(),$m(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:t,selectionRange:n},Vu=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,E=b.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:En(e.type,_),E);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(D){$e(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return b=ww,ww=!1,b}function nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gp(e,n,i)}s=s.next}while(s!==r)}}function Ld(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Z1(t){var e=t.alternate;e!==null&&(t.alternate=null,Z1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[xl],delete e[rp],delete e[RC],delete e[kC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ex(t){return t.tag===5||t.tag===3||t.tag===4}function _w(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ex(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uu));else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}var ht=null,Sn=!1;function Kr(t,e,n){for(n=n.child;n!==null;)tx(t,e,n),n=n.sibling}function tx(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Cd,n)}catch{}switch(n.tag){case 5:It||uo(n,e);case 6:var r=ht,s=Sn;ht=null,Kr(t,e,n),ht=r,Sn=s,ht!==null&&(Sn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Sn?(t=ht,n=n.stateNode,t.nodeType===8?ef(t.parentNode,n):t.nodeType===1&&ef(t,n),yl(t)):ef(ht,n.stateNode));break;case 4:r=ht,s=Sn,ht=n.stateNode.containerInfo,Sn=!0,Kr(t,e,n),ht=r,Sn=s;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gp(n,e,o),s=s.next}while(s!==r)}Kr(t,e,n);break;case 1:if(!It&&(uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Kr(t,e,n),It=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function Ew(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GC),e.forEach(function(r){var s=rP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Sn=!1;break e;case 3:ht=a.stateNode.containerInfo,Sn=!0;break e;case 4:ht=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(ht===null)throw Error(W(160));tx(i,o,s),ht=null,Sn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nx(e,t),e=e.sibling}function nx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),qn(t),r&4){try{nl(3,t,t.return),Ld(3,t)}catch(_){$e(t,t.return,_)}try{nl(5,t,t.return)}catch(_){$e(t,t.return,_)}}break;case 1:wn(e,t),qn(t),r&512&&n!==null&&uo(n,n.return);break;case 5:if(wn(e,t),qn(t),r&512&&n!==null&&uo(n,n.return),t.flags&32){var s=t.stateNode;try{fl(s,"")}catch(_){$e(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&IE(s,i),Bf(a,o);var u=Bf(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?PE(s,f):d==="dangerouslySetInnerHTML"?AE(s,f):d==="children"?fl(s,f):Pm(s,d,f,u)}switch(a){case"input":jf(s,i);break;case"textarea":SE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?po(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?po(s,!!i.multiple,i.defaultValue,!0):po(s,!!i.multiple,i.multiple?[]:"",!1))}s[xl]=i}catch(_){$e(t,t.return,_)}}break;case 6:if(wn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){$e(t,t.return,_)}}break;case 3:if(wn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(_){$e(t,t.return,_)}break;case 4:wn(e,t),qn(t);break;case 13:wn(e,t),qn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(lg=We())),r&4&&Ew(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||d,wn(e,t),It=u):wn(e,t),qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(X=t,d=t.child;d!==null;){for(f=X=d;X!==null;){switch(m=X,p=m.child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:uo(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){$e(r,n,_)}}break;case 5:uo(m,m.return);break;case 22:if(m.memoizedState!==null){Tw(f);continue}}p!==null?(p.return=m,X=p):Tw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=CE("display",o))}catch(_){$e(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){$e(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wn(e,t),qn(t),r&4&&Ew(t);break;case 21:break;default:wn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ex(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fl(s,""),r.flags&=-33);var i=_w(t);wp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_w(t);vp(t,a,o);break;default:throw Error(W(161))}}catch(c){$e(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QC(t,e,n){X=t,rx(t)}function rx(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Wc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||It;a=Wc;var u=It;if(Wc=o,(It=c)&&!u)for(X=s;X!==null;)o=X,c=o.child,o.tag===22&&o.memoizedState!==null?Iw(s):c!==null?(c.return=o,X=c):Iw(s);for(;i!==null;)X=i,rx(i),i=i.sibling;X=s,Wc=a,It=u}xw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):xw(t)}}function xw(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Ld(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ow(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ow(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}It||e.flags&512&&yp(e)}catch(m){$e(e,e.return,m)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Tw(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Iw(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ld(4,e)}catch(c){$e(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){$e(e,s,c)}}var i=e.return;try{yp(e)}catch(c){$e(e,i,c)}break;case 5:var o=e.return;try{yp(e)}catch(c){$e(e,o,c)}}}catch(c){$e(e,e.return,c)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var YC=Math.ceil,Xu=Vr.ReactCurrentDispatcher,og=Vr.ReactCurrentOwner,fn=Vr.ReactCurrentBatchConfig,we=0,dt=null,Ge=null,mt=0,Qt=0,ho=Hs(0),nt=0,Cl=null,Ai=0,Vd=0,ag=0,rl=null,Ft=null,lg=0,$o=1/0,vr=null,Ju=!1,_p=null,Es=null,Hc=!1,fs=null,Zu=0,sl=0,Ep=null,pu=-1,mu=0;function Nt(){return we&6?We():pu!==-1?pu:pu=We()}function xs(t){return t.mode&1?we&2&&mt!==0?mt&-mt:DC.transition!==null?(mu===0&&(mu=zE()),mu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:KE(t.type)),t):1}function Rn(t,e,n,r){if(50<sl)throw sl=0,Ep=null,Error(W(185));Ql(t,n,r),(!(we&2)||t!==dt)&&(t===dt&&(!(we&2)&&(Vd|=n),nt===4&&ns(t,mt)),Ht(t,r),n===1&&we===0&&!(e.mode&1)&&($o=We()+500,Dd&&qs()))}function Ht(t,e){var n=t.callbackNode;DA(t,e);var r=Lu(t,t===dt?mt:0);if(r===0)n!==null&&Dv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dv(n),e===1)t.tag===0?NC(Sw.bind(null,t)):f1(Sw.bind(null,t)),CC(function(){!(we&6)&&qs()}),n=null;else{switch($E(r)){case 1:n=Om;break;case 4:n=FE;break;case 16:n=Mu;break;case 536870912:n=UE;break;default:n=Mu}n=dx(n,sx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sx(t,e){if(pu=-1,mu=0,we&6)throw Error(W(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var r=Lu(t,t===dt?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ed(t,r);else{e=r;var s=we;we|=2;var i=ox();(dt!==t||mt!==e)&&(vr=null,$o=We()+500,_i(t,e));do try{ZC();break}catch(a){ix(t,a)}while(!0);Gm(),Xu.current=i,we=s,Ge!==null?e=0:(dt=null,mt=0,e=nt)}if(e!==0){if(e===2&&(s=Kf(t),s!==0&&(r=s,e=xp(t,s))),e===1)throw n=Cl,_i(t,0),ns(t,r),Ht(t,We()),n;if(e===6)ns(t,r);else{if(s=t.current.alternate,!(r&30)&&!XC(s)&&(e=ed(t,r),e===2&&(i=Kf(t),i!==0&&(r=i,e=xp(t,i))),e===1))throw n=Cl,_i(t,0),ns(t,r),Ht(t,We()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ai(t,Ft,vr);break;case 3:if(ns(t,r),(r&130023424)===r&&(e=lg+500-We(),10<e)){if(Lu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=np(ai.bind(null,t,Ft,vr),e);break}ai(t,Ft,vr);break;case 4:if(ns(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Pn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YC(r/1960))-r,10<r){t.timeoutHandle=np(ai.bind(null,t,Ft,vr),r);break}ai(t,Ft,vr);break;case 5:ai(t,Ft,vr);break;default:throw Error(W(329))}}}return Ht(t,We()),t.callbackNode===n?sx.bind(null,t):null}function xp(t,e){var n=rl;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=ed(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&Tp(e)),t}function Tp(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function XC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ns(t,e){for(e&=~ag,e&=~Vd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function Sw(t){if(we&6)throw Error(W(327));wo();var e=Lu(t,0);if(!(e&1))return Ht(t,We()),null;var n=ed(t,e);if(t.tag!==0&&n===2){var r=Kf(t);r!==0&&(e=r,n=xp(t,r))}if(n===1)throw n=Cl,_i(t,0),ns(t,e),Ht(t,We()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,Ft,vr),Ht(t,We()),null}function cg(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&($o=We()+500,Dd&&qs())}}function Ci(t){fs!==null&&fs.tag===0&&!(we&6)&&wo();var e=we;we|=1;var n=fn.transition,r=Te;try{if(fn.transition=null,Te=1,t)return t()}finally{Te=r,fn.transition=n,we=e,!(we&6)&&qs()}}function ug(){Qt=ho.current,Ne(ho)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AC(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Wm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:Uo(),Ne(Bt),Ne(bt),Zm();break;case 5:Jm(r);break;case 4:Uo();break;case 13:Ne(Le);break;case 19:Ne(Le);break;case 10:Km(r.type._context);break;case 22:case 23:ug()}n=n.return}if(dt=t,Ge=t=Ts(t.current,null),mt=Qt=e,nt=0,Cl=null,ag=Vd=Ai=0,Ft=rl=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}di=null}return t}function ix(t,e){do{var n=Ge;try{if(Gm(),du.current=Yu,Qu){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qu=!1}if(bi=0,ut=et=Ve=null,tl=!1,Sl=0,og.current=null,n===null||n.return===null){nt=1,Cl=e,Ge=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=mt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hw(o);if(p!==null){p.flags&=-257,fw(p,o,a,i,e),p.mode&1&&dw(i,u,e),e=p,c=u;var b=e.updateQueue;if(b===null){var _=new Set;_.add(c),e.updateQueue=_}else b.add(c);break e}else{if(!(e&1)){dw(i,u,e),dg();break e}c=Error(W(426))}}else if(Oe&&a.mode&1){var E=hw(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),fw(E,o,a,i,e),Hm(zo(c,a));break e}}i=c=zo(c,a),nt!==4&&(nt=2),rl===null?rl=[i]:rl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=$1(i,c,e);iw(i,w);break e;case 1:a=c;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Es===null||!Es.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=B1(i,a,e);iw(i,D);break e}}i=i.return}while(i!==null)}lx(n)}catch(O){e=O,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function ox(){var t=Xu.current;return Xu.current=Yu,t===null?Yu:t}function dg(){(nt===0||nt===3||nt===2)&&(nt=4),dt===null||!(Ai&268435455)&&!(Vd&268435455)||ns(dt,mt)}function ed(t,e){var n=we;we|=2;var r=ox();(dt!==t||mt!==e)&&(vr=null,_i(t,e));do try{JC();break}catch(s){ix(t,s)}while(!0);if(Gm(),we=n,Xu.current=r,Ge!==null)throw Error(W(261));return dt=null,mt=0,nt}function JC(){for(;Ge!==null;)ax(Ge)}function ZC(){for(;Ge!==null&&!IA();)ax(Ge)}function ax(t){var e=ux(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?lx(t):Ge=e,og.current=null}function lx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qC(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Ge=null;return}}else if(n=HC(n,e,Qt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);nt===0&&(nt=5)}function ai(t,e,n){var r=Te,s=fn.transition;try{fn.transition=null,Te=1,eP(t,e,n,r)}finally{fn.transition=s,Te=r}return null}function eP(t,e,n,r){do wo();while(fs!==null);if(we&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(OA(t,i),t===dt&&(Ge=dt=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hc||(Hc=!0,dx(Mu,function(){return wo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fn.transition,fn.transition=null;var o=Te;Te=1;var a=we;we|=4,og.current=null,KC(t,n),nx(n,t),_C(ep),Vu=!!Zf,ep=Zf=null,t.current=n,QC(n),SA(),we=a,Te=o,fn.transition=i}else t.current=n;if(Hc&&(Hc=!1,fs=t,Zu=s),i=t.pendingLanes,i===0&&(Es=null),CA(n.stateNode),Ht(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ju)throw Ju=!1,t=_p,_p=null,t;return Zu&1&&t.tag!==0&&wo(),i=t.pendingLanes,i&1?t===Ep?sl++:(sl=0,Ep=t):sl=0,qs(),null}function wo(){if(fs!==null){var t=$E(Zu),e=fn.transition,n=Te;try{if(fn.transition=null,Te=16>t?16:t,fs===null)var r=!1;else{if(t=fs,fs=null,Zu=0,we&6)throw Error(W(331));var s=we;for(we|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:nl(8,d,i)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var m=d.sibling,p=d.return;if(Z1(d),d===u){X=null;break}if(m!==null){m.return=p,X=m;break}X=p}}}var b=i.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,X=w;break e}X=i.return}}var v=t.current;for(X=v;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=v;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(O){$e(a,a.return,O)}if(a===o){X=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,X=D;break e}X=a.return}}if(we=s,qs(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Cd,t)}catch{}r=!0}return r}finally{Te=n,fn.transition=e}}return!1}function bw(t,e,n){e=zo(n,e),e=$1(t,e,1),t=_s(t,e,1),e=Nt(),t!==null&&(Ql(t,1,e),Ht(t,e))}function $e(t,e,n){if(t.tag===3)bw(t,t,n);else for(;e!==null;){if(e.tag===3){bw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){t=zo(n,t),t=B1(e,t,1),e=_s(e,t,1),t=Nt(),e!==null&&(Ql(e,1,t),Ht(e,t));break}}e=e.return}}function tP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(mt&n)===n&&(nt===4||nt===3&&(mt&130023424)===mt&&500>We()-lg?_i(t,0):ag|=n),Ht(t,e)}function cx(t,e){e===0&&(t.mode&1?(e=Mc,Mc<<=1,!(Mc&130023424)&&(Mc=4194304)):e=1);var n=Nt();t=Pr(t,e),t!==null&&(Ql(t,e,n),Ht(t,n))}function nP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cx(t,n)}function rP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),cx(t,n)}var ux;ux=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,WC(t,e,n);$t=!!(t.flags&131072)}else $t=!1,Oe&&e.flags&1048576&&p1(e,Wu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fu(t,e),t=e.pendingProps;var s=Vo(e,bt.current);vo(e,n),s=tg(null,e,r,t,s,n);var i=ng();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(i=!0,$u(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ym(e),s.updater=Md,e.stateNode=s,s._reactInternals=e,cp(e,r,t,n),e=hp(null,e,r,!0,i,n)):(e.tag=0,Oe&&i&&Bm(e),Rt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=iP(r),t=En(r,t),s){case 0:e=dp(null,e,r,t,n);break e;case 1:e=gw(null,e,r,t,n);break e;case 11:e=pw(null,e,r,t,n);break e;case 14:e=mw(null,e,r,En(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),dp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),gw(t,e,r,s,n);case 3:e:{if(G1(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_1(t,e),Gu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zo(Error(W(423)),e),e=yw(t,e,r,n,s);break e}else if(r!==s){s=zo(Error(W(424)),e),e=yw(t,e,r,n,s);break e}else for(Xt=ws(e.stateNode.containerInfo.firstChild),Zt=e,Oe=!0,An=null,n=v1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===s){e=Rr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return E1(e),t===null&&op(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,tp(r,s)?o=null:i!==null&&tp(r,i)&&(e.flags|=32),q1(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&op(e),null;case 13:return K1(t,e,n);case 4:return Xm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),pw(t,e,r,s,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ae(Hu,r._currentValue),r._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===s.children&&!Bt.current){e=Rr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Sr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ap(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ap(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vo(e,n),s=pn(s),r=r(s),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,s=En(r,e.pendingProps),s=En(r.type,s),mw(t,e,r,s,n);case 15:return W1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),fu(t,e),e.tag=1,Wt(r)?(t=!0,$u(e)):t=!1,vo(e,n),z1(e,r,s),cp(e,r,s,n),hp(null,e,r,!0,t,n);case 19:return Q1(t,e,n);case 22:return H1(t,e,n)}throw Error(W(156,e.tag))};function dx(t,e){return jE(t,e)}function sP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new sP(t,e,n,r)}function hg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iP(t){if(typeof t=="function")return hg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===km)return 11;if(t===Nm)return 14}return 2}function Ts(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")hg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case to:return Ei(n.children,s,i,e);case Rm:o=8,s|=8;break;case Df:return t=hn(12,n,e,s|2),t.elementType=Df,t.lanes=i,t;case Of:return t=hn(13,n,e,s),t.elementType=Of,t.lanes=i,t;case Mf:return t=hn(19,n,e,s),t.elementType=Mf,t.lanes=i,t;case EE:return jd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wE:o=10;break e;case _E:o=9;break e;case km:o=11;break e;case Nm:o=14;break e;case Zr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=hn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ei(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function jd(t,e,n,r){return t=hn(22,t,r,e),t.elementType=EE,t.lanes=n,t.stateNode={isHidden:!1},t}function cf(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function uf(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fg(t,e,n,r,s,i,o,a,c){return t=new oP(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ym(i),t}function aP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hx(t){if(!t)return Ns;t=t._reactInternals;e:{if(Li(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(Wt(n))return h1(t,n,e)}return e}function fx(t,e,n,r,s,i,o,a,c){return t=fg(n,r,!0,t,s,i,o,a,c),t.context=hx(null),n=t.current,r=Nt(),s=xs(n),i=Sr(r,s),i.callback=e??null,_s(n,i,s),t.current.lanes=s,Ql(t,s,r),Ht(t,r),t}function Fd(t,e,n,r){var s=e.current,i=Nt(),o=xs(s);return n=hx(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(s,e,o),t!==null&&(Rn(t,s,o,i),uu(t,s,o)),o}function td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Aw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function pg(t,e){Aw(t,e),(t=t.alternate)&&Aw(t,e)}function lP(){return null}var px=typeof reportError=="function"?reportError:function(t){console.error(t)};function mg(t){this._internalRoot=t}Ud.prototype.render=mg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Fd(t,e,null,null)};Ud.prototype.unmount=mg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){Fd(null,t,null,null)}),e[Cr]=null}};function Ud(t){this._internalRoot=t}Ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=HE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ts.length&&e!==0&&e<ts[n].priority;n++);ts.splice(n,0,t),n===0&&GE(t)}};function gg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cw(){}function cP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=td(o);i.call(u)}}var o=fx(e,r,t,0,null,!1,!1,"",Cw);return t._reactRootContainer=o,t[Cr]=o.current,_l(t.nodeType===8?t.parentNode:t),Ci(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=td(c);a.call(u)}}var c=fg(t,0,!1,null,null,!1,!1,"",Cw);return t._reactRootContainer=c,t[Cr]=c.current,_l(t.nodeType===8?t.parentNode:t),Ci(function(){Fd(e,c,n,r)}),c}function $d(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=td(o);a.call(c)}}Fd(e,o,t,s)}else o=cP(n,e,t,s,r);return td(o)}BE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(Mm(e,n|1),Ht(e,We()),!(we&6)&&($o=We()+500,qs()))}break;case 13:Ci(function(){var r=Pr(t,1);if(r!==null){var s=Nt();Rn(r,t,1,s)}}),pg(t,1)}};Lm=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=Nt();Rn(e,t,134217728,n)}pg(t,134217728)}};WE=function(t){if(t.tag===13){var e=xs(t),n=Pr(t,e);if(n!==null){var r=Nt();Rn(n,t,e,r)}pg(t,e)}};HE=function(){return Te};qE=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Hf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Nd(r);if(!s)throw Error(W(90));TE(r),jf(r,s)}}}break;case"textarea":SE(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};NE=cg;DE=Ci;var uP={usingClientEntryPoint:!1,Events:[Xl,io,Nd,RE,kE,cg]},La={findFiberByHostInstance:ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dP={bundleType:La.bundleType,version:La.version,rendererPackageName:La.rendererPackageName,rendererConfig:La.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LE(t),t===null?null:t.stateNode},findFiberByHostInstance:La.findFiberByHostInstance||lP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Cd=qc.inject(dP),er=qc}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uP;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gg(e))throw Error(W(200));return aP(t,e,null,n)};nn.createRoot=function(t,e){if(!gg(t))throw Error(W(299));var n=!1,r="",s=px;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=fg(t,1,!1,null,null,n,!1,r,s),t[Cr]=e.current,_l(t.nodeType===8?t.parentNode:t),new mg(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=LE(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return Ci(t)};nn.hydrate=function(t,e,n){if(!zd(e))throw Error(W(200));return $d(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!gg(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=px;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fx(e,null,t,1,n??null,s,!1,i,o),t[Cr]=e.current,_l(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ud(e)};nn.render=function(t,e,n){if(!zd(e))throw Error(W(200));return $d(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!zd(t))throw Error(W(40));return t._reactRootContainer?(Ci(function(){$d(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};nn.unstable_batchedUpdates=cg;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zd(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return $d(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mx)}catch(t){console.error(t)}}mx(),mE.exports=nn;var Zl=mE.exports;const gx=nE(Zl);var yx,Pw=Zl;yx=Pw.createRoot,Pw.hydrateRoot;const hP=1,fP=1e6;let df=0;function pP(){return df=(df+1)%Number.MAX_SAFE_INTEGER,df.toString()}const hf=new Map,Rw=t=>{if(hf.has(t))return;const e=setTimeout(()=>{hf.delete(t),il({type:"REMOVE_TOAST",toastId:t})},fP);hf.set(t,e)},mP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Rw(n):t.toasts.forEach(r=>{Rw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yu=[];let vu={toasts:[]};function il(t){vu=mP(vu,t),yu.forEach(e=>{e(vu)})}function gP({...t}){const e=pP(),n=s=>il({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>il({type:"DISMISS_TOAST",toastId:e});return il({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function yP(){const[t,e]=C.useState(vu);return C.useEffect(()=>(yu.push(e),()=>{const n=yu.indexOf(e);n>-1&&yu.splice(n,1)}),[t]),{...t,toast:gP,dismiss:n=>il({type:"DISMISS_TOAST",toastId:n})}}function tt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function kw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vx(...t){return e=>{let n=!1;const r=t.map(s=>{const i=kw(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():kw(t[s],null)}}}}function Dn(...t){return C.useCallback(vx(...t),t)}function Bd(t,e=[]){let n=[];function r(i,o){const a=C.createContext(o),c=n.length;n=[...n,o];const u=f=>{var w;const{scope:m,children:p,...b}=f,_=((w=m==null?void 0:m[t])==null?void 0:w[c])||a,E=C.useMemo(()=>b,Object.values(b));return y.jsx(_.Provider,{value:E,children:p})};u.displayName=i+"Provider";function d(f,m){var _;const p=((_=m==null?void 0:m[t])==null?void 0:_[c])||a,b=C.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>C.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,vP(s,...e)]}function vP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ip(t){const e=wP(t),n=C.forwardRef((r,s)=>{const{children:i,...o}=r,a=C.Children.toArray(i),c=a.find(EP);if(c){const u=c.props.children,d=a.map(f=>f===c?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:f);return y.jsx(e,{...o,ref:s,children:C.isValidElement(u)?C.cloneElement(u,void 0,d):null})}return y.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function wP(t){const e=C.forwardRef((n,r)=>{const{children:s,...i}=n;if(C.isValidElement(s)){const o=TP(s),a=xP(i,s.props);return s.type!==C.Fragment&&(a.ref=r?vx(r,o):o),C.cloneElement(s,a)}return C.Children.count(s)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wx=Symbol("radix.slottable");function _P(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=wx,e}function EP(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wx}function xP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function TP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function IP(t){const e=t+"CollectionProvider",[n,r]=Bd(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:E,children:w}=_,v=H.useRef(null),T=H.useRef(new Map).current;return y.jsx(s,{scope:E,itemMap:T,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=Ip(a),u=H.forwardRef((_,E)=>{const{scope:w,children:v}=_,T=i(a,w),D=Dn(E,T.collectionRef);return y.jsx(c,{ref:D,children:v})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=Ip(d),p=H.forwardRef((_,E)=>{const{scope:w,children:v,...T}=_,D=H.useRef(null),O=Dn(E,D),L=i(d,w);return H.useEffect(()=>(L.itemMap.set(D,{ref:D,...T}),()=>void L.itemMap.delete(D))),y.jsx(m,{[f]:"",ref:O,children:v})});p.displayName=d;function b(_){const E=i(t+"CollectionConsumer",_);return H.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const T=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((L,S)=>T.indexOf(L.ref.current)-T.indexOf(S.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},b,r]}var SP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=SP.reduce((t,e)=>{const n=Ip(`Primitive.${e}`),r=C.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _x(t,e){t&&Zl.flushSync(()=>t.dispatchEvent(e))}function Ds(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function bP(t,e=globalThis==null?void 0:globalThis.document){const n=Ds(t);C.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var AP="DismissableLayer",Sp="dismissableLayer.update",CP="dismissableLayer.pointerDownOutside",PP="dismissableLayer.focusOutside",Nw,Ex=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yg=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=C.useContext(Ex),[d,f]=C.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),b=Dn(e,S=>f(S)),_=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(E),v=d?_.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,D=v>=w,O=kP(S=>{const I=S.target,k=[...u.branches].some(N=>N.contains(I));!D||k||(s==null||s(S),o==null||o(S),S.defaultPrevented||a==null||a())},m),L=NP(S=>{const I=S.target;[...u.branches].some(N=>N.contains(I))||(i==null||i(S),o==null||o(S),S.defaultPrevented||a==null||a())},m);return bP(S=>{v===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&a&&(S.preventDefault(),a()))},m),C.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Nw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Nw)}},[d,m,n,u]),C.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dw())},[d,u]),C.useEffect(()=>{const S=()=>p({});return document.addEventListener(Sp,S),()=>document.removeEventListener(Sp,S)},[]),y.jsx(qt.div,{...c,ref:b,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,L.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,O.onPointerDownCapture)})});yg.displayName=AP;var RP="DismissableLayerBranch",xx=C.forwardRef((t,e)=>{const n=C.useContext(Ex),r=C.useRef(null),s=Dn(e,r);return C.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),y.jsx(qt.div,{...t,ref:s})});xx.displayName=RP;function kP(t,e=globalThis==null?void 0:globalThis.document){const n=Ds(t),r=C.useRef(!1),s=C.useRef(()=>{});return C.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){Tx(CP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function NP(t,e=globalThis==null?void 0:globalThis.document){const n=Ds(t),r=C.useRef(!1);return C.useEffect(()=>{const s=i=>{i.target&&!r.current&&Tx(PP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dw(){const t=new CustomEvent(Sp);document.dispatchEvent(t)}function Tx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_x(s,i):s.dispatchEvent(i)}var DP=yg,OP=xx,Os=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},MP="Portal",Ix=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=C.useState(!1);Os(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gx.createPortal(y.jsx(qt.div,{...r,ref:e}),o):null});Ix.displayName=MP;function LP(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var vg=t=>{const{present:e,children:n}=t,r=VP(e),s=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),i=Dn(r.ref,jP(s));return typeof n=="function"||r.isPresent?C.cloneElement(s,{ref:i}):null};vg.displayName="Presence";function VP(t){const[e,n]=C.useState(),r=C.useRef(null),s=C.useRef(t),i=C.useRef("none"),o=t?"mounted":"unmounted",[a,c]=LP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=Gc(r.current);i.current=a==="mounted"?u:"none"},[a]),Os(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,p=Gc(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Os(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const _=Gc(r.current).includes(p.animationName);if(p.target===e&&_&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=p=>{p.target===e&&(i.current=Gc(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Gc(t){return(t==null?void 0:t.animationName)||"none"}function jP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var FP=fE[" useInsertionEffect ".trim().toString()]||Os;function UP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=zP({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const d=C.useRef(t!==void 0);C.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=C.useCallback(d=>{var f;if(a){const m=$P(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[a,t,i,o]);return[c,u]}function zP({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),s=C.useRef(n),i=C.useRef(e);return FP(()=>{i.current=e},[e]),C.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function $P(t){return typeof t=="function"}var BP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WP="VisuallyHidden",Wd=C.forwardRef((t,e)=>y.jsx(qt.span,{...t,ref:e,style:{...BP,...t.style}}));Wd.displayName=WP;var HP=Wd,wg="ToastProvider",[_g,qP,GP]=IP("Toast"),[Sx,b3]=Bd("Toast",[GP]),[KP,Hd]=Sx(wg),bx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=C.useState(null),[u,d]=C.useState(0),f=C.useRef(!1),m=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wg}\`. Expected non-empty \`string\`.`),y.jsx(_g.Provider,{scope:e,children:y.jsx(KP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:C.useCallback(()=>d(p=>p+1),[]),onToastRemove:C.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};bx.displayName=wg;var Ax="ToastViewport",QP=["F8"],bp="toast.viewportPause",Ap="toast.viewportResume",Cx=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=QP,label:s="Notifications ({hotkey})",...i}=t,o=Hd(Ax,n),a=qP(n),c=C.useRef(null),u=C.useRef(null),d=C.useRef(null),f=C.useRef(null),m=Dn(e,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;C.useEffect(()=>{const E=w=>{var T;r.length!==0&&r.every(D=>w[D]||w.code===D)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),C.useEffect(()=>{const E=c.current,w=f.current;if(b&&E&&w){const v=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(bp);w.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Ap);w.dispatchEvent(L),o.isClosePausedRef.current=!1}},D=L=>{!E.contains(L.relatedTarget)&&T()},O=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",v),E.addEventListener("focusout",D),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",D),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",T)}}},[b,o.isClosePausedRef]);const _=C.useCallback(({tabbingDirection:E})=>{const v=a().map(T=>{const D=T.ref.current,O=[D,...lR(D)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return C.useEffect(()=>{const E=f.current;if(E){const w=v=>{var O,L,S;const T=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!T){const I=document.activeElement,k=v.shiftKey;if(v.target===E&&k){(O=u.current)==null||O.focus();return}const P=_({tabbingDirection:k?"backwards":"forwards"}),R=P.findIndex(z=>z===I);ff(P.slice(R+1))?v.preventDefault():k?(L=u.current)==null||L.focus():(S=d.current)==null||S.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[a,_]),y.jsxs(OP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&y.jsx(Cp,{ref:u,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});ff(E)}}),y.jsx(_g.Slot,{scope:n,children:y.jsx(qt.ol,{tabIndex:-1,...i,ref:m})}),b&&y.jsx(Cp,{ref:d,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});ff(E)}})]})});Cx.displayName=Ax;var Px="ToastFocusProxy",Cp=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Hd(Px,n);return y.jsx(Wd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Cp.displayName=Px;var ec="Toast",YP="toast.swipeStart",XP="toast.swipeMove",JP="toast.swipeCancel",ZP="toast.swipeEnd",Rx=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=UP({prop:r,defaultProp:s??!0,onChange:i,caller:ec});return y.jsx(vg,{present:n||a,children:y.jsx(nR,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Ds(t.onPause),onResume:Ds(t.onResume),onSwipeStart:tt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:tt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:tt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:tt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Rx.displayName=ec;var[eR,tR]=Sx(ec,{onClose(){}}),nR=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...b}=t,_=Hd(ec,n),[E,w]=C.useState(null),v=Dn(e,z=>w(z)),T=C.useRef(null),D=C.useRef(null),O=s||_.duration,L=C.useRef(0),S=C.useRef(O),I=C.useRef(0),{onToastAdd:k,onToastRemove:N}=_,x=Ds(()=>{var Y;(E==null?void 0:E.contains(document.activeElement))&&((Y=_.viewport)==null||Y.focus()),o()}),P=C.useCallback(z=>{!z||z===1/0||(window.clearTimeout(I.current),L.current=new Date().getTime(),I.current=window.setTimeout(x,z))},[x]);C.useEffect(()=>{const z=_.viewport;if(z){const Y=()=>{P(S.current),u==null||u()},J=()=>{const te=new Date().getTime()-L.current;S.current=S.current-te,window.clearTimeout(I.current),c==null||c()};return z.addEventListener(bp,J),z.addEventListener(Ap,Y),()=>{z.removeEventListener(bp,J),z.removeEventListener(Ap,Y)}}},[_.viewport,O,c,u,P]),C.useEffect(()=>{i&&!_.isClosePausedRef.current&&P(O)},[i,O,_.isClosePausedRef,P]),C.useEffect(()=>(k(),()=>N()),[k,N]);const R=C.useMemo(()=>E?Vx(E):null,[E]);return _.viewport?y.jsxs(y.Fragment,{children:[R&&y.jsx(rR,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),y.jsx(eR,{scope:n,onClose:x,children:Zl.createPortal(y.jsx(_g.ItemSlot,{scope:n,children:y.jsx(DP,{asChild:!0,onEscapeKeyDown:tt(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||x(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(qt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:tt(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,x()))}),onPointerDown:tt(t.onPointerDown,z=>{z.button===0&&(T.current={x:z.clientX,y:z.clientY})}),onPointerMove:tt(t.onPointerMove,z=>{if(!T.current)return;const Y=z.clientX-T.current.x,J=z.clientY-T.current.y,te=!!D.current,j=["left","right"].includes(_.swipeDirection),$=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,G=j?$(0,Y):0,ie=j?0:$(0,J),Z=z.pointerType==="touch"?10:2,de={x:G,y:ie},ce={originalEvent:z,delta:de};te?(D.current=de,Kc(XP,f,ce,{discrete:!1})):Ow(de,_.swipeDirection,Z)?(D.current=de,Kc(YP,d,ce,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(Y)>Z||Math.abs(J)>Z)&&(T.current=null)}),onPointerUp:tt(t.onPointerUp,z=>{const Y=D.current,J=z.target;if(J.hasPointerCapture(z.pointerId)&&J.releasePointerCapture(z.pointerId),D.current=null,T.current=null,Y){const te=z.currentTarget,j={originalEvent:z,delta:Y};Ow(Y,_.swipeDirection,_.swipeThreshold)?Kc(ZP,p,j,{discrete:!0}):Kc(JP,m,j,{discrete:!0}),te.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),rR=t=>{const{__scopeToast:e,children:n,...r}=t,s=Hd(ec,e),[i,o]=C.useState(!1),[a,c]=C.useState(!1);return oR(()=>o(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:y.jsx(Ix,{asChild:!0,children:y.jsx(Wd,{...r,children:i&&y.jsxs(y.Fragment,{children:[s.label," ",n]})})})},sR="ToastTitle",kx=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(qt.div,{...r,ref:e})});kx.displayName=sR;var iR="ToastDescription",Nx=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(qt.div,{...r,ref:e})});Nx.displayName=iR;var Dx="ToastAction",Ox=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(Lx,{altText:n,asChild:!0,children:y.jsx(Eg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dx}\`. Expected non-empty \`string\`.`),null)});Ox.displayName=Dx;var Mx="ToastClose",Eg=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=tR(Mx,n);return y.jsx(Lx,{asChild:!0,children:y.jsx(qt.button,{type:"button",...r,ref:e,onClick:tt(t.onClick,s.onClose)})})});Eg.displayName=Mx;var Lx=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return y.jsx(qt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Vx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),aR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Vx(r))}}),e}function Kc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_x(s,i):s.dispatchEvent(i)}var Ow=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function oR(t=()=>{}){const e=Ds(t);Os(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function aR(t){return t.nodeType===t.ELEMENT_NODE}function lR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ff(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var cR=bx,jx=Cx,Fx=Rx,Ux=kx,zx=Nx,$x=Ox,Bx=Eg;function Wx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Wx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Wx(t))&&(r&&(r+=" "),r+=e);return r}const Mw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Lw=Hx,uR=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Lw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=Mw(d)||Mw(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(b=>{let[_,E]=b;return Array.isArray(E)?E.includes({...i,...a}[_]):{...i,...a}[_]===E})?[...u,f,m]:u},[]);return Lw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>C.createElement("svg",{ref:c,...hR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:qx("lucide",s),...a},[...o.map(([u,d])=>C.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=C.forwardRef(({className:r,...s},i)=>C.createElement(fR,{ref:i,iconNode:e,className:qx(`lucide-${dR(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=it("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=it("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=it("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=it("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=it("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=it("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=it("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=it("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=it("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=it("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=it("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=it("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=it("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=it("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ig="-",SR=t=>{const e=AR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ig);return a[0]===""&&a.length!==1&&a.shift(),Gx(a,e)||bR(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Gx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Gx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ig);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},jw=/^\[(.+)\]$/,bR=t=>{if(jw.test(t)){const e=jw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},AR=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return PR(Object.entries(t.classGroups),n).forEach(([i,o])=>{Rp(o,r,i,e)}),r},Rp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Fw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(CR(s)){Rp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Rp(o,Fw(e,i),n,r)})})},Fw=(t,e)=>{let n=t;return e.split(Ig).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},CR=t=>t.isThemeGetter,PR=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,RR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Kx="!",kR=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let E=0;E<a.length;E++){let w=a[E];if(u===0){if(w===s&&(r||a.slice(E,E+i)===e)){c.push(a.slice(d,E)),d=E+i;continue}if(w==="/"){f=E;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?a:a.substring(d),p=m.startsWith(Kx),b=p?m.substring(1):m,_=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},NR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},DR=t=>({cache:RR(t.cacheSize),parseClassName:kR(t),...SR(t)}),OR=/\s+/,MR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(OR);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let b=!!p,_=r(b?m.substring(0,p):m);if(!_){if(!b){a=u+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=u+(a.length>0?" "+a:a);continue}b=!1}const E=NR(d).join(":"),w=f?E+Kx:E,v=w+_;if(i.includes(v))continue;i.push(v);const T=s(_,b);for(let D=0;D<T.length;++D){const O=T[D];i.push(w+O)}a=u+(a.length>0?" "+a:a)}return a};function LR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Qx(e))&&(r&&(r+=" "),r+=n);return r}const Qx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qx(t[r]))&&(n&&(n+=" "),n+=e);return n};function VR(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=DR(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=MR(c,n);return s(c,d),d}return function(){return i(LR.apply(null,arguments))}}const Pe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Yx=/^\[(?:([a-z-]+):)?(.+)\]$/i,jR=/^\d+\/\d+$/,FR=new Set(["px","full","screen"]),UR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$R=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,BR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gr=t=>_o(t)||FR.has(t)||jR.test(t),Qr=t=>ra(t,"length",JR),_o=t=>!!t&&!Number.isNaN(Number(t)),pf=t=>ra(t,"number",_o),Va=t=>!!t&&Number.isInteger(Number(t)),HR=t=>t.endsWith("%")&&_o(t.slice(0,-1)),ue=t=>Yx.test(t),Yr=t=>UR.test(t),qR=new Set(["length","size","percentage"]),GR=t=>ra(t,qR,Xx),KR=t=>ra(t,"position",Xx),QR=new Set(["image","url"]),YR=t=>ra(t,QR,ek),XR=t=>ra(t,"",ZR),ja=()=>!0,ra=(t,e,n)=>{const r=Yx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},JR=t=>zR.test(t)&&!$R.test(t),Xx=()=>!1,ZR=t=>BR.test(t),ek=t=>WR.test(t),tk=()=>{const t=Pe("colors"),e=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),i=Pe("borderRadius"),o=Pe("borderSpacing"),a=Pe("borderWidth"),c=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),f=Pe("invert"),m=Pe("gap"),p=Pe("gradientColorStops"),b=Pe("gradientColorStopPositions"),_=Pe("inset"),E=Pe("margin"),w=Pe("opacity"),v=Pe("padding"),T=Pe("saturate"),D=Pe("scale"),O=Pe("sepia"),L=Pe("skew"),S=Pe("space"),I=Pe("translate"),k=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto",ue,e],P=()=>[ue,e],R=()=>["",gr,Qr],z=()=>["auto",_o,ue],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ue],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ie=()=>[_o,ue];return{cacheSize:500,separator:":",theme:{colors:[ja],spacing:[gr,Qr],blur:["none","",Yr,ue],brightness:ie(),borderColor:[t],borderRadius:["none","","full",Yr,ue],borderSpacing:P(),borderWidth:R(),contrast:ie(),grayscale:$(),hueRotate:ie(),invert:$(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[HR,Qr],inset:x(),margin:x(),opacity:ie(),padding:P(),saturate:ie(),scale:ie(),sepia:$(),skew:ie(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Yr]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),ue]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Va,ue]}],basis:[{basis:x()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Va,ue]}],"grid-cols":[{"grid-cols":[ja]}],"col-start-end":[{col:["auto",{span:["full",Va,ue]},ue]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[ja]}],"row-start-end":[{row:["auto",{span:[Va,ue]},ue]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Yr]},Yr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Yr,Qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pf]}],"font-family":[{font:[ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",_o,pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gr,Qr]}],"underline-offset":[{"underline-offset":["auto",gr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),KR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},YR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:J()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[gr,ue]}],"outline-w":[{outline:[gr,Qr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[gr,Qr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yr,XR]}],"shadow-color":[{shadow:[ja]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yr,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[Va,ue]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gr,Qr,pf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nk=VR(tk);function Vi(...t){return nk(Hx(t))}const rk=cR,Jx=C.forwardRef(({className:t,...e},n)=>y.jsx(jx,{ref:n,className:Vi("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Jx.displayName=jx.displayName;const sk=uR("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zx=C.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(Fx,{ref:r,className:Vi(sk({variant:e}),t),...n}));Zx.displayName=Fx.displayName;const ik=C.forwardRef(({className:t,...e},n)=>y.jsx($x,{ref:n,className:Vi("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));ik.displayName=$x.displayName;const eT=C.forwardRef(({className:t,...e},n)=>y.jsx(Bx,{ref:n,className:Vi("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(qd,{className:"h-4 w-4"})}));eT.displayName=Bx.displayName;const tT=C.forwardRef(({className:t,...e},n)=>y.jsx(Ux,{ref:n,className:Vi("text-sm font-semibold",t),...e}));tT.displayName=Ux.displayName;const nT=C.forwardRef(({className:t,...e},n)=>y.jsx(zx,{ref:n,className:Vi("text-sm opacity-90",t),...e}));nT.displayName=zx.displayName;function ok(){const{toasts:t}=yP();return y.jsxs(rk,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return y.jsxs(Zx,{...i,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(tT,{children:n}),r&&y.jsx(nT,{children:r})]}),s,y.jsx(eT,{})]},e)}),y.jsx(Jx,{})]})}var Uw=["light","dark"],ak="(prefers-color-scheme: dark)",lk=C.createContext(void 0),ck={setTheme:t=>{},themes:[]},uk=()=>{var t;return(t=C.useContext(lk))!=null?t:ck};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Uw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,_=!1,E=!0)=>{let w=o?o[b]:b,v=_?b+"|| ''":`'${w}'`,T="";return s&&E&&!_&&Uw.includes(b)&&(T+=`d.style.colorScheme = '${b}';`),n==="class"?_||w?T+=`c.add(${v})`:T+="null":w&&(T+=`d[s](n,${v})`),T},p=t?`!function(){${d}${m(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${ak}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return C.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var dk=t=>{switch(t){case"success":return pk;case"info":return gk;case"warning":return mk;case"error":return yk;default:return null}},hk=Array(12).fill(0),fk=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},hk.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vk=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wk=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},kp=1,_k=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:kp++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],H.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(xk(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||kp++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new _k,Ek=(t,e)=>{let n=(e==null?void 0:e.id)||kp++;return Vt.addToast({title:t,...e,id:n}),n},xk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Tk=Ek,Ik=()=>Vt.toasts,Sk=()=>Vt.getActiveToasts();Object.assign(Tk,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:Ik,getToasts:Sk});function bk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}bk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yc(t){return t.label!==void 0}var Ak=3,Ck="32px",Pk="16px",zw=4e3,Rk=356,kk=14,Nk=20,Dk=200;function _n(...t){return t.filter(Boolean).join(" ")}function Ok(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Mk=t=>{var e,n,r,s,i,o,a,c,u,d,f;let{invert:m,toast:p,unstyled:b,interacting:_,setHeights:E,visibleToasts:w,heights:v,index:T,toasts:D,expanded:O,removeToast:L,defaultRichColors:S,closeButton:I,style:k,cancelButtonStyle:N,actionButtonStyle:x,className:P="",descriptionClassName:R="",duration:z,position:Y,gap:J,loadingIcon:te,expandByDefault:j,classNames:$,icons:G,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:Z}=t,[de,ce]=H.useState(null),[De,He]=H.useState(null),[ye,jn]=H.useState(!1),[gn,hr]=H.useState(!1),[Fn,fr]=H.useState(!1),[sn,Js]=H.useState(!1),[pa,Fr]=H.useState(!1),[Zs,Ur]=H.useState(0),[Me,ot]=H.useState(0),Un=H.useRef(p.duration||z||zw),gc=H.useRef(null),zn=H.useRef(null),Eh=T===0,ei=T+1<=w,Ct=p.type,pr=p.dismissible!==!1,ma=p.className||"",xh=p.descriptionClassName||"",Wi=H.useMemo(()=>v.findIndex(ne=>ne.toastId===p.id)||0,[v,p.id]),yc=H.useMemo(()=>{var ne;return(ne=p.closeButton)!=null?ne:I},[p.closeButton,I]),ga=H.useMemo(()=>p.duration||z||zw,[p.duration,z]),mr=H.useRef(0),$n=H.useRef(0),Hi=H.useRef(0),Mt=H.useRef(null),[vc,qi]=Y.split("-"),ya=H.useMemo(()=>v.reduce((ne,Ee,Se)=>Se>=Wi?ne:ne+Ee.height,0),[v,Wi]),zr=wk(),wc=p.invert||m,Je=Ct==="loading";$n.current=H.useMemo(()=>Wi*J+ya,[Wi,ya]),H.useEffect(()=>{Un.current=ga},[ga]),H.useEffect(()=>{jn(!0)},[]),H.useEffect(()=>{let ne=zn.current;if(ne){let Ee=ne.getBoundingClientRect().height;return ot(Ee),E(Se=>[{toastId:p.id,height:Ee,position:p.position},...Se]),()=>E(Se=>Se.filter(at=>at.toastId!==p.id))}},[E,p.id]),H.useLayoutEffect(()=>{if(!ye)return;let ne=zn.current,Ee=ne.style.height;ne.style.height="auto";let Se=ne.getBoundingClientRect().height;ne.style.height=Ee,ot(Se),E(at=>at.find(Gt=>Gt.toastId===p.id)?at.map(Gt=>Gt.toastId===p.id?{...Gt,height:Se}:Gt):[{toastId:p.id,height:Se,position:p.position},...at])},[ye,p.title,p.description,E,p.id]);let yn=H.useCallback(()=>{hr(!0),Ur($n.current),E(ne=>ne.filter(Ee=>Ee.toastId!==p.id)),setTimeout(()=>{L(p)},Dk)},[p,L,E,$n]);H.useEffect(()=>{if(p.promise&&Ct==="loading"||p.duration===1/0||p.type==="loading")return;let ne;return O||_||Z&&zr?(()=>{if(Hi.current<mr.current){let Ee=new Date().getTime()-mr.current;Un.current=Un.current-Ee}Hi.current=new Date().getTime()})():Un.current!==1/0&&(mr.current=new Date().getTime(),ne=setTimeout(()=>{var Ee;(Ee=p.onAutoClose)==null||Ee.call(p,p),yn()},Un.current)),()=>clearTimeout(ne)},[O,_,p,Ct,Z,zr,yn]),H.useEffect(()=>{p.delete&&yn()},[yn,p.delete]);function ti(){var ne,Ee,Se;return G!=null&&G.loading?H.createElement("div",{className:_n($==null?void 0:$.loader,(ne=p==null?void 0:p.classNames)==null?void 0:ne.loader,"sonner-loader"),"data-visible":Ct==="loading"},G.loading):te?H.createElement("div",{className:_n($==null?void 0:$.loader,(Ee=p==null?void 0:p.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Ct==="loading"},te):H.createElement(fk,{className:_n($==null?void 0:$.loader,(Se=p==null?void 0:p.classNames)==null?void 0:Se.loader),visible:Ct==="loading"})}return H.createElement("li",{tabIndex:0,ref:zn,className:_n(P,ma,$==null?void 0:$.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[Ct],(n=p==null?void 0:p.classNames)==null?void 0:n[Ct]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:S,"data-styled":!(p.jsx||p.unstyled||b),"data-mounted":ye,"data-promise":!!p.promise,"data-swiped":pa,"data-removed":gn,"data-visible":ei,"data-y-position":vc,"data-x-position":qi,"data-index":T,"data-front":Eh,"data-swiping":Fn,"data-dismissible":pr,"data-type":Ct,"data-invert":wc,"data-swipe-out":sn,"data-swipe-direction":De,"data-expanded":!!(O||j&&ye),style:{"--index":T,"--toasts-before":T,"--z-index":D.length-T,"--offset":`${gn?Zs:$n.current}px`,"--initial-height":j?"auto":`${Me}px`,...k,...p.style},onDragEnd:()=>{fr(!1),ce(null),Mt.current=null},onPointerDown:ne=>{Je||!pr||(gc.current=new Date,Ur($n.current),ne.target.setPointerCapture(ne.pointerId),ne.target.tagName!=="BUTTON"&&(fr(!0),Mt.current={x:ne.clientX,y:ne.clientY}))},onPointerUp:()=>{var ne,Ee,Se,at;if(sn||!pr)return;Mt.current=null;let Gt=Number(((ne=zn.current)==null?void 0:ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bn=Number(((Ee=zn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),on=new Date().getTime()-((Se=gc.current)==null?void 0:Se.getTime()),Lt=de==="x"?Gt:Bn,vn=Math.abs(Lt)/on;if(Math.abs(Lt)>=Nk||vn>.11){Ur($n.current),(at=p.onDismiss)==null||at.call(p,p),He(de==="x"?Gt>0?"right":"left":Bn>0?"down":"up"),yn(),Js(!0),Fr(!1);return}fr(!1),ce(null)},onPointerMove:ne=>{var Ee,Se,at,Gt;if(!Mt.current||!pr||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Bn=ne.clientY-Mt.current.y,on=ne.clientX-Mt.current.x,Lt=(Se=t.swipeDirections)!=null?Se:Ok(Y);!de&&(Math.abs(on)>1||Math.abs(Bn)>1)&&ce(Math.abs(on)>Math.abs(Bn)?"x":"y");let vn={x:0,y:0};de==="y"?(Lt.includes("top")||Lt.includes("bottom"))&&(Lt.includes("top")&&Bn<0||Lt.includes("bottom")&&Bn>0)&&(vn.y=Bn):de==="x"&&(Lt.includes("left")||Lt.includes("right"))&&(Lt.includes("left")&&on<0||Lt.includes("right")&&on>0)&&(vn.x=on),(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&Fr(!0),(at=zn.current)==null||at.style.setProperty("--swipe-amount-x",`${vn.x}px`),(Gt=zn.current)==null||Gt.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},yc&&!p.jsx?H.createElement("button",{"aria-label":ie,"data-disabled":Je,"data-close-button":!0,onClick:Je||!pr?()=>{}:()=>{var ne;yn(),(ne=p.onDismiss)==null||ne.call(p,p)},className:_n($==null?void 0:$.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:vk):null,p.jsx||C.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,Ct||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:_n($==null?void 0:$.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ti():null,p.type!=="loading"?p.icon||(G==null?void 0:G[Ct])||dk(Ct):null):null,H.createElement("div",{"data-content":"",className:_n($==null?void 0:$.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:_n($==null?void 0:$.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:_n(R,xh,$==null?void 0:$.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),C.isValidElement(p.cancel)?p.cancel:p.cancel&&Yc(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:ne=>{var Ee,Se;Yc(p.cancel)&&pr&&((Se=(Ee=p.cancel).onClick)==null||Se.call(Ee,ne),yn())},className:_n($==null?void 0:$.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,C.isValidElement(p.action)?p.action:p.action&&Yc(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||x,onClick:ne=>{var Ee,Se;Yc(p.action)&&((Se=(Ee=p.action).onClick)==null||Se.call(Ee,ne),!ne.defaultPrevented&&yn())},className:_n($==null?void 0:$.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function $w(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Lk(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?Pk:Ck;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var Vk=C.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:b=Ak,toastOptions:_,dir:E=$w(),gap:w=kk,loadingIcon:v,icons:T,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:O}=t,[L,S]=H.useState([]),I=H.useMemo(()=>Array.from(new Set([r].concat(L.filter(Z=>Z.position).map(Z=>Z.position)))),[L,r]),[k,N]=H.useState([]),[x,P]=H.useState(!1),[R,z]=H.useState(!1),[Y,J]=H.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=H.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=H.useRef(null),G=H.useRef(!1),ie=H.useCallback(Z=>{S(de=>{var ce;return(ce=de.find(De=>De.id===Z.id))!=null&&ce.delete||Vt.dismiss(Z.id),de.filter(({id:De})=>De!==Z.id)})},[]);return H.useEffect(()=>Vt.subscribe(Z=>{if(Z.dismiss){S(de=>de.map(ce=>ce.id===Z.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{gx.flushSync(()=>{S(de=>{let ce=de.findIndex(De=>De.id===Z.id);return ce!==-1?[...de.slice(0,ce),{...de[ce],...Z},...de.slice(ce+1)]:[Z,...de]})})})}),[]),H.useEffect(()=>{if(d!=="system"){J(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:de})=>{J(de?"dark":"light")})}catch{Z.addListener(({matches:ce})=>{try{J(ce?"dark":"light")}catch(De){console.error(De)}})}},[d]),H.useEffect(()=>{L.length<=1&&P(!1)},[L]),H.useEffect(()=>{let Z=de=>{var ce,De;s.every(He=>de[He]||de.code===He)&&(P(!0),(ce=te.current)==null||ce.focus()),de.code==="Escape"&&(document.activeElement===te.current||(De=te.current)!=null&&De.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),H.useEffect(()=>{if(te.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,G.current=!1)}},[te.current]),H.createElement("section",{ref:e,"aria-label":`${D} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((Z,de)=>{var ce;let[De,He]=Z.split("-");return L.length?H.createElement("ol",{key:Z,dir:E==="auto"?$w():E,tabIndex:-1,ref:te,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":De,"data-lifted":x&&L.length>1&&!i,"data-x-position":He,style:{"--front-toast-height":`${((ce=k[0])==null?void 0:ce.height)||0}px`,"--width":`${Rk}px`,"--gap":`${w}px`,...p,...Lk(c,u)},onBlur:ye=>{G.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(G.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||G.current||(G.current=!0,$.current=ye.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onDragEnd:()=>P(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},L.filter(ye=>!ye.position&&de===0||ye.position===Z).map((ye,jn)=>{var gn,hr;return H.createElement(Mk,{key:ye.id,icons:T,index:jn,toast:ye,defaultRichColors:f,duration:(gn=_==null?void 0:_.duration)!=null?gn:m,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:b,closeButton:(hr=_==null?void 0:_.closeButton)!=null?hr:o,interacting:R,position:Z,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:ie,toasts:L.filter(Fn=>Fn.position==ye.position),heights:k.filter(Fn=>Fn.position==ye.position),setHeights:N,expandByDefault:i,gap:w,loadingIcon:v,expanded:x,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const jk=({...t})=>{const{theme:e="system"}=uk();return y.jsx(Vk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},Fk=["top","right","bottom","left"],Ms=Math.min,Yt=Math.max,nd=Math.round,Xc=Math.floor,nr=t=>({x:t,y:t}),Uk={left:"right",right:"left",bottom:"top",top:"bottom"},zk={start:"end",end:"start"};function Np(t,e,n){return Yt(t,Ms(e,n))}function kr(t,e){return typeof t=="function"?t(e):t}function Nr(t){return t.split("-")[0]}function sa(t){return t.split("-")[1]}function Sg(t){return t==="x"?"y":"x"}function bg(t){return t==="y"?"height":"width"}const $k=new Set(["top","bottom"]);function Zn(t){return $k.has(Nr(t))?"y":"x"}function Ag(t){return Sg(Zn(t))}function Bk(t,e,n){n===void 0&&(n=!1);const r=sa(t),s=Ag(t),i=bg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=rd(o)),[o,rd(o)]}function Wk(t){const e=rd(t);return[Dp(t),e,Dp(e)]}function Dp(t){return t.replace(/start|end/g,e=>zk[e])}const Bw=["left","right"],Ww=["right","left"],Hk=["top","bottom"],qk=["bottom","top"];function Gk(t,e,n){switch(t){case"top":case"bottom":return n?e?Ww:Bw:e?Bw:Ww;case"left":case"right":return e?Hk:qk;default:return[]}}function Kk(t,e,n,r){const s=sa(t);let i=Gk(Nr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Dp)))),i}function rd(t){return t.replace(/left|right|bottom|top/g,e=>Uk[e])}function Qk(t){return{top:0,right:0,bottom:0,left:0,...t}}function rT(t){return typeof t!="number"?Qk(t):{top:t,right:t,bottom:t,left:t}}function sd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Hw(t,e,n){let{reference:r,floating:s}=t;const i=Zn(e),o=Ag(e),a=bg(o),c=Nr(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(sa(e)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const Yk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Hw(u,r,c),m=r,p={},b=0;for(let _=0;_<a.length;_++){const{name:E,fn:w}=a[_],{x:v,y:T,data:D,reset:O}=await w({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,f=T??f,p={...p,[E]:{...p[E],...D}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=Hw(u,m,c)),_=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Pl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=kr(e,t),b=rT(p),E=a[m?f==="floating"?"reference":"floating":f],w=sd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),D=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=sd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:c}):v);return{top:(w.top-O.top+b.top)/D.y,bottom:(O.bottom-w.bottom+b.bottom)/D.y,left:(w.left-O.left+b.left)/D.x,right:(O.right-w.right+b.right)/D.x}}const Xk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=kr(t,e)||{};if(u==null)return{};const f=rT(d),m={x:n,y:r},p=Ag(s),b=bg(p),_=await o.getDimensions(u),E=p==="y",w=E?"top":"left",v=E?"bottom":"right",T=E?"clientHeight":"clientWidth",D=i.reference[b]+i.reference[p]-m[p]-i.floating[b],O=m[p]-i.reference[p],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=L?L[T]:0;(!S||!await(o.isElement==null?void 0:o.isElement(L)))&&(S=a.floating[T]||i.floating[b]);const I=D/2-O/2,k=S/2-_[b]/2-1,N=Ms(f[w],k),x=Ms(f[v],k),P=N,R=S-_[b]-x,z=S/2-_[b]/2+I,Y=Np(P,z,R),J=!c.arrow&&sa(s)!=null&&z!==Y&&i.reference[b]/2-(z<P?N:x)-_[b]/2<0,te=J?z<P?z-P:z-R:0;return{[p]:m[p]+te,data:{[p]:Y,centerOffset:z-Y-te,...J&&{alignmentOffset:te}},reset:J}}}),Jk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...E}=kr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Nr(s),v=Zn(a),T=Nr(a)===a,D=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=m||(T||!_?[rd(a)]:Wk(a)),L=b!=="none";!m&&L&&O.push(...Kk(a,_,b,D));const S=[a,...O],I=await Pl(e,E),k=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&k.push(I[w]),f){const z=Bk(s,o,D);k.push(I[z[0]],I[z[1]])}if(N=[...N,{placement:s,overflows:k}],!k.every(z=>z<=0)){var x,P;const z=(((x=i.flip)==null?void 0:x.index)||0)+1,Y=S[z];if(Y&&(!(f==="alignment"?v!==Zn(Y):!1)||N.every(j=>j.overflows[0]>0&&Zn(j.placement)===v)))return{data:{index:z,overflows:N},reset:{placement:Y}};let J=(P=N.filter(te=>te.overflows[0]<=0).sort((te,j)=>te.overflows[1]-j.overflows[1])[0])==null?void 0:P.placement;if(!J)switch(p){case"bestFit":{var R;const te=(R=N.filter(j=>{if(L){const $=Zn(j.placement);return $===v||$==="y"}return!0}).map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:R[0];te&&(J=te);break}case"initialPlacement":J=a;break}if(s!==J)return{reset:{placement:J}}}return{}}}};function qw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Gw(t){return Fk.some(e=>t[e]>=0)}const Zk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=kr(t,e);switch(r){case"referenceHidden":{const i=await Pl(e,{...s,elementContext:"reference"}),o=qw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Gw(o)}}}case"escaped":{const i=await Pl(e,{...s,altBoundary:!0}),o=qw(i,n.floating);return{data:{escapedOffsets:o,escaped:Gw(o)}}}default:return{}}}}},sT=new Set(["left","top"]);async function eN(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Nr(n),a=sa(n),c=Zn(n)==="y",u=sT.has(o)?-1:1,d=i&&c?-1:1,f=kr(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(p=a==="end"?b*-1:b),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const tN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await eN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},nN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y:v}=E;return{x:w,y:v}}},...c}=kr(t,e),u={x:n,y:r},d=await Pl(e,c),f=Zn(Nr(s)),m=Sg(f);let p=u[m],b=u[f];if(i){const E=m==="y"?"top":"left",w=m==="y"?"bottom":"right",v=p+d[E],T=p-d[w];p=Np(v,p,T)}if(o){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=b+d[E],T=b-d[w];b=Np(v,b,T)}const _=a.fn({...e,[m]:p,[f]:b});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:i,[f]:o}}}}}},rN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=kr(t,e),d={x:n,y:r},f=Zn(s),m=Sg(f);let p=d[m],b=d[f];const _=kr(a,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const T=m==="y"?"height":"width",D=i.reference[m]-i.floating[T]+E.mainAxis,O=i.reference[m]+i.reference[T]-E.mainAxis;p<D?p=D:p>O&&(p=O)}if(u){var w,v;const T=m==="y"?"width":"height",D=sT.has(Nr(s)),O=i.reference[f]-i.floating[T]+(D&&((w=o.offset)==null?void 0:w[f])||0)+(D?0:E.crossAxis),L=i.reference[f]+i.reference[T]+(D?0:((v=o.offset)==null?void 0:v[f])||0)-(D?E.crossAxis:0);b<O?b=O:b>L&&(b=L)}return{[m]:p,[f]:b}}}},sN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=kr(t,e),d=await Pl(e,u),f=Nr(s),m=sa(s),p=Zn(s)==="y",{width:b,height:_}=i.floating;let E,w;f==="top"||f==="bottom"?(E=f,w=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,E=m==="end"?"top":"bottom");const v=_-d.top-d.bottom,T=b-d.left-d.right,D=Ms(_-d[E],v),O=Ms(b-d[w],T),L=!e.middlewareData.shift;let S=D,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(S=v),L&&!m){const N=Yt(d.left,0),x=Yt(d.right,0),P=Yt(d.top,0),R=Yt(d.bottom,0);p?I=b-2*(N!==0||x!==0?N+x:Yt(d.left,d.right)):S=_-2*(P!==0||R!==0?P+R:Yt(d.top,d.bottom))}await c({...e,availableWidth:I,availableHeight:S});const k=await o.getDimensions(a.floating);return b!==k.width||_!==k.height?{reset:{rects:!0}}:{}}}};function Gd(){return typeof window<"u"}function ia(t){return iT(t)?(t.nodeName||"").toLowerCase():"#document"}function en(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dr(t){var e;return(e=(iT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iT(t){return Gd()?t instanceof Node||t instanceof en(t).Node:!1}function On(t){return Gd()?t instanceof Element||t instanceof en(t).Element:!1}function cr(t){return Gd()?t instanceof HTMLElement||t instanceof en(t).HTMLElement:!1}function Kw(t){return!Gd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof en(t).ShadowRoot}const iN=new Set(["inline","contents"]);function tc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iN.has(s)}const oN=new Set(["table","td","th"]);function aN(t){return oN.has(ia(t))}const lN=[":popover-open",":modal"];function Kd(t){return lN.some(e=>{try{return t.matches(e)}catch{return!1}})}const cN=["transform","translate","scale","rotate","perspective"],uN=["transform","translate","scale","rotate","perspective","filter"],dN=["paint","layout","strict","content"];function Cg(t){const e=Pg(),n=On(t)?Mn(t):t;return cN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uN.some(r=>(n.willChange||"").includes(r))||dN.some(r=>(n.contain||"").includes(r))}function hN(t){let e=Ls(t);for(;cr(e)&&!Wo(e);){if(Cg(e))return e;if(Kd(e))return null;e=Ls(e)}return null}function Pg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fN=new Set(["html","body","#document"]);function Wo(t){return fN.has(ia(t))}function Mn(t){return en(t).getComputedStyle(t)}function Qd(t){return On(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ls(t){if(ia(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Kw(t)&&t.host||dr(t);return Kw(e)?e.host:e}function oT(t){const e=Ls(t);return Wo(e)?t.ownerDocument?t.ownerDocument.body:t.body:cr(e)&&tc(e)?e:oT(e)}function Rl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=en(s);if(i){const a=Op(o);return e.concat(o,o.visualViewport||[],tc(s)?s:[],a&&n?Rl(a):[])}return e.concat(s,Rl(s,[],n))}function Op(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aT(t){const e=Mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=cr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=nd(n)!==i||nd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Rg(t){return On(t)?t:t.contextElement}function Eo(t){const e=Rg(t);if(!cr(e))return nr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aT(e);let o=(i?nd(n.width):n.width)/r,a=(i?nd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const pN=nr(0);function lT(t){const e=en(t);return!Pg()||!e.visualViewport?pN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==en(t)?!1:e}function Pi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Rg(t);let o=nr(1);e&&(r?On(r)&&(o=Eo(r)):o=Eo(t));const a=mN(i,n,r)?lT(i):nr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=en(i),p=r&&On(r)?en(r):r;let b=m,_=Op(b);for(;_&&r&&p!==b;){const E=Eo(_),w=_.getBoundingClientRect(),v=Mn(_),T=w.left+(_.clientLeft+parseFloat(v.paddingLeft))*E.x,D=w.top+(_.clientTop+parseFloat(v.paddingTop))*E.y;c*=E.x,u*=E.y,d*=E.x,f*=E.y,c+=T,u+=D,b=en(_),_=Op(b)}}return sd({width:d,height:f,x:c,y:u})}function kg(t,e){const n=Qd(t).scrollLeft;return e?e.left+n:Pi(dr(t)).left+n}function cT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:kg(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function gN(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=dr(r),a=e?Kd(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=nr(1);const d=nr(0),f=cr(r);if((f||!f&&!i)&&((ia(r)!=="body"||tc(o))&&(c=Qd(r)),cr(r))){const p=Pi(r);u=Eo(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=o&&!f&&!i?cT(o,c,!0):nr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function yN(t){return Array.from(t.getClientRects())}function vN(t){const e=dr(t),n=Qd(t),r=t.ownerDocument.body,s=Yt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Yt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+kg(t);const a=-n.scrollTop;return Mn(r).direction==="rtl"&&(o+=Yt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function wN(t,e){const n=en(t),r=dr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Pg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const _N=new Set(["absolute","fixed"]);function EN(t,e){const n=Pi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=cr(t)?Eo(t):nr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function Qw(t,e,n){let r;if(e==="viewport")r=wN(t,n);else if(e==="document")r=vN(dr(t));else if(On(e))r=EN(e,n);else{const s=lT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return sd(r)}function uT(t,e){const n=Ls(t);return n===e||!On(n)||Wo(n)?!1:Mn(n).position==="fixed"||uT(n,e)}function xN(t,e){const n=e.get(t);if(n)return n;let r=Rl(t,[],!1).filter(a=>On(a)&&ia(a)!=="body"),s=null;const i=Mn(t).position==="fixed";let o=i?Ls(t):t;for(;On(o)&&!Wo(o);){const a=Mn(o),c=Cg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&_N.has(s.position)||tc(o)&&!c&&uT(t,o))?r=r.filter(d=>d!==o):s=a,o=Ls(o)}return e.set(t,r),r}function TN(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Kd(e)?[]:xN(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=Qw(e,d,s);return u.top=Yt(f.top,u.top),u.right=Ms(f.right,u.right),u.bottom=Ms(f.bottom,u.bottom),u.left=Yt(f.left,u.left),u},Qw(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function IN(t){const{width:e,height:n}=aT(t);return{width:e,height:n}}function SN(t,e,n){const r=cr(e),s=dr(e),i=n==="fixed",o=Pi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=nr(0);function u(){c.x=kg(s)}if(r||!r&&!i)if((ia(e)!=="body"||tc(s))&&(a=Qd(e)),r){const p=Pi(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?cT(s,a):nr(0),f=o.left+a.scrollLeft-c.x-d.x,m=o.top+a.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function mf(t){return Mn(t).position==="static"}function Yw(t,e){if(!cr(t)||Mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return dr(t)===n&&(n=n.ownerDocument.body),n}function dT(t,e){const n=en(t);if(Kd(t))return n;if(!cr(t)){let s=Ls(t);for(;s&&!Wo(s);){if(On(s)&&!mf(s))return s;s=Ls(s)}return n}let r=Yw(t,e);for(;r&&aN(r)&&mf(r);)r=Yw(r,e);return r&&Wo(r)&&mf(r)&&!Cg(r)?n:r||hN(t)||n}const bN=async function(t){const e=this.getOffsetParent||dT,n=this.getDimensions,r=await n(t.floating);return{reference:SN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function AN(t){return Mn(t).direction==="rtl"}const CN={convertOffsetParentRelativeRectToViewportRelativeRect:gN,getDocumentElement:dr,getClippingRect:TN,getOffsetParent:dT,getElementRects:bN,getClientRects:yN,getDimensions:IN,getScale:Eo,isElement:On,isRTL:AN};function hT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function PN(t,e){let n=null,r;const s=dr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(a||e(),!m||!p)return;const b=Xc(f),_=Xc(s.clientWidth-(d+m)),E=Xc(s.clientHeight-(f+p)),w=Xc(d),T={rootMargin:-b+"px "+-_+"px "+-E+"px "+-w+"px",threshold:Yt(0,Ms(1,c))||1};let D=!0;function O(L){const S=L[0].intersectionRatio;if(S!==c){if(!D)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!hT(u,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),i}function RN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Rg(t),d=s||i?[...u?Rl(u):[],...Rl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&a?PN(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let b,_=c?Pi(t):null;c&&E();function E(){const w=Pi(t);_&&!hT(_,w)&&n(),_=w,b=requestAnimationFrame(E)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const kN=tN,NN=nN,DN=Jk,ON=sN,MN=Zk,Xw=Xk,LN=rN,VN=(t,e,n)=>{const r=new Map,s={platform:CN,...n},i={...s.platform,_c:r};return Yk(t,e,{...s,platform:i})};var jN=typeof document<"u",FN=function(){},_u=jN?C.useLayoutEffect:FN;function id(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!id(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!id(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function fT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Jw(t,e){const n=fT(t);return Math.round(e*n)/n}function gf(t){const e=C.useRef(t);return _u(()=>{e.current=t}),e}function UN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=C.useState(r);id(m,r)||p(r);const[b,_]=C.useState(null),[E,w]=C.useState(null),v=C.useCallback(j=>{j!==L.current&&(L.current=j,_(j))},[]),T=C.useCallback(j=>{j!==S.current&&(S.current=j,w(j))},[]),D=i||b,O=o||E,L=C.useRef(null),S=C.useRef(null),I=C.useRef(d),k=c!=null,N=gf(c),x=gf(s),P=gf(u),R=C.useCallback(()=>{if(!L.current||!S.current)return;const j={placement:e,strategy:n,middleware:m};x.current&&(j.platform=x.current),VN(L.current,S.current,j).then($=>{const G={...$,isPositioned:P.current!==!1};z.current&&!id(I.current,G)&&(I.current=G,Zl.flushSync(()=>{f(G)}))})},[m,e,n,x,P]);_u(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const z=C.useRef(!1);_u(()=>(z.current=!0,()=>{z.current=!1}),[]),_u(()=>{if(D&&(L.current=D),O&&(S.current=O),D&&O){if(N.current)return N.current(D,O,R);R()}},[D,O,R,N,k]);const Y=C.useMemo(()=>({reference:L,floating:S,setReference:v,setFloating:T}),[v,T]),J=C.useMemo(()=>({reference:D,floating:O}),[D,O]),te=C.useMemo(()=>{const j={position:n,left:0,top:0};if(!J.floating)return j;const $=Jw(J.floating,d.x),G=Jw(J.floating,d.y);return a?{...j,transform:"translate("+$+"px, "+G+"px)",...fT(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:G}},[n,a,J.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:R,refs:Y,elements:J,floatingStyles:te}),[d,R,Y,J,te])}const zN=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Xw({element:r.current,padding:s}).fn(n):{}:r?Xw({element:r,padding:s}).fn(n):{}}}},$N=(t,e)=>({...kN(t),options:[t,e]}),BN=(t,e)=>({...NN(t),options:[t,e]}),WN=(t,e)=>({...LN(t),options:[t,e]}),HN=(t,e)=>({...DN(t),options:[t,e]}),qN=(t,e)=>({...ON(t),options:[t,e]}),GN=(t,e)=>({...MN(t),options:[t,e]}),KN=(t,e)=>({...zN(t),options:[t,e]});var QN="Arrow",pT=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return y.jsx(qt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});pT.displayName=QN;var YN=pT;function XN(t){const[e,n]=C.useState(void 0);return Os(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var mT="Popper",[gT,yT]=Bd(mT),[C3,vT]=gT(mT),wT="PopperAnchor",_T=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=vT(wT,n),o=C.useRef(null),a=Dn(e,o);return C.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:y.jsx(qt.div,{...s,ref:a})});_T.displayName=wT;var Ng="PopperContent",[JN,ZN]=gT(Ng),ET=C.forwardRef((t,e)=>{var ye,jn,gn,hr,Fn,fr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:b,..._}=t,E=vT(Ng,n),[w,v]=C.useState(null),T=Dn(e,sn=>v(sn)),[D,O]=C.useState(null),L=XN(D),S=(L==null?void 0:L.width)??0,I=(L==null?void 0:L.height)??0,k=r+(i!=="center"?"-"+i:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},x=Array.isArray(u)?u:[u],P=x.length>0,R={padding:N,boundary:x.filter(t2),altBoundary:P},{refs:z,floatingStyles:Y,placement:J,isPositioned:te,middlewareData:j}=UN({strategy:"fixed",placement:k,whileElementsMounted:(...sn)=>RN(...sn,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[$N({mainAxis:s+I,alignmentAxis:o}),c&&BN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?WN():void 0,...R}),c&&HN({...R}),qN({...R,apply:({elements:sn,rects:Js,availableWidth:pa,availableHeight:Fr})=>{const{width:Zs,height:Ur}=Js.reference,Me=sn.floating.style;Me.setProperty("--radix-popper-available-width",`${pa}px`),Me.setProperty("--radix-popper-available-height",`${Fr}px`),Me.setProperty("--radix-popper-anchor-width",`${Zs}px`),Me.setProperty("--radix-popper-anchor-height",`${Ur}px`)}}),D&&KN({element:D,padding:a}),n2({arrowWidth:S,arrowHeight:I}),m&&GN({strategy:"referenceHidden",...R})]}),[$,G]=IT(J),ie=Ds(b);Os(()=>{te&&(ie==null||ie())},[te,ie]);const Z=(ye=j.arrow)==null?void 0:ye.x,de=(jn=j.arrow)==null?void 0:jn.y,ce=((gn=j.arrow)==null?void 0:gn.centerOffset)!==0,[De,He]=C.useState();return Os(()=>{w&&He(window.getComputedStyle(w).zIndex)},[w]),y.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:te?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(hr=j.transformOrigin)==null?void 0:hr.x,(Fn=j.transformOrigin)==null?void 0:Fn.y].join(" "),...((fr=j.hide)==null?void 0:fr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(JN,{scope:n,placedSide:$,onArrowChange:O,arrowX:Z,arrowY:de,shouldHideArrow:ce,children:y.jsx(qt.div,{"data-side":$,"data-align":G,..._,ref:T,style:{..._.style,animation:te?void 0:"none"}})})})});ET.displayName=Ng;var xT="PopperArrow",e2={top:"bottom",right:"left",bottom:"top",left:"right"},TT=C.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=ZN(xT,r),o=e2[i.placedSide];return y.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:y.jsx(YN,{...s,ref:n,style:{...s.style,display:"block"}})})});TT.displayName=xT;function t2(t){return t!==null}var n2=t=>({name:"transformOrigin",options:t,fn(e){var E,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=IT(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",_="";return u==="bottom"?(b=o?f:`${m}px`,_=`${-c}px`):u==="top"?(b=o?f:`${m}px`,_=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,_=o?f:`${p}px`):u==="left"&&(b=`${r.floating.width+c}px`,_=o?f:`${p}px`),{data:{x:b,y:_}}}});function IT(t){const[e,n="center"]=t.split("-");return[e,n]}var r2=_T,s2=ET,i2=TT,[Yd,P3]=Bd("Tooltip",[yT]),Dg=yT(),ST="TooltipProvider",o2=700,Zw="tooltip.open",[a2,bT]=Yd(ST),AT=t=>{const{__scopeTooltip:e,delayDuration:n=o2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=C.useRef(!0),a=C.useRef(!1),c=C.useRef(0);return C.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),y.jsx(a2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:C.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:C.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};AT.displayName=ST;var CT="Tooltip",[R3,Xd]=Yd(CT),Mp="TooltipTrigger",l2=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Xd(Mp,n),i=bT(Mp,n),o=Dg(n),a=C.useRef(null),c=Dn(e,a,s.onTriggerChange),u=C.useRef(!1),d=C.useRef(!1),f=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),y.jsx(r2,{asChild:!0,...o,children:y.jsx(qt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:tt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:tt(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:tt(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:tt(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:tt(t.onBlur,s.onClose),onClick:tt(t.onClick,s.onClose)})})});l2.displayName=Mp;var c2="TooltipPortal",[k3,u2]=Yd(c2,{forceMount:void 0}),Ho="TooltipContent",PT=C.forwardRef((t,e)=>{const n=u2(Ho,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Xd(Ho,t.__scopeTooltip);return y.jsx(vg,{present:r||o.open,children:o.disableHoverableContent?y.jsx(RT,{side:s,...i,ref:e}):y.jsx(d2,{side:s,...i,ref:e})})}),d2=C.forwardRef((t,e)=>{const n=Xd(Ho,t.__scopeTooltip),r=bT(Ho,t.__scopeTooltip),s=C.useRef(null),i=Dn(e,s),[o,a]=C.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=C.useCallback(()=>{a(null),f(!1)},[f]),p=C.useCallback((b,_)=>{const E=b.currentTarget,w={x:b.clientX,y:b.clientY},v=g2(w,E.getBoundingClientRect()),T=y2(w,v),D=v2(_.getBoundingClientRect()),O=_2([...T,...D]);a(O),f(!0)},[f]);return C.useEffect(()=>()=>m(),[m]),C.useEffect(()=>{if(c&&d){const b=E=>p(E,d),_=E=>p(E,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",_)}}},[c,d,p,m]),C.useEffect(()=>{if(o){const b=_=>{const E=_.target,w={x:_.clientX,y:_.clientY},v=(c==null?void 0:c.contains(E))||(d==null?void 0:d.contains(E)),T=!w2(w,o);v?m():T&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,o,u,m]),y.jsx(RT,{...t,ref:i})}),[h2,f2]=Yd(CT,{isInside:!1}),p2=_P("TooltipContent"),RT=C.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Xd(Ho,n),u=Dg(n),{onClose:d}=c;return C.useEffect(()=>(document.addEventListener(Zw,d),()=>document.removeEventListener(Zw,d)),[d]),C.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),y.jsx(yg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:y.jsxs(s2,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(p2,{children:r}),y.jsx(h2,{scope:n,isInside:!0,children:y.jsx(HP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});PT.displayName=Ho;var kT="TooltipArrow",m2=C.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dg(n);return f2(kT,n).isInside?null:y.jsx(i2,{...s,...r,ref:e})});m2.displayName=kT;function g2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function y2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function v2(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function w2(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(s=!s)}return s}function _2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),E2(e)}function E2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var x2=AT,NT=PT;const T2=x2,I2=C.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(NT,{ref:r,sideOffset:e,className:Vi("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));I2.displayName=NT.displayName;var Jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zd=typeof window>"u"||"Deno"in globalThis;function xn(){}function S2(t,e){return typeof t=="function"?t(e):t}function b2(t){return typeof t=="number"&&t>=0&&t!==1/0}function A2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Lp(t,e){return typeof t=="function"?t(e):t}function C2(t,e){return typeof t=="function"?t(e):t}function e0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Og(o,e.options))return!1}else if(!Nl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function t0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(kl(e.options.mutationKey)!==kl(i))return!1}else if(!Nl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Og(t,e){return((e==null?void 0:e.queryKeyHashFn)||kl)(t)}function kl(t){return JSON.stringify(t,(e,n)=>Vp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Nl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Nl(t[n],e[n])):!1}function DT(t,e){if(t===e)return t;const n=n0(t)&&n0(e);if(n||Vp(t)&&Vp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=DT(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function n0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vp(t){if(!r0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!r0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function r0(t){return Object.prototype.toString.call(t)==="[object Object]"}function P2(t){return new Promise(e=>{setTimeout(e,t)})}function R2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DT(t,e):e}function k2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function N2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Mg=Symbol();function OT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Mg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var pi,as,Co,K_,D2=(K_=class extends Jd{constructor(){super();_e(this,pi);_e(this,as);_e(this,Co);le(this,Co,e=>{if(!Zd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,as)||this.setEventListener(F(this,Co))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,as))==null||e.call(this),le(this,as,void 0))}setEventListener(e){var n;le(this,Co,e),(n=F(this,as))==null||n.call(this),le(this,as,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){F(this,pi)!==e&&(le(this,pi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof F(this,pi)=="boolean"?F(this,pi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},pi=new WeakMap,as=new WeakMap,Co=new WeakMap,K_),MT=new D2,Po,ls,Ro,Q_,O2=(Q_=class extends Jd{constructor(){super();_e(this,Po,!0);_e(this,ls);_e(this,Ro);le(this,Ro,e=>{if(!Zd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,ls)||this.setEventListener(F(this,Ro))}onUnsubscribe(){var e;this.hasListeners()||((e=F(this,ls))==null||e.call(this),le(this,ls,void 0))}setEventListener(e){var n;le(this,Ro,e),(n=F(this,ls))==null||n.call(this),le(this,ls,e(this.setOnline.bind(this)))}setOnline(e){F(this,Po)!==e&&(le(this,Po,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return F(this,Po)}},Po=new WeakMap,ls=new WeakMap,Ro=new WeakMap,Q_),od=new O2;function M2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function L2(t){return Math.min(1e3*2**t,3e4)}function LT(t){return(t??"online")==="online"?od.isOnline():!0}var VT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yf(t){return t instanceof VT}function jT(t){let e=!1,n=0,r=!1,s;const i=M2(),o=_=>{var E;r||(m(new VT(_)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>MT.isFocused()&&(t.networkMode==="always"||od.isOnline())&&t.canRun(),d=()=>LT(t.networkMode)&&t.canRun(),f=_=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,_),s==null||s(),i.resolve(_))},m=_=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,_),s==null||s(),i.reject(_))},p=()=>new Promise(_=>{var E;s=w=>{(r||u())&&_(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),b=()=>{if(r)return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(f).catch(w=>{var L;if(r)return;const v=t.retry??(Zd?0:3),T=t.retryDelay??L2,D=typeof T=="function"?T(n,w):T,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!O){m(w);return}n++,(L=t.onFail)==null||L.call(t,n,w),P2(D).then(()=>u()?void 0:p()).then(()=>{e?m(w):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?b():p().then(b),i)}}var V2=t=>setTimeout(t,0);function j2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=V2;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var kt=j2(),mi,Y_,FT=(Y_=class{constructor(){_e(this,mi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),b2(this.gcTime)&&le(this,mi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zd?1/0:5*60*1e3))}clearGcTimeout(){F(this,mi)&&(clearTimeout(F(this,mi)),le(this,mi,void 0))}},mi=new WeakMap,Y_),ko,gi,an,yi,xt,ql,vi,Tn,yr,X_,F2=(X_=class extends FT{constructor(n){super();_e(this,Tn);_e(this,ko);_e(this,gi);_e(this,an);_e(this,yi);_e(this,xt);_e(this,ql);_e(this,vi);le(this,vi,!1),le(this,ql,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,yi,n.client),le(this,an,F(this,yi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,ko,z2(this.options)),this.state=n.state??F(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=F(this,xt))==null?void 0:n.promise}setOptions(n){this.options={...F(this,ql),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,an).remove(this)}setData(n,r){const s=R2(this.state.data,n,this.options);return vt(this,Tn,yr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){vt(this,Tn,yr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=F(this,xt))==null?void 0:s.promise;return(i=F(this,xt))==null||i.cancel(n),r?r.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,ko))}isActive(){return this.observers.some(n=>C2(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Lp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!A2(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=F(this,xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),F(this,an).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(F(this,xt)&&(F(this,vi)?F(this,xt).cancel({revert:!0}):F(this,xt).cancelRetry()),this.scheduleGc()),F(this,an).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,Tn,yr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,xt))return F(this,xt).continueRetry(),F(this,xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const p=this.observers.find(b=>b.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(le(this,vi,!0),s.signal)})},o=()=>{const p=OT(this.options,r),_=(()=>{const E={client:F(this,yi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return le(this,vi,!1),this.options.persister?this.options.persister(p,_,this):p(_)},c=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,yi),state:this.state,fetchFn:o};return i(p),p})();(d=this.options.behavior)==null||d.onFetch(c,this),le(this,gi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&vt(this,Tn,yr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const u=p=>{var b,_,E,w;yf(p)&&p.silent||vt(this,Tn,yr).call(this,{type:"error",error:p}),yf(p)||((_=(b=F(this,an).config).onError)==null||_.call(b,p,this),(w=(E=F(this,an).config).onSettled)==null||w.call(E,this.state.data,p,this)),this.scheduleGc()};return le(this,xt,jT({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var b,_,E,w;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){u(v);return}(_=(b=F(this,an).config).onSuccess)==null||_.call(b,p,this),(w=(E=F(this,an).config).onSettled)==null||w.call(E,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,b)=>{vt(this,Tn,yr).call(this,{type:"failed",failureCount:p,error:b})},onPause:()=>{vt(this,Tn,yr).call(this,{type:"pause"})},onContinue:()=>{vt(this,Tn,yr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),F(this,xt).start()}},ko=new WeakMap,gi=new WeakMap,an=new WeakMap,yi=new WeakMap,xt=new WeakMap,ql=new WeakMap,vi=new WeakMap,Tn=new WeakSet,yr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...U2(s.data,this.options),fetchMeta:n.meta??null};case"success":return le(this,gi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return yf(i)&&i.revert&&F(this,gi)?{...F(this,gi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),F(this,an).notify({query:this,type:"updated",action:n})})},X_);function U2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function z2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qn,J_,$2=(J_=class extends Jd{constructor(e={}){super();_e(this,Qn);this.config=e,le(this,Qn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Og(s,n);let o=this.get(i);return o||(o=new F2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){F(this,Qn).has(e.queryHash)||(F(this,Qn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=F(this,Qn).get(e.queryHash);n&&(e.destroy(),n===e&&F(this,Qn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return F(this,Qn).get(e)}getAll(){return[...F(this,Qn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>e0(e,r)):n}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qn=new WeakMap,J_),Yn,Pt,wi,Xn,Jr,Z_,B2=(Z_=class extends FT{constructor(n){super();_e(this,Xn);_e(this,Yn);_e(this,Pt);_e(this,wi);this.mutationId=n.mutationId,le(this,Pt,n.mutationCache),le(this,Yn,[]),this.state=n.state||W2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){F(this,Yn).includes(n)||(F(this,Yn).push(n),this.clearGcTimeout(),F(this,Pt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,Yn,F(this,Yn).filter(r=>r!==n)),this.scheduleGc(),F(this,Pt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){F(this,Yn).length||(this.state.status==="pending"?this.scheduleGc():F(this,Pt).remove(this))}continue(){var n;return((n=F(this,wi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,d,f,m,p,b,_,E,w,v,T,D,O,L,S,I,k;const r=()=>{vt(this,Xn,Jr).call(this,{type:"continue"})};le(this,wi,jT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,x)=>{vt(this,Xn,Jr).call(this,{type:"failed",failureCount:N,error:x})},onPause:()=>{vt(this,Xn,Jr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Pt).canRun(this)}));const s=this.state.status==="pending",i=!F(this,wi).canStart();try{if(s)r();else{vt(this,Xn,Jr).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=F(this,Pt).config).onMutate)==null?void 0:a.call(o,n,this));const x=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));x!==this.state.context&&vt(this,Xn,Jr).call(this,{type:"pending",context:x,variables:n,isPaused:i})}const N=await F(this,wi).start();return await((f=(d=F(this,Pt).config).onSuccess)==null?void 0:f.call(d,N,n,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,N,n,this.state.context)),await((_=(b=F(this,Pt).config).onSettled)==null?void 0:_.call(b,N,null,this.state.variables,this.state.context,this)),await((w=(E=this.options).onSettled)==null?void 0:w.call(E,N,null,n,this.state.context)),vt(this,Xn,Jr).call(this,{type:"success",data:N}),N}catch(N){try{throw await((T=(v=F(this,Pt).config).onError)==null?void 0:T.call(v,N,n,this.state.context,this)),await((O=(D=this.options).onError)==null?void 0:O.call(D,N,n,this.state.context)),await((S=(L=F(this,Pt).config).onSettled)==null?void 0:S.call(L,void 0,N,this.state.variables,this.state.context,this)),await((k=(I=this.options).onSettled)==null?void 0:k.call(I,void 0,N,n,this.state.context)),N}finally{vt(this,Xn,Jr).call(this,{type:"error",error:N})}}finally{F(this,Pt).runNext(this)}}},Yn=new WeakMap,Pt=new WeakMap,wi=new WeakMap,Xn=new WeakSet,Jr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{F(this,Yn).forEach(s=>{s.onMutationUpdate(n)}),F(this,Pt).notify({mutation:this,type:"updated",action:n})})},Z_);function W2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _r,In,Gl,eE,H2=(eE=class extends Jd{constructor(e={}){super();_e(this,_r);_e(this,In);_e(this,Gl);this.config=e,le(this,_r,new Set),le(this,In,new Map),le(this,Gl,0)}build(e,n,r){const s=new B2({mutationCache:this,mutationId:++Pc(this,Gl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){F(this,_r).add(e);const n=Jc(e);if(typeof n=="string"){const r=F(this,In).get(n);r?r.push(e):F(this,In).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(F(this,_r).delete(e)){const n=Jc(e);if(typeof n=="string"){const r=F(this,In).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&F(this,In).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Jc(e);if(typeof n=="string"){const r=F(this,In).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Jc(e);if(typeof n=="string"){const s=(r=F(this,In).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{F(this,_r).forEach(e=>{this.notify({type:"removed",mutation:e})}),F(this,_r).clear(),F(this,In).clear()})}getAll(){return Array.from(F(this,_r))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t0(n,r))}findAll(e={}){return this.getAll().filter(n=>t0(e,n))}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(xn))))}},_r=new WeakMap,In=new WeakMap,Gl=new WeakMap,eE);function Jc(t){var e;return(e=t.options.scope)==null?void 0:e.id}function s0(t){return{onFetch:(e,n)=>{var d,f,m,p,b;const r=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let _=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=OT(e.options,e.fetchOptions),v=async(T,D,O)=>{if(_)return Promise.reject();if(D==null&&T.pages.length)return Promise.resolve(T);const S=(()=>{const x={client:e.client,queryKey:e.queryKey,pageParam:D,direction:O?"backward":"forward",meta:e.options.meta};return E(x),x})(),I=await w(S),{maxPages:k}=e.options,N=O?N2:k2;return{pages:N(T.pages,I,k),pageParams:N(T.pageParams,D,k)}};if(s&&i.length){const T=s==="backward",D=T?q2:i0,O={pages:i,pageParams:o},L=D(r,O);a=await v(O,L,T)}else{const T=t??i.length;do{const D=c===0?o[0]??r.initialPageParam:i0(r,a);if(c>0&&D==null)break;a=await v(a,D),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function i0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function q2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ze,cs,us,No,Do,ds,Oo,Mo,tE,G2=(tE=class{constructor(t={}){_e(this,ze);_e(this,cs);_e(this,us);_e(this,No);_e(this,Do);_e(this,ds);_e(this,Oo);_e(this,Mo);le(this,ze,t.queryCache||new $2),le(this,cs,t.mutationCache||new H2),le(this,us,t.defaultOptions||{}),le(this,No,new Map),le(this,Do,new Map),le(this,ds,0)}mount(){Pc(this,ds)._++,F(this,ds)===1&&(le(this,Oo,MT.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,ze).onFocus())})),le(this,Mo,od.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,ze).onOnline())})))}unmount(){var t,e;Pc(this,ds)._--,F(this,ds)===0&&((t=F(this,Oo))==null||t.call(this),le(this,Oo,void 0),(e=F(this,Mo))==null||e.call(this),le(this,Mo,void 0))}isFetching(t){return F(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,cs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=F(this,ze).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Lp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return F(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=F(this,ze).get(r.queryHash),i=s==null?void 0:s.state.data,o=S2(e,i);if(o!==void 0)return F(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return kt.batch(()=>F(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=F(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=F(this,ze);kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=F(this,ze);return kt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=kt.batch(()=>F(this,ze).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xn).catch(xn)}invalidateQueries(t,e={}){return kt.batch(()=>(F(this,ze).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=kt.batch(()=>F(this,ze).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=F(this,ze).build(this,e);return n.isStaleByTime(Lp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xn).catch(xn)}fetchInfiniteQuery(t){return t.behavior=s0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xn).catch(xn)}ensureInfiniteQueryData(t){return t.behavior=s0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return od.isOnline()?F(this,cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,ze)}getMutationCache(){return F(this,cs)}getDefaultOptions(){return F(this,us)}setDefaultOptions(t){le(this,us,t)}setQueryDefaults(t,e){F(this,No).set(kl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...F(this,No).values()],n={};return e.forEach(r=>{Nl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){F(this,Do).set(kl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...F(this,Do).values()],n={};return e.forEach(r=>{Nl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...F(this,us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Og(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Mg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,ze).clear(),F(this,cs).clear()}},ze=new WeakMap,cs=new WeakMap,us=new WeakMap,No=new WeakMap,Do=new WeakMap,ds=new WeakMap,Oo=new WeakMap,Mo=new WeakMap,tE),K2=C.createContext(void 0),Q2=({client:t,children:e})=>(C.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(K2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(this,arguments)}var ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ps||(ps={}));const o0="popstate";function Y2(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:c=""}=ji(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),jp("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof i=="string"?i:ad(i))}function r(s,i){Lg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return J2(e,n,r,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function X2(){return Math.random().toString(36).substr(2,8)}function a0(t,e){return{usr:t.state,key:t.key,idx:e}}function jp(t,e,n,r){return n===void 0&&(n=null),Dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ji(e):e,{state:n,key:e&&e.key||r||X2()})}function ad(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ji(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function J2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ps.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Dl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ps.Pop;let E=d(),w=E==null?null:E-u;u=E,c&&c({action:a,location:_.location,delta:w})}function m(E,w){a=ps.Push;let v=jp(_.location,E,w);n&&n(v,E),u=d()+1;let T=a0(v,u),D=_.createHref(v);try{o.pushState(T,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(D)}i&&c&&c({action:a,location:_.location,delta:1})}function p(E,w){a=ps.Replace;let v=jp(_.location,E,w);n&&n(v,E),u=d();let T=a0(v,u),D=_.createHref(v);o.replaceState(T,"",D),i&&c&&c({action:a,location:_.location,delta:0})}function b(E){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:ad(E);return v=v.replace(/ $/,"%20"),Xe(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let _={get action(){return a},get location(){return t(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(o0,f),c=E,()=>{s.removeEventListener(o0,f),c=null}},createHref(E){return e(s,E)},createURL:b,encodeLocation(E){let w=b(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(E){return o.go(E)}};return _}var l0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(l0||(l0={}));function Z2(t,e,n){return n===void 0&&(n="/"),eD(t,e,n,!1)}function eD(t,e,n,r){let s=typeof e=="string"?ji(e):e,i=Vg(s.pathname||"/",n);if(i==null)return null;let o=UT(t);tD(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=hD(i);a=uD(o[c],u,r)}return a}function UT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Is([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UT(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:lD(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of zT(i.path))s(i,o,c)}),e}function zT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function tD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nD=/^:[\w-]+$/,rD=3,sD=2,iD=1,oD=10,aD=-2,c0=t=>t==="*";function lD(t,e){let n=t.split("/"),r=n.length;return n.some(c0)&&(r+=aD),e&&(r+=sD),n.filter(s=>!c0(s)).reduce((s,i)=>s+(nD.test(i)?rD:i===""?iD:oD),r)}function cD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function uD(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=u0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=u0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Is([i,f.pathname]),pathnameBase:gD(Is([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Is([i,f.pathnameBase]))}return o}function u0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const b=a[f];return p&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function dD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function hD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ji(t):t;return{pathname:n?n.startsWith("/")?n:pD(n,e):e,search:yD(r),hash:vD(s)}}function pD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $T(t,e){let n=mD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BT(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ji(t):(s=Dl({},t),Xe(!s.pathname||!s.pathname.includes("?"),vf("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),vf("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),vf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=fD(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Is=t=>t.join("/").replace(/\/\/+/g,"/"),gD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WT=["post","put","patch","delete"];new Set(WT);const _D=["get",...WT];new Set(_D);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}const jg=C.createContext(null),ED=C.createContext(null),Fi=C.createContext(null),eh=C.createContext(null),Gs=C.createContext({outlet:null,matches:[],isDataRoute:!1}),HT=C.createContext(null);function xD(t,e){let{relative:n}=e===void 0?{}:e;nc()||Xe(!1);let{basename:r,navigator:s}=C.useContext(Fi),{hash:i,pathname:o,search:a}=KT(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Is([r,o])),s.createHref({pathname:c,search:a,hash:i})}function nc(){return C.useContext(eh)!=null}function rc(){return nc()||Xe(!1),C.useContext(eh).location}function qT(t){C.useContext(Fi).static||C.useLayoutEffect(t)}function Fg(){let{isDataRoute:t}=C.useContext(Gs);return t?VD():TD()}function TD(){nc()||Xe(!1);let t=C.useContext(jg),{basename:e,future:n,navigator:r}=C.useContext(Fi),{matches:s}=C.useContext(Gs),{pathname:i}=rc(),o=JSON.stringify($T(s,n.v7_relativeSplatPath)),a=C.useRef(!1);return qT(()=>{a.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=BT(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Is([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}const GT=C.createContext(null);function ID(){return C.useContext(GT)}function SD(t){let e=C.useContext(Gs).outlet;return e&&C.createElement(GT.Provider,{value:t},e)}function KT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(Fi),{matches:s}=C.useContext(Gs),{pathname:i}=rc(),o=JSON.stringify($T(s,r.v7_relativeSplatPath));return C.useMemo(()=>BT(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function bD(t,e){return AD(t,e)}function AD(t,e,n,r){nc()||Xe(!1);let{navigator:s}=C.useContext(Fi),{matches:i}=C.useContext(Gs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=rc(),d;if(e){var f;let E=typeof e=="string"?ji(e):e;c==="/"||(f=E.pathname)!=null&&f.startsWith(c)||Xe(!1),d=E}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let E=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=Z2(t,{pathname:p}),_=ND(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Is([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Is([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&_?C.createElement(eh.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ps.Pop}},_):_}function CD(){let t=LD(),e=wD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const PD=C.createElement(CD,null);class RD extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Gs.Provider,{value:this.props.routeContext},C.createElement(HT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kD(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(jg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Gs.Provider,{value:e},r)}function ND(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,b=!1,_=null,E=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||PD,c&&(u<0&&m===0?(b=!0,E=null):u===m&&(b=!0,E=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,m+1)),v=()=>{let T;return p?T=_:b?T=E:f.route.Component?T=C.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,C.createElement(kD,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?C.createElement(RD,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var QT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QT||{}),ld=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ld||{});function DD(t){let e=C.useContext(jg);return e||Xe(!1),e}function OD(t){let e=C.useContext(ED);return e||Xe(!1),e}function MD(t){let e=C.useContext(Gs);return e||Xe(!1),e}function YT(t){let e=MD(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function LD(){var t;let e=C.useContext(HT),n=OD(ld.UseRouteError),r=YT(ld.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VD(){let{router:t}=DD(QT.UseNavigateStable),e=YT(ld.UseNavigateStable),n=C.useRef(!1);return qT(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ol({fromRouteId:e},i)))},[t,e])}function jD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function FD(t){return SD(t.context)}function li(t){Xe(!1)}function UD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ps.Pop,navigator:i,static:o=!1,future:a}=t;nc()&&Xe(!1);let c=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:i,static:o,future:Ol({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=ji(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:b="default"}=r,_=C.useMemo(()=>{let E=Vg(d,c);return E==null?null:{location:{pathname:E,search:f,hash:m,state:p,key:b},navigationType:s}},[c,d,f,m,p,b,s]);return _==null?null:C.createElement(Fi.Provider,{value:u},C.createElement(eh.Provider,{children:n,value:_}))}function zD(t){let{children:e,location:n}=t;return bD(Fp(e),n)}new Promise(()=>{});function Fp(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,Fp(r.props.children,i));return}r.type!==li&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(this,arguments)}function $D(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WD(t,e){return t.button===0&&(!e||e==="_self")&&!BD(t)}const HD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qD="6";try{window.__reactRouterVersion=qD}catch{}const GD="startTransition",d0=fE[GD];function KD(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=Y2({window:s,v5Compat:!0}));let o=i.current,[a,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=C.useCallback(f=>{u&&d0?d0(()=>c(f)):c(f)},[c,u]);return C.useLayoutEffect(()=>o.listen(d),[o,d]),C.useEffect(()=>jD(r),[r]),C.createElement(UD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const QD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zp=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=$D(e,HD),{basename:p}=C.useContext(Fi),b,_=!1;if(typeof u=="string"&&YD.test(u)&&(b=u,QD))try{let T=new URL(window.location.href),D=u.startsWith("//")?new URL(T.protocol+u):new URL(u),O=Vg(D.pathname,p);D.origin===T.origin&&O!=null?u=O+D.search+D.hash:_=!0}catch{}let E=xD(u,{relative:s}),w=XD(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(T){r&&r(T),T.defaultPrevented||w(T)}return C.createElement("a",Up({},m,{href:b||E,onClick:_||i?r:v,ref:n,target:c}))});var h0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h0||(h0={}));var f0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(f0||(f0={}));function XD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Fg(),u=rc(),d=KT(t,{relative:o});return C.useCallback(f=>{if(WD(f,n)){f.preventDefault();let m=r!==void 0?r:ad(u)===ad(d);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,t,i,o,a])}const JD=()=>{};var p0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ZD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(m=64)),r.push(n[d],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new eO;const m=i<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tO=function(t){const e=XT(t);return JT.encodeByteArray(e,!0)},cd=function(t){return tO(t).replace(/\./g,"")},ZT=function(t){try{return JT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=()=>nO().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof p0>"u")return;const t=p0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZT(t[1]);return e&&JSON.parse(e)},th=()=>{try{return JD()||rO()||sO()||iO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eI=t=>{var e,n;return(n=(e=th())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},oO=t=>{const e=eI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tI=()=>{var t;return(t=th())==null?void 0:t.config},nI=t=>{var e;return(e=th())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cd(JSON.stringify(n)),cd(JSON.stringify(o)),""].join(".")}const ol={};function cO(){const t={prod:[],emulator:[]};for(const e of Object.keys(ol))ol[e]?t.emulator.push(e):t.prod.push(e);return t}function uO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let m0=!1;function sI(t,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||ol[t]===e||ol[t]||m0)return;ol[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=cO().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{m0=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=uO(r),p=n("text"),b=document.getElementById(p)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),d(E,_);const D=u();c(v,w),T.append(v,b,E,D),document.body.appendChild(T)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function hO(){var e;const t=(e=th())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yO(){return!hO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vO(){try{return typeof indexedDB=="object"}catch{return!1}}function wO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="FirebaseError";class jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_O,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sc.prototype.create)}}class sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?EO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new jr(s,a,r)}}function EO(t,e){return t.replace(xO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xO=/\{\$([^}]+)}/g;function TO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(g0(i)&&g0(o)){if(!Ri(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function g0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ba(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Wa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IO(t,e){const n=new SO(t,e);return n.subscribe.bind(n)}class SO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wf),s.error===void 0&&(s.error=wf),s.complete===void 0&&(s.complete=wf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PO(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CO(t){return t===ci?void 0:t}function PO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const kO={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},NO=pe.INFO,DO={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},OO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=NO,this._logHandler=OO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const MO=(t,e)=>e.some(n=>t instanceof n);let y0,v0;function LO(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iI=new WeakMap,$p=new WeakMap,oI=new WeakMap,_f=new WeakMap,zg=new WeakMap;function jO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ss(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iI.set(n,t)}).catch(()=>{}),zg.set(e,t),e}function FO(t){if($p.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$p.set(t,e)}let Bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UO(t){Bp=t(Bp)}function zO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ef(this),e,...n);return oI.set(r,e.sort?e.sort():[e]),Ss(r)}:VO().includes(t)?function(...e){return t.apply(Ef(this),e),Ss(iI.get(this))}:function(...e){return Ss(t.apply(Ef(this),e))}}function $O(t){return typeof t=="function"?zO(t):(t instanceof IDBTransaction&&FO(t),MO(t,LO())?new Proxy(t,Bp):t)}function Ss(t){if(t instanceof IDBRequest)return jO(t);if(_f.has(t))return _f.get(t);const e=$O(t);return e!==t&&(_f.set(t,e),zg.set(e,t)),e}const Ef=t=>zg.get(t);function BO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ss(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ss(o.result),c.oldVersion,c.newVersion,Ss(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const WO=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],xf=new Map;function w0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=HO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return xf.set(e,i),i}UO(t=>({...t,get:(e,n,r)=>w0(e,n)||t.get(e,n,r),has:(e,n)=>!!w0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wp="@firebase/app",_0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Ug("@firebase/app"),KO="@firebase/app-compat",QO="@firebase/analytics-compat",YO="@firebase/analytics",XO="@firebase/app-check-compat",JO="@firebase/app-check",ZO="@firebase/auth",eM="@firebase/auth-compat",tM="@firebase/database",nM="@firebase/data-connect",rM="@firebase/database-compat",sM="@firebase/functions",iM="@firebase/functions-compat",oM="@firebase/installations",aM="@firebase/installations-compat",lM="@firebase/messaging",cM="@firebase/messaging-compat",uM="@firebase/performance",dM="@firebase/performance-compat",hM="@firebase/remote-config",fM="@firebase/remote-config-compat",pM="@firebase/storage",mM="@firebase/storage-compat",gM="@firebase/firestore",yM="@firebase/ai",vM="@firebase/firestore-compat",wM="firebase",_M="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",EM={[Wp]:"fire-core",[KO]:"fire-core-compat",[YO]:"fire-analytics",[QO]:"fire-analytics-compat",[JO]:"fire-app-check",[XO]:"fire-app-check-compat",[ZO]:"fire-auth",[eM]:"fire-auth-compat",[tM]:"fire-rtdb",[nM]:"fire-data-connect",[rM]:"fire-rtdb-compat",[sM]:"fire-fn",[iM]:"fire-fn-compat",[oM]:"fire-iid",[aM]:"fire-iid-compat",[lM]:"fire-fcm",[cM]:"fire-fcm-compat",[uM]:"fire-perf",[dM]:"fire-perf-compat",[hM]:"fire-rc",[fM]:"fire-rc-compat",[pM]:"fire-gcs",[mM]:"fire-gcs-compat",[gM]:"fire-fst",[vM]:"fire-fst-compat",[yM]:"fire-vertex","fire-js":"fire-js",[wM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,xM=new Map,qp=new Map;function E0(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(qp.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,t);for(const n of ud.values())E0(n,t);for(const n of xM.values())E0(n,t);return!0}function $g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new sc("app","Firebase",TM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=_M;function aI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Hp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw bs.create("bad-app-name",{appName:String(s)});if(n||(n=tI()),!n)throw bs.create("no-options");const i=ud.get(s);if(i){if(Ri(n,i.options)&&Ri(r,i.config))return i;throw bs.create("duplicate-app",{appName:s})}const o=new RO(s);for(const c of qp.values())o.addComponent(c);const a=new IM(n,r,o);return ud.set(s,a),a}function lI(t=Hp){const e=ud.get(t);if(!e&&t===Hp&&tI())return aI();if(!e)throw bs.create("no-app",{appName:t});return e}function As(t,e,n){let r=EM[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(o.join(" "));return}qo(new ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="firebase-heartbeat-database",bM=1,Ml="firebase-heartbeat-store";let Tf=null;function cI(){return Tf||(Tf=BO(SM,bM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),Tf}async function AM(t){try{const n=(await cI()).transaction(Ml),r=await n.objectStore(Ml).get(uI(t));return await n.done,r}catch(e){if(e instanceof jr)Dr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function x0(t,e){try{const r=(await cI()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,uI(t)),await r.done}catch(n){if(n instanceof jr)Dr.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function uI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=1024,PM=30;class RM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=T0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>PM){const o=DM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T0(),{heartbeatsToSend:r,unsentEntries:s}=kM(this._heartbeatsCache.heartbeats),i=cd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Dr.warn(n),""}}}function T0(){return new Date().toISOString().substring(0,10)}function kM(t,e=CM){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),I0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),I0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vO()?wO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AM(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I0(t){return cd(JSON.stringify({version:2,heartbeats:t})).length}function DM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){qo(new ki("platform-logger",e=>new qO(e),"PRIVATE")),qo(new ki("heartbeat",e=>new RM(e),"PRIVATE")),As(Wp,_0,t),As(Wp,_0,"esm2020"),As("fire-js","")}OM("");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,dI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function k(){}k.prototype=I.prototype,S.F=I.prototype,S.prototype=new k,S.prototype.constructor=S,S.D=function(N,x,P){for(var R=Array(arguments.length-2),z=2;z<arguments.length;z++)R[z-2]=arguments[z];return I.prototype[x].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,I,k){k||(k=0);const N=Array(16);if(typeof I=="string")for(var x=0;x<16;++x)N[x]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(x=0;x<16;++x)N[x]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=S.g[0],k=S.g[1],x=S.g[2];let P=S.g[3],R;R=I+(P^k&(x^P))+N[0]+3614090360&4294967295,I=k+(R<<7&4294967295|R>>>25),R=P+(x^I&(k^x))+N[1]+3905402710&4294967295,P=I+(R<<12&4294967295|R>>>20),R=x+(k^P&(I^k))+N[2]+606105819&4294967295,x=P+(R<<17&4294967295|R>>>15),R=k+(I^x&(P^I))+N[3]+3250441966&4294967295,k=x+(R<<22&4294967295|R>>>10),R=I+(P^k&(x^P))+N[4]+4118548399&4294967295,I=k+(R<<7&4294967295|R>>>25),R=P+(x^I&(k^x))+N[5]+1200080426&4294967295,P=I+(R<<12&4294967295|R>>>20),R=x+(k^P&(I^k))+N[6]+2821735955&4294967295,x=P+(R<<17&4294967295|R>>>15),R=k+(I^x&(P^I))+N[7]+4249261313&4294967295,k=x+(R<<22&4294967295|R>>>10),R=I+(P^k&(x^P))+N[8]+1770035416&4294967295,I=k+(R<<7&4294967295|R>>>25),R=P+(x^I&(k^x))+N[9]+2336552879&4294967295,P=I+(R<<12&4294967295|R>>>20),R=x+(k^P&(I^k))+N[10]+4294925233&4294967295,x=P+(R<<17&4294967295|R>>>15),R=k+(I^x&(P^I))+N[11]+2304563134&4294967295,k=x+(R<<22&4294967295|R>>>10),R=I+(P^k&(x^P))+N[12]+1804603682&4294967295,I=k+(R<<7&4294967295|R>>>25),R=P+(x^I&(k^x))+N[13]+4254626195&4294967295,P=I+(R<<12&4294967295|R>>>20),R=x+(k^P&(I^k))+N[14]+2792965006&4294967295,x=P+(R<<17&4294967295|R>>>15),R=k+(I^x&(P^I))+N[15]+1236535329&4294967295,k=x+(R<<22&4294967295|R>>>10),R=I+(x^P&(k^x))+N[1]+4129170786&4294967295,I=k+(R<<5&4294967295|R>>>27),R=P+(k^x&(I^k))+N[6]+3225465664&4294967295,P=I+(R<<9&4294967295|R>>>23),R=x+(I^k&(P^I))+N[11]+643717713&4294967295,x=P+(R<<14&4294967295|R>>>18),R=k+(P^I&(x^P))+N[0]+3921069994&4294967295,k=x+(R<<20&4294967295|R>>>12),R=I+(x^P&(k^x))+N[5]+3593408605&4294967295,I=k+(R<<5&4294967295|R>>>27),R=P+(k^x&(I^k))+N[10]+38016083&4294967295,P=I+(R<<9&4294967295|R>>>23),R=x+(I^k&(P^I))+N[15]+3634488961&4294967295,x=P+(R<<14&4294967295|R>>>18),R=k+(P^I&(x^P))+N[4]+3889429448&4294967295,k=x+(R<<20&4294967295|R>>>12),R=I+(x^P&(k^x))+N[9]+568446438&4294967295,I=k+(R<<5&4294967295|R>>>27),R=P+(k^x&(I^k))+N[14]+3275163606&4294967295,P=I+(R<<9&4294967295|R>>>23),R=x+(I^k&(P^I))+N[3]+4107603335&4294967295,x=P+(R<<14&4294967295|R>>>18),R=k+(P^I&(x^P))+N[8]+1163531501&4294967295,k=x+(R<<20&4294967295|R>>>12),R=I+(x^P&(k^x))+N[13]+2850285829&4294967295,I=k+(R<<5&4294967295|R>>>27),R=P+(k^x&(I^k))+N[2]+4243563512&4294967295,P=I+(R<<9&4294967295|R>>>23),R=x+(I^k&(P^I))+N[7]+1735328473&4294967295,x=P+(R<<14&4294967295|R>>>18),R=k+(P^I&(x^P))+N[12]+2368359562&4294967295,k=x+(R<<20&4294967295|R>>>12),R=I+(k^x^P)+N[5]+4294588738&4294967295,I=k+(R<<4&4294967295|R>>>28),R=P+(I^k^x)+N[8]+2272392833&4294967295,P=I+(R<<11&4294967295|R>>>21),R=x+(P^I^k)+N[11]+1839030562&4294967295,x=P+(R<<16&4294967295|R>>>16),R=k+(x^P^I)+N[14]+4259657740&4294967295,k=x+(R<<23&4294967295|R>>>9),R=I+(k^x^P)+N[1]+2763975236&4294967295,I=k+(R<<4&4294967295|R>>>28),R=P+(I^k^x)+N[4]+1272893353&4294967295,P=I+(R<<11&4294967295|R>>>21),R=x+(P^I^k)+N[7]+4139469664&4294967295,x=P+(R<<16&4294967295|R>>>16),R=k+(x^P^I)+N[10]+3200236656&4294967295,k=x+(R<<23&4294967295|R>>>9),R=I+(k^x^P)+N[13]+681279174&4294967295,I=k+(R<<4&4294967295|R>>>28),R=P+(I^k^x)+N[0]+3936430074&4294967295,P=I+(R<<11&4294967295|R>>>21),R=x+(P^I^k)+N[3]+3572445317&4294967295,x=P+(R<<16&4294967295|R>>>16),R=k+(x^P^I)+N[6]+76029189&4294967295,k=x+(R<<23&4294967295|R>>>9),R=I+(k^x^P)+N[9]+3654602809&4294967295,I=k+(R<<4&4294967295|R>>>28),R=P+(I^k^x)+N[12]+3873151461&4294967295,P=I+(R<<11&4294967295|R>>>21),R=x+(P^I^k)+N[15]+530742520&4294967295,x=P+(R<<16&4294967295|R>>>16),R=k+(x^P^I)+N[2]+3299628645&4294967295,k=x+(R<<23&4294967295|R>>>9),R=I+(x^(k|~P))+N[0]+4096336452&4294967295,I=k+(R<<6&4294967295|R>>>26),R=P+(k^(I|~x))+N[7]+1126891415&4294967295,P=I+(R<<10&4294967295|R>>>22),R=x+(I^(P|~k))+N[14]+2878612391&4294967295,x=P+(R<<15&4294967295|R>>>17),R=k+(P^(x|~I))+N[5]+4237533241&4294967295,k=x+(R<<21&4294967295|R>>>11),R=I+(x^(k|~P))+N[12]+1700485571&4294967295,I=k+(R<<6&4294967295|R>>>26),R=P+(k^(I|~x))+N[3]+2399980690&4294967295,P=I+(R<<10&4294967295|R>>>22),R=x+(I^(P|~k))+N[10]+4293915773&4294967295,x=P+(R<<15&4294967295|R>>>17),R=k+(P^(x|~I))+N[1]+2240044497&4294967295,k=x+(R<<21&4294967295|R>>>11),R=I+(x^(k|~P))+N[8]+1873313359&4294967295,I=k+(R<<6&4294967295|R>>>26),R=P+(k^(I|~x))+N[15]+4264355552&4294967295,P=I+(R<<10&4294967295|R>>>22),R=x+(I^(P|~k))+N[6]+2734768916&4294967295,x=P+(R<<15&4294967295|R>>>17),R=k+(P^(x|~I))+N[13]+1309151649&4294967295,k=x+(R<<21&4294967295|R>>>11),R=I+(x^(k|~P))+N[4]+4149444226&4294967295,I=k+(R<<6&4294967295|R>>>26),R=P+(k^(I|~x))+N[11]+3174756917&4294967295,P=I+(R<<10&4294967295|R>>>22),R=x+(I^(P|~k))+N[2]+718787259&4294967295,x=P+(R<<15&4294967295|R>>>17),R=k+(P^(x|~I))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.v=function(S,I){I===void 0&&(I=S.length);const k=I-this.blockSize,N=this.C;let x=this.h,P=0;for(;P<I;){if(x==0)for(;P<=k;)s(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<I;)if(N[x++]=S.charCodeAt(P++),x==this.blockSize){s(this,N),x=0;break}}else for(;P<I;)if(N[x++]=S[P++],x==this.blockSize){s(this,N),x=0;break}}this.h=x,this.o+=I},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;I=this.o*8;for(var k=S.length-8;k<S.length;++k)S[k]=I&255,I/=256;for(this.v(S),S=Array(16),I=0,k=0;k<4;++k)for(let N=0;N<32;N+=8)S[I++]=this.g[k]>>>N&255;return S};function i(S,I){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=I(S)}function o(S,I){this.h=I;const k=[];let N=!0;for(let x=S.length-1;x>=0;x--){const P=S[x]|0;N&&P==I||(k[x]=P,N=!1)}this.g=k}var a={};function c(S){return-128<=S&&S<128?i(S,function(I){return new o([I|0],I<0?-1:0)}):new o([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return E(u(-S));const I=[];let k=1;for(let N=0;S>=k;N++)I[N]=S/k|0,k*=4294967296;return new o(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return E(d(S.substring(1),I));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=u(Math.pow(I,8));let N=f;for(let P=0;P<S.length;P+=8){var x=Math.min(8,S.length-P);const R=parseInt(S.substring(P,P+x),I);x<8?(x=u(Math.pow(I,x)),N=N.j(x).add(u(R))):(N=N.j(k),N=N.add(u(R)))}return N}var f=c(0),m=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();let S=0,I=1;for(let k=0;k<this.g.length;k++){const N=this.i(k);S+=(N>=0?N:4294967296+N)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(_(this))return"-"+E(this).toString(S);const I=u(Math.pow(S,6));var k=this;let N="";for(;;){const x=D(k,I).g;k=w(k,x.j(I));let P=((k.g.length>0?k.g[0]:k.h)>>>0).toString(S);if(k=x,b(k))return P+N;for(;P.length<6;)P="0"+P;N=P+N}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(let I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=w(this,S),_(S)?-1:b(S)?0:1};function E(S){const I=S.g.length,k=[];for(let N=0;N<I;N++)k[N]=~S.g[N];return new o(k,~S.h).add(m)}t.abs=function(){return _(this)?E(this):this},t.add=function(S){const I=Math.max(this.g.length,S.g.length),k=[];let N=0;for(let x=0;x<=I;x++){let P=N+(this.i(x)&65535)+(S.i(x)&65535),R=(P>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);N=R>>>16,P&=65535,R&=65535,k[x]=R<<16|P}return new o(k,k[k.length-1]&-2147483648?-1:0)};function w(S,I){return S.add(E(I))}t.j=function(S){if(b(this)||b(S))return f;if(_(this))return _(S)?E(this).j(E(S)):E(E(this).j(S));if(_(S))return E(this.j(E(S)));if(this.l(p)<0&&S.l(p)<0)return u(this.m()*S.m());const I=this.g.length+S.g.length,k=[];for(var N=0;N<2*I;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(let x=0;x<S.g.length;x++){const P=this.i(N)>>>16,R=this.i(N)&65535,z=S.i(x)>>>16,Y=S.i(x)&65535;k[2*N+2*x]+=R*Y,v(k,2*N+2*x),k[2*N+2*x+1]+=P*Y,v(k,2*N+2*x+1),k[2*N+2*x+1]+=R*z,v(k,2*N+2*x+1),k[2*N+2*x+2]+=P*z,v(k,2*N+2*x+2)}for(S=0;S<I;S++)k[S]=k[2*S+1]<<16|k[2*S];for(S=I;S<2*I;S++)k[S]=0;return new o(k,0)};function v(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function T(S,I){this.g=S,this.h=I}function D(S,I){if(b(I))throw Error("division by zero");if(b(S))return new T(f,f);if(_(S))return I=D(E(S),I),new T(E(I.g),E(I.h));if(_(I))return I=D(S,E(I)),new T(E(I.g),I.h);if(S.g.length>30){if(_(S)||_(I))throw Error("slowDivide_ only works with positive integers.");for(var k=m,N=I;N.l(S)<=0;)k=O(k),N=O(N);var x=L(k,1),P=L(N,1);for(N=L(N,2),k=L(k,2);!b(N);){var R=P.add(N);R.l(S)<=0&&(x=x.add(k),P=R),N=L(N,1),k=L(k,1)}return I=w(S,x.j(I)),new T(x,I)}for(x=f;S.l(I)>=0;){for(k=Math.max(1,Math.floor(S.m()/I.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),P=u(k),R=P.j(I);_(R)||R.l(S)>0;)k-=N,P=u(k),R=P.j(I);b(P)&&(P=m),x=x.add(P),S=w(S,R)}return new T(x,S)}t.B=function(S){return D(this,S).h},t.and=function(S){const I=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<I;N++)k[N]=this.i(N)&S.i(N);return new o(k,this.h&S.h)},t.or=function(S){const I=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<I;N++)k[N]=this.i(N)|S.i(N);return new o(k,this.h|S.h)},t.xor=function(S){const I=Math.max(this.g.length,S.g.length),k=[];for(let N=0;N<I;N++)k[N]=this.i(N)^S.i(N);return new o(k,this.h^S.h)};function O(S){const I=S.g.length+1,k=[];for(let N=0;N<I;N++)k[N]=S.i(N)<<1|S.i(N-1)>>>31;return new o(k,S.h)}function L(S,I){const k=I>>5;I%=32;const N=S.g.length-k,x=[];for(let P=0;P<N;P++)x[P]=I>0?S.i(P+k)>>>I|S.i(P+k+1)<<32-I:S.i(P+k);return new o(x,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Cs=o}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hI,Ha,fI,Eu,Gp,pI,mI,gI;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var A=0;A<l.length-1;A++){var M=l[A];if(!(M in g))break e;g=g[M]}l=l[l.length-1],A=g[l],h=h(A),h!=A&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var g=[],A;for(A in h)Object.prototype.hasOwnProperty.call(h,A)&&g.push([A,h[A]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function c(l,h,g){return l.call.apply(l.bind,arguments)}function u(l,h,g){return u=c,u.apply(null,arguments)}function d(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),l.apply(this,A)}}function f(l,h){function g(){}g.prototype=h.prototype,l.Z=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(A,M,V){for(var q=Array(arguments.length-2),he=2;he<arguments.length;he++)q[he-2]=arguments[he];return h.prototype[M].apply(A,q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function p(l){const h=l.length;if(h>0){const g=Array(h);for(let A=0;A<h;A++)g[A]=l[A];return g}return[]}function b(l,h){for(let A=1;A<arguments.length;A++){const M=arguments[A];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=l.length||0;const V=M.length||0;l.length=g+V;for(let q=0;q<V;q++)l[g+q]=M[q]}else l.push(M)}}class _{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(l){o.setTimeout(()=>{throw l},0)}function w(){var l=S;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,g){const A=T.get();A.set(h,g),this.h?this.h.next=A:this.g=A,this.h=A}}var T=new _(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let O,L=!1,S=new v,I=()=>{const l=Promise.resolve(void 0);O=()=>{l.then(k)}};function k(){for(var l;l=w();){try{l.h.call(l.g)}catch(g){E(g)}var h=T;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}L=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,h),o.removeEventListener("test",g,h)}catch{}return l}();function R(l){return/^[\s\xa0]*$/.test(l)}function z(l,h){x.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}f(z,x),z.prototype.init=function(l,h){const g=this.type=l.type,A=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),J=0;function te(l,h,g,A,M){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!A,this.ha=M,this.key=++J,this.da=this.fa=!1}function j(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $(l,h,g){for(const A in l)h.call(g,l[A],A,l)}function G(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function ie(l){const h={};for(const g in l)h[g]=l[g];return h}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(l,h){let g,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(g in A)l[g]=A[g];for(let V=0;V<Z.length;V++)g=Z[V],Object.prototype.hasOwnProperty.call(A,g)&&(l[g]=A[g])}}function ce(l){this.src=l,this.g={},this.h=0}ce.prototype.add=function(l,h,g,A,M){const V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);const q=He(l,h,A,M);return q>-1?(h=l[q],g||(h.fa=!1)):(h=new te(h,this.src,V,!!A,M),h.fa=g,l.push(h)),h};function De(l,h){const g=h.type;if(g in l.g){var A=l.g[g],M=Array.prototype.indexOf.call(A,h,void 0),V;(V=M>=0)&&Array.prototype.splice.call(A,M,1),V&&(j(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function He(l,h,g,A){for(let M=0;M<l.length;++M){const V=l[M];if(!V.da&&V.listener==h&&V.capture==!!g&&V.ha==A)return M}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),jn={};function gn(l,h,g,A,M){if(Array.isArray(h)){for(let V=0;V<h.length;V++)gn(l,h[V],g,A,M);return null}return g=Ur(g),l&&l[Y]?l.J(h,g,a(A)?!!A.capture:!!A,M):hr(l,h,g,!1,A,M)}function hr(l,h,g,A,M,V){if(!h)throw Error("Invalid event type");const q=a(M)?!!M.capture:!!M;let he=Fr(l);if(he||(l[ye]=he=new ce(l)),g=he.add(h,g,A,q,V),g.proxy)return g;if(A=Fn(),g.proxy=A,A.src=l,A.listener=g,l.addEventListener)P||(M=q),M===void 0&&(M=!1),l.addEventListener(h.toString(),A,M);else if(l.attachEvent)l.attachEvent(Js(h.toString()),A);else if(l.addListener&&l.removeListener)l.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Fn(){function l(g){return h.call(l.src,l.listener,g)}const h=pa;return l}function fr(l,h,g,A,M){if(Array.isArray(h))for(var V=0;V<h.length;V++)fr(l,h[V],g,A,M);else A=a(A)?!!A.capture:!!A,g=Ur(g),l&&l[Y]?(l=l.i,V=String(h).toString(),V in l.g&&(h=l.g[V],g=He(h,g,A,M),g>-1&&(j(h[g]),Array.prototype.splice.call(h,g,1),h.length==0&&(delete l.g[V],l.h--)))):l&&(l=Fr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=He(h,g,A,M)),(g=l>-1?h[l]:null)&&sn(g))}function sn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Y])De(h.i,l);else{var g=l.type,A=l.proxy;h.removeEventListener?h.removeEventListener(g,A,l.capture):h.detachEvent?h.detachEvent(Js(g),A):h.addListener&&h.removeListener&&h.removeListener(A),(g=Fr(h))?(De(g,l),g.h==0&&(g.src=null,h[ye]=null)):j(l)}}}function Js(l){return l in jn?jn[l]:jn[l]="on"+l}function pa(l,h){if(l.da)l=!0;else{h=new z(h,this);const g=l.listener,A=l.ha||l.src;l.fa&&sn(l),l=g.call(A,h)}return l}function Fr(l){return l=l[ye],l instanceof ce?l:null}var Zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ur(l){return typeof l=="function"?l:(l[Zs]||(l[Zs]=function(h){return l.handleEvent(h)}),l[Zs])}function Me(){N.call(this),this.i=new ce(this),this.M=this,this.G=null}f(Me,N),Me.prototype[Y]=!0,Me.prototype.removeEventListener=function(l,h,g,A){fr(this,l,h,g,A)};function ot(l,h){var g,A=l.G;if(A)for(g=[];A;A=A.G)g.push(A);if(l=l.M,A=h.type||h,typeof h=="string")h=new x(h,l);else if(h instanceof x)h.target=h.target||l;else{var M=h;h=new x(A,l),de(h,M)}M=!0;let V,q;if(g)for(q=g.length-1;q>=0;q--)V=h.g=g[q],M=Un(V,A,!0,h)&&M;if(V=h.g=l,M=Un(V,A,!0,h)&&M,M=Un(V,A,!1,h)&&M,g)for(q=0;q<g.length;q++)V=h.g=g[q],M=Un(V,A,!1,h)&&M}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const g=l.g[h];for(let A=0;A<g.length;A++)j(g[A]);delete l.g[h],l.h--}}this.G=null},Me.prototype.J=function(l,h,g,A){return this.i.add(String(l),h,!1,g,A)},Me.prototype.K=function(l,h,g,A){return this.i.add(String(l),h,!0,g,A)};function Un(l,h,g,A){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let V=0;V<h.length;++V){const q=h[V];if(q&&!q.da&&q.capture==g){const he=q.listener,Ze=q.ha||q.src;q.fa&&De(l.i,q),M=he.call(Ze,A)!==!1&&M}}return M&&!A.defaultPrevented}function gc(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(l,h||0)}function zn(l){l.g=gc(()=>{l.g=null,l.i&&(l.i=!1,zn(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Eh extends N{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ei(l){N.call(this),this.h=l,this.g={}}f(ei,N);var Ct=[];function pr(l){$(l.g,function(h,g){this.g.hasOwnProperty(g)&&sn(h)},l),l.g={}}ei.prototype.N=function(){ei.Z.N.call(this),pr(this)},ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ma=o.JSON.stringify,xh=o.JSON.parse,Wi=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function yc(){}function ga(){}var mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $n(){x.call(this,"d")}f($n,x);function Hi(){x.call(this,"c")}f(Hi,x);var Mt={},vc=null;function qi(){return vc=vc||new Me}Mt.Ia="serverreachability";function ya(l){x.call(this,Mt.Ia,l)}f(ya,x);function zr(l){const h=qi();ot(h,new ya(h))}Mt.STAT_EVENT="statevent";function wc(l,h){x.call(this,Mt.STAT_EVENT,l),this.stat=h}f(wc,x);function Je(l){const h=qi();ot(h,new wc(h,l))}Mt.Ja="timingevent";function yn(l,h){x.call(this,Mt.Ja,l),this.size=h}f(yn,x);function ti(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function ne(){this.g=!0}ne.prototype.ua=function(){this.g=!1};function Ee(l,h,g,A,M,V){l.info(function(){if(l.g)if(V){var q="",he=V.split("&");for(let Ie=0;Ie<he.length;Ie++){var Ze=he[Ie].split("=");if(Ze.length>1){const lt=Ze[0];Ze=Ze[1];const Hn=lt.split("_");q=Hn.length>=2&&Hn[1]=="type"?q+(lt+"="+Ze+"&"):q+(lt+"=redacted&")}}}else q=null;else q=V;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+h+`
`+g+`
`+q})}function Se(l,h,g,A,M,V,q){l.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+h+`
`+g+`
`+V+" "+q})}function at(l,h,g,A){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Bn(l,g)+(A?" "+A:"")})}function Gt(l,h){l.info(function(){return"TIMEOUT: "+h})}ne.prototype.info=function(){};function Bn(l,h){if(!l.g)return h;if(!h)return null;try{const V=JSON.parse(h);if(V){for(l=0;l<V.length;l++)if(Array.isArray(V[l])){var g=V[l];if(!(g.length<2)){var A=g[1];if(Array.isArray(A)&&!(A.length<1)){var M=A[0];if(M!="noop"&&M!="stop"&&M!="close")for(let q=1;q<A.length;q++)A[q]=""}}}}return ma(V)}catch{return h}}var on={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vn;function Th(){}f(Th,yc),Th.prototype.g=function(){return new XMLHttpRequest},vn=new Th;function va(l){return encodeURIComponent(String(l))}function xb(l){var h=1;l=l.split(":");const g=[];for(;h>0&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function $r(l,h,g,A){this.j=l,this.i=h,this.l=g,this.S=A||1,this.V=new ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vy}function Vy(){this.i=null,this.g="",this.h=!1}var jy={},Ih={};function Sh(l,h,g){l.M=1,l.A=Ec(Wn(h)),l.u=g,l.R=!0,Fy(l,null)}function Fy(l,h){l.F=Date.now(),_c(l),l.B=Wn(l.A);var g=l.B,A=l.S;Array.isArray(A)||(A=[String(A)]),Jy(g.i,"t",A),l.C=0,g=l.j.L,l.h=new Vy,l.g=gv(l.j,g?h:null,!l.u),l.P>0&&(l.O=new Eh(u(l.Y,l,l.g),l.P)),h=l.V,g=l.g,A=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Ct[0]=M.toString()),M=Ct);for(let V=0;V<M.length;V++){const q=gn(g,M[V],A||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=l.J?ie(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),zr(),Ee(l.i,l.v,l.B,l.l,l.S,l.u)}$r.prototype.ba=function(l){l=l.target;const h=this.O;h&&Hr(l)==3?h.j():this.Y(l)},$r.prototype.Y=function(l){try{if(l==this.g)e:{const he=Hr(this.g),Ze=this.g.ya(),Ie=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||iv(this.g)))){this.K||he!=4||Ze==7||(Ze==8||Ie<=0?zr(3):zr(2)),bh(this);var h=this.g.ca();this.X=h;var g=Tb(this);if(this.o=h==200,Se(this.i,this.v,this.B,this.l,this.S,he,h),this.o){if(this.U&&!this.L){t:{if(this.g){var A,M=this.g;if((A=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var V=A;break t}}V=null}if(l=V)at(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ah(this,l);else{this.o=!1,this.m=3,Je(12),ni(this),wa(this);break e}}if(this.R){l=!0;let lt;for(;!this.K&&this.C<g.length;)if(lt=Ib(this,g),lt==Ih){he==4&&(this.m=4,Je(14),l=!1),at(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==jy){this.m=4,Je(15),at(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else at(this.i,this.l,lt,null),Ah(this,lt);if(Uy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||g.length!=0||this.h.h||(this.m=1,Je(16),l=!1),this.o=this.o&&l,!l)at(this.i,this.l,g,"[Invalid Chunked Response]"),ni(this),wa(this);else if(g.length>0&&!this.W){this.W=!0;var q=this.j;q.g==this&&q.aa&&!q.P&&(q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Mh(q),q.P=!0,Je(11))}}else at(this.i,this.l,g,null),Ah(this,g);he==4&&ni(this),this.o&&!this.K&&(he==4?hv(this.j,this):(this.o=!1,_c(this)))}else jb(this.g),h==400&&g.indexOf("Unknown SID")>0?(this.m=3,Je(12)):(this.m=0,Je(13)),ni(this),wa(this)}}}catch{}finally{}};function Tb(l){if(!Uy(l))return l.g.la();const h=iv(l.g);if(h==="")return"";let g="";const A=h.length,M=Hr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ni(l),wa(l),"";l.h.i=new o.TextDecoder}for(let V=0;V<A;V++)l.h.h=!0,g+=l.h.i.decode(h[V],{stream:!(M&&V==A-1)});return h.length=0,l.h.g+=g,l.C=0,l.h.g}function Uy(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Ib(l,h){var g=l.C,A=h.indexOf(`
`,g);return A==-1?Ih:(g=Number(h.substring(g,A)),isNaN(g)?jy:(A+=1,A+g>h.length?Ih:(h=h.slice(A,A+g),l.C=A+g,h)))}$r.prototype.cancel=function(){this.K=!0,ni(this)};function _c(l){l.T=Date.now()+l.H,zy(l,l.H)}function zy(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ti(u(l.aa,l),h)}function bh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}$r.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Gt(this.i,this.B),this.M!=2&&(zr(),Je(17)),ni(this),this.m=2,wa(this)):zy(this,this.T-l)};function wa(l){l.j.I==0||l.K||hv(l.j,l)}function ni(l){bh(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,pr(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Ah(l,h){try{var g=l.j;if(g.I!=0&&(g.g==l||Ch(g.h,l))){if(!l.L&&Ch(g.h,l)&&g.I==3){try{var A=g.Ba.g.parse(h)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)bc(g),Ic(g);else break e;Oh(g),Je(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=ti(u(g.Va,g),6e3));Wy(g.h)<=1&&g.ta&&(g.ta=void 0)}else si(g,11)}else if((l.L||g.g==l)&&bc(g),!R(h))for(M=g.Ba.g.parse(h),h=0;h<M.length;h++){let Ie=M[h];const lt=Ie[0];if(!(lt<=g.K))if(g.K=lt,Ie=Ie[1],g.I==2)if(Ie[0]=="c"){g.M=Ie[1],g.ba=Ie[2];const Hn=Ie[3];Hn!=null&&(g.ka=Hn,g.j.info("VER="+g.ka));const ii=Ie[4];ii!=null&&(g.za=ii,g.j.info("SVER="+g.za));const qr=Ie[5];qr!=null&&typeof qr=="number"&&qr>0&&(A=1.5*qr,g.O=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const Gr=l.g;if(Gr){const Cc=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cc){var V=A.h;V.g||Cc.indexOf("spdy")==-1&&Cc.indexOf("quic")==-1&&Cc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ph(V,V.h),V.h=null))}if(A.G){const Lh=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Lh&&(A.wa=Lh,Ce(A.J,A.G,Lh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),A=g;var q=l;if(A.na=mv(A,A.L?A.ba:null,A.W),q.L){Hy(A.h,q);var he=q,Ze=A.O;Ze&&(he.H=Ze),he.D&&(bh(he),_c(he)),A.g=q}else uv(A);g.i.length>0&&Sc(g)}else Ie[0]!="stop"&&Ie[0]!="close"||si(g,7);else g.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?si(g,7):Dh(g):Ie[0]!="noop"&&g.l&&g.l.qa(Ie),g.A=0)}}zr(4)}catch{}}var Sb=class{constructor(l,h){this.g=l,this.map=h}};function $y(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function By(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wy(l){return l.h?1:l.g?l.g.size:0}function Ch(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ph(l,h){l.g?l.g.add(h):l.h=h}function Hy(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}$y.prototype.cancel=function(){if(this.i=qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function qy(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.G);return h}return p(l.i)}var Gy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bb(l,h){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const A=l[g].indexOf("=");let M,V=null;A>=0?(M=l[g].substring(0,A),V=l[g].substring(A+1)):M=l[g],h(M,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Br(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Br?(this.l=l.l,_a(this,l.j),this.o=l.o,this.g=l.g,Ea(this,l.u),this.h=l.h,Rh(this,Zy(l.i)),this.m=l.m):l&&(h=String(l).match(Gy))?(this.l=!1,_a(this,h[1]||"",!0),this.o=xa(h[2]||""),this.g=xa(h[3]||"",!0),Ea(this,h[4]),this.h=xa(h[5]||"",!0),Rh(this,h[6]||"",!0),this.m=xa(h[7]||"")):(this.l=!1,this.i=new Ia(null,this.l))}Br.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Ta(h,Ky,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ta(h,Ky,!0),"@"),l.push(va(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ta(g,g.charAt(0)=="/"?Pb:Cb,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ta(g,kb)),l.join("")},Br.prototype.resolve=function(l){const h=Wn(this);let g=!!l.j;g?_a(h,l.j):g=!!l.o,g?h.o=l.o:g=!!l.g,g?h.g=l.g:g=l.u!=null;var A=l.h;if(g)Ea(h,l.u);else if(g=!!l.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var M=h.h.lastIndexOf("/");M!=-1&&(A=h.h.slice(0,M+1)+A)}if(M=A,M==".."||M==".")A="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){A=M.lastIndexOf("/",0)==0,M=M.split("/");const V=[];for(let q=0;q<M.length;){const he=M[q++];he=="."?A&&q==M.length&&V.push(""):he==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),A&&q==M.length&&V.push("")):(V.push(he),A=!0)}A=V.join("/")}else A=M}return g?h.h=A:g=l.i.toString()!=="",g?Rh(h,Zy(l.i)):g=!!l.m,g&&(h.m=l.m),h};function Wn(l){return new Br(l)}function _a(l,h,g){l.j=g?xa(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ea(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Rh(l,h,g){h instanceof Ia?(l.i=h,Nb(l.i,l.l)):(g||(h=Ta(h,Rb)),l.i=new Ia(h,l.l))}function Ce(l,h,g){l.i.set(h,g)}function Ec(l){return Ce(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function xa(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ta(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,Ab),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ab(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ky=/[#\/\?@]/g,Cb=/[#\?:]/g,Pb=/[#\?]/g,Rb=/[#\?@]/g,kb=/#/g;function Ia(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ri(l){l.g||(l.g=new Map,l.h=0,l.i&&bb(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Ia.prototype,t.add=function(l,h){ri(this),this.i=null,l=Gi(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function Qy(l,h){ri(l),h=Gi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Yy(l,h){return ri(l),h=Gi(l,h),l.g.has(h)}t.forEach=function(l,h){ri(this),this.g.forEach(function(g,A){g.forEach(function(M){l.call(h,M,A,this)},this)},this)};function Xy(l,h){ri(l);let g=[];if(typeof h=="string")Yy(l,h)&&(g=g.concat(l.g.get(Gi(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)g=g.concat(l[h]);return g}t.set=function(l,h){return ri(this),this.i=null,l=Gi(this,l),Yy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=Xy(this,l),l.length>0?String(l[0]):h):h};function Jy(l,h,g){Qy(l,h),g.length>0&&(l.i=null,l.g.set(Gi(l,h),p(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let A=0;A<h.length;A++){var g=h[A];const M=va(g);g=Xy(this,g);for(let V=0;V<g.length;V++){let q=M;g[V]!==""&&(q+="="+va(g[V])),l.push(q)}}return this.i=l.join("&")};function Zy(l){const h=new Ia;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Gi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Nb(l,h){h&&!l.j&&(ri(l),l.i=null,l.g.forEach(function(g,A){const M=A.toLowerCase();A!=M&&(Qy(this,A),Jy(this,M,g))},l)),l.j=h}function Db(l,h){const g=new ne;if(o.Image){const A=new Image;A.onload=d(Wr,g,"TestLoadImage: loaded",!0,h,A),A.onerror=d(Wr,g,"TestLoadImage: error",!1,h,A),A.onabort=d(Wr,g,"TestLoadImage: abort",!1,h,A),A.ontimeout=d(Wr,g,"TestLoadImage: timeout",!1,h,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=l}else h(!1)}function Ob(l,h){const g=new ne,A=new AbortController,M=setTimeout(()=>{A.abort(),Wr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:A.signal}).then(V=>{clearTimeout(M),V.ok?Wr(g,"TestPingServer: ok",!0,h):Wr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Wr(g,"TestPingServer: error",!1,h)})}function Wr(l,h,g,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(g)}catch{}}function Mb(){this.g=new Wi}function kh(l){this.i=l.Sb||null,this.h=l.ab||!1}f(kh,yc),kh.prototype.g=function(){return new xc(this.i,this.h)};function xc(l,h){Me.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(xc,Me),t=xc.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,ba(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ev(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function ev(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Sa(this):ba(this),this.readyState==3&&ev(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Sa(this))},t.Na=function(l){this.g&&(this.response=l,Sa(this))},t.ga=function(){this.g&&Sa(this)};function Sa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,ba(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function ba(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tv(l){let h="";return $(l,function(g,A){h+=A,h+=":",h+=g,h+=`\r
`}),h}function Nh(l,h,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=tv(g),typeof l=="string"?g!=null&&va(g):Ce(l,h,g))}function Ue(l){Me.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ue,Me);var Lb=/^https?$/i,Vb=["POST","PUT"];t=Ue.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(V){nv(this,V);return}if(l=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)g.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())g.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),M=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(Vb,h,void 0)>=0)||A||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of g)this.g.setRequestHeader(V,q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(V){nv(this,V)}};function nv(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,rv(l),Tc(l)}function rv(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,ot(this,"complete"),ot(this,"abort"),Tc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tc(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sv(this):this.Xa())},t.Xa=function(){sv(this)};function sv(l){if(l.h&&typeof i<"u"){if(l.v&&Hr(l)==4)setTimeout(l.Ca.bind(l),0);else if(ot(l,"readystatechange"),Hr(l)==4){l.h=!1;try{const V=l.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var A;if(A=V===0){let q=String(l.D).match(Gy)[1]||null;!q&&o.self&&o.self.location&&(q=o.self.location.protocol.slice(0,-1)),A=!Lb.test(q?q.toLowerCase():"")}g=A}if(g)ot(l,"complete"),ot(l,"success");else{l.o=6;try{var M=Hr(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",rv(l)}}finally{Tc(l)}}}}function Tc(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,h||ot(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Hr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),xh(h)}};function iv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function jb(l){const h={};l=(l.g&&Hr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<l.length;A++){if(R(l[A]))continue;var g=xb(l[A]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=h[M]||[];h[M]=V,V.push(g)}G(h,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function ov(l){this.za=0,this.i=[],this.j=new ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Aa("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Aa("baseRetryDelayMs",5e3,l),this.Za=Aa("retryDelaySeedMs",1e4,l),this.Ta=Aa("forwardChannelMaxRetries",2,l),this.va=Aa("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new $y(l&&l.concurrentRequestLimit),this.Ba=new Mb,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ov.prototype,t.ka=8,t.I=1,t.connect=function(l,h,g,A){Je(0),this.W=l,this.H=h||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.J=mv(this,null,this.W),Sc(this)};function Dh(l){if(av(l),l.I==3){var h=l.V++,g=Wn(l.J);if(Ce(g,"SID",l.M),Ce(g,"RID",h),Ce(g,"TYPE","terminate"),Ca(l,g),h=new $r(l,l.j,h),h.M=2,h.A=Ec(Wn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=h.A,g=!0),g||(h.g=gv(h.j,null),h.g.ea(h.A)),h.F=Date.now(),_c(h)}pv(l)}function Ic(l){l.g&&(Mh(l),l.g.cancel(),l.g=null)}function av(l){Ic(l),l.v&&(o.clearTimeout(l.v),l.v=null),bc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Sc(l){if(!By(l.h)&&!l.m){l.m=!0;var h=l.Ea;O||I(),L||(O(),L=!0),S.add(h,l),l.D=0}}function Fb(l,h){return Wy(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ti(u(l.Ea,l,h),fv(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new $r(this,this.j,l);let V=this.o;if(this.U&&(V?(V=ie(V),de(V,this.U)):V=this.U),this.u!==null||this.R||(M.J=V,V=null),this.S)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(h+=A,h>4096){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=cv(this,M,h),g=Wn(this.J),Ce(g,"RID",l),Ce(g,"CVER",22),this.G&&Ce(g,"X-HTTP-Session-Id",this.G),Ca(this,g),V&&(this.R?h="headers="+va(tv(V))+"&"+h:this.u&&Nh(g,this.u,V)),Ph(this.h,M),this.Ra&&Ce(g,"TYPE","init"),this.S?(Ce(g,"$req",h),Ce(g,"SID","null"),M.U=!0,Sh(M,g,null)):Sh(M,g,h),this.I=2}}else this.I==3&&(l?lv(this,l):this.i.length==0||By(this.h)||lv(this))};function lv(l,h){var g;h?g=h.l:g=l.V++;const A=Wn(l.J);Ce(A,"SID",l.M),Ce(A,"RID",g),Ce(A,"AID",l.K),Ca(l,A),l.u&&l.o&&Nh(A,l.u,l.o),g=new $r(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),h&&(l.i=h.G.concat(l.i)),h=cv(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Ph(l.h,g),Sh(g,A,h)}function Ca(l,h){l.H&&$(l.H,function(g,A){Ce(h,A,g)}),l.l&&$({},function(g,A){Ce(h,A,g)})}function cv(l,h,g){g=Math.min(l.i.length,g);const A=l.l?u(l.l.Ka,l.l,l):null;e:{var M=l.i;let he=-1;for(;;){const Ze=["count="+g];he==-1?g>0?(he=M[0].g,Ze.push("ofs="+he)):he=0:Ze.push("ofs="+he);let Ie=!0;for(let lt=0;lt<g;lt++){var V=M[lt].g;const Hn=M[lt].map;if(V-=he,V<0)he=Math.max(0,M[lt].g-100),Ie=!1;else try{V="req"+V+"_"||"";try{var q=Hn instanceof Map?Hn:Object.entries(Hn);for(const[ii,qr]of q){let Gr=qr;a(qr)&&(Gr=ma(qr)),Ze.push(V+ii+"="+encodeURIComponent(Gr))}}catch(ii){throw Ze.push(V+"type="+encodeURIComponent("_badmap")),ii}}catch{A&&A(Hn)}}if(Ie){q=Ze.join("&");break e}}q=void 0}return l=l.i.splice(0,g),h.G=l,q}function uv(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;O||I(),L||(O(),L=!0),S.add(h,l),l.A=0}}function Oh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ti(u(l.Da,l),fv(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,dv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ti(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Je(10),Ic(this),dv(this))};function Mh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function dv(l){l.g=new $r(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Wn(l.na);Ce(h,"RID","rpc"),Ce(h,"SID",l.M),Ce(h,"AID",l.K),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ce(h,"TO",l.ia),Ce(h,"TYPE","xmlhttp"),Ca(l,h),l.u&&l.o&&Nh(h,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Ec(Wn(h)),g.u=null,g.R=!0,Fy(g,l)}t.Va=function(){this.C!=null&&(this.C=null,Ic(this),Oh(this),Je(19))};function bc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function hv(l,h){var g=null;if(l.g==h){bc(l),Mh(l),l.g=null;var A=2}else if(Ch(l.h,h))g=h.G,Hy(l.h,h),A=1;else return;if(l.I!=0){if(h.o)if(A==1){g=h.u?h.u.length:0,h=Date.now()-h.F;var M=l.D;A=qi(),ot(A,new yn(A,g)),Sc(l)}else uv(l);else if(M=h.m,M==3||M==0&&h.X>0||!(A==1&&Fb(l,h)||A==2&&Oh(l)))switch(g&&g.length>0&&(h=l.h,h.i=h.i.concat(g)),M){case 1:si(l,5);break;case 4:si(l,10);break;case 3:si(l,6);break;default:si(l,2)}}}function fv(l,h){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*h}function si(l,h){if(l.j.info("Error code "+h),h==2){var g=u(l.bb,l),A=l.Ua;const M=!A;A=new Br(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_a(A,"https"),Ec(A),M?Db(A.toString(),g):Ob(A.toString(),g)}else Je(2);l.I=0,l.l&&l.l.pa(h),pv(l),av(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function pv(l){if(l.I=0,l.ja=[],l.l){const h=qy(l.h);(h.length!=0||l.i.length!=0)&&(b(l.ja,h),b(l.ja,l.i),l.h.i.length=0,p(l.i),l.i.length=0),l.l.oa()}}function mv(l,h,g){var A=g instanceof Br?Wn(g):new Br(g);if(A.g!="")h&&(A.g=h+"."+A.g),Ea(A,A.u);else{var M=o.location;A=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const V=new Br(null);A&&_a(V,A),h&&(V.g=h),M&&Ea(V,M),g&&(V.h=g),A=V}return g=l.G,h=l.wa,g&&h&&Ce(A,g,h),Ce(A,"VER",l.ka),Ca(l,A),A}function gv(l,h,g){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Ue(new kh({ab:g})):new Ue(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yv(){}t=yv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ac(){}Ac.prototype.g=function(l,h){return new Kt(l,h)};function Kt(l,h){Me.call(this),this.g=new ov(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!R(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ki(this)}f(Kt,Me),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Dh(this.g)},Kt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=ma(l),l=g);h.i.push(new Sb(h.Ya++,l)),h.I==3&&Sc(h)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Dh(this.g),delete this.g,Kt.Z.N.call(this)};function vv(l){$n.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}f(vv,$n);function wv(){Hi.call(this),this.status=1}f(wv,Hi);function Ki(l){this.g=l}f(Ki,yv),Ki.prototype.ra=function(){ot(this.g,"a")},Ki.prototype.qa=function(l){ot(this.g,new vv(l))},Ki.prototype.pa=function(l){ot(this.g,new wv)},Ki.prototype.oa=function(){ot(this.g,"b")},Ac.prototype.createWebChannel=Ac.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,gI=function(){return new Ac},mI=function(){return qi()},pI=Mt,Gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},on.NO_ERROR=0,on.TIMEOUT=8,on.HTTP_ERROR=6,Eu=on,Lt.COMPLETE="complete",fI=Lt,ga.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",Me.prototype.listen=Me.prototype.J,Ha=ga,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,hI=Ue}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",A0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Ug("@firebase/firestore");function Yi(){return Ni.logLevel}function Q(t,...e){if(Ni.logLevel<=pe.DEBUG){const n=e.map(Bg);Ni.debug(`Firestore (${la}): ${t}`,...n)}}function Or(t,...e){if(Ni.logLevel<=pe.ERROR){const n=e.map(Bg);Ni.error(`Firestore (${la}): ${t}`,...n)}}function Go(t,...e){if(Ni.logLevel<=pe.WARN){const n=e.map(Bg);Ni.warn(`Firestore (${la}): ${t}`,...n)}}function Bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yI(t,r,n)}function yI(t,e,n){let r=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Or(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||yI(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class LM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VM{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new xi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new vI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}}class jM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zM(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Kp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return If(s)===If(i)?me(s,i):If(s)?1:-1}return me(t.length,e.length)}const $M=55296,BM=57343;function If(t){const e=t.charCodeAt(0);return e>=$M&&e<=BM}function Ko(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class Kn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Kn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Kn.isNumericId(e),s=Kn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):Kp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class be extends Kn{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new be(n)}static emptyPath(){return new be([])}}const WM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Kn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return WM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new pt([P0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(be.fromString(e))}static fromName(e){return new ee(be.fromString(e).popFirst(5))}static empty(){return new ee(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){if(!n)throw new K(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HM(t,e,n,r){if(e===!0&&r===!0)throw new K(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R0(t){if(!ee.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k0(t){if(ee.isDocumentKey(t))throw new K(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _I(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se(12329,{type:typeof t})}function Ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nh(t);throw new K(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function oc(t,e){if(!_I(t))throw new K(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-62135596800,D0=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*D0);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N0)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oc(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:Qe("string",ke._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new ke(0,0))}static max(){return new oe(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function qM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new Vs(s,ee.empty(),e)}function GM(t){return new Vs(t.readTime,t.key,Ll)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(oe.min(),ee.empty(),Ll)}static max(){return new Vs(oe.max(),ee.empty(),Ll)}}function KM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==QM)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function XM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ua(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function sh(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function JM(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="";function ZM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O0(e)),e=eL(t.get(n),e);return O0(e)}function eL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case EI:n+="";break;default:n+=i}}return n}function O0(t){return t+EI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eu(this.root,e,this.comparator,!0)}}class eu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ft.RED,this.left=s??ft.EMPTY,this.right=i??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ft(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new rt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TI("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const tL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=tL.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="server_timestamp",SI="__type__",bI="__previous_value__",AI="__local_write_time__";function qg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SI])==null?void 0:r.stringValue)===II}function ih(t){const e=t.mapValue.fields[bI];return qg(e)?ih(e):e}function Vl(t){const e=js(t.mapValue.fields[AI].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,s,i,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const hd="(default)";class jl{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="__type__",PI="__max__",tu={mapValue:{fields:{__type__:{stringValue:PI}}}},RI="__vector__",fd="value";function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:sL(t)?9007199254740991:rL(t)?10:11:se(28295,{value:t})}function ur(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=js(s.timestampValue),a=js(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fs(s.bytesValue).isEqual(Fs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),a=Be(i.doubleValue);return o===a?dd(o)===dd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(M0(o)!==M0(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ur(o[c],a[c])))return!1;return!0}(t,e);default:return se(52216,{left:t})}}function Fl(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Us(t),r=Us(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Be(i.integerValue||i.doubleValue),c=Be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return V0(t.timestampValue,e.timestampValue);case 4:return V0(Vl(t),Vl(e));case 5:return Kp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Fs(i),c=Fs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=me(a[u],c[u]);if(d!==0)return d}return me(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(Be(i.latitude),Be(o.latitude));return a!==0?a:me(Be(i.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,b,_;const a=i.fields||{},c=o.fields||{},u=(m=a[fd])==null?void 0:m.arrayValue,d=(p=c[fd])==null?void 0:p.arrayValue,f=me(((b=u==null?void 0:u.values)==null?void 0:b.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return f!==0?f:j0(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===tu.mapValue&&o===tu.mapValue)return 0;if(i===tu.mapValue)return 1;if(o===tu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=Kp(c[f],d[f]);if(m!==0)return m;const p=Qo(a[c[f]],u[d[f]]);if(p!==0)return p}return me(c.length,d.length)}(t.mapValue,e.mapValue);default:throw se(23264,{he:n})}}function V0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=js(t),r=js(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function j0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qo(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function Yo(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Qp(n.fields[o])}`;return s+"}"}(t.mapValue):se(61005,{value:t})}function xu(t){switch(Us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(t);return e?16+xu(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+xu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ks(r.fields,(i,o)=>{s+=i.length+xu(o)}),s}(t.mapValue);default:throw se(13486,{value:t})}}function F0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yp(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function U0(t){return!!t&&"nullValue"in t}function z0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Tu(t){return!!t&&"mapValue"in t}function rL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CI])==null?void 0:r.stringValue)===RI}function al(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return{...t}}function sL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Tu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=pt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=al(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Tu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Tu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zt(al(this.value))}}function kI(t){const e=[];return Ks(t.fields,(n,r)=>{const s=new pt([n]);if(Tu(r)){const i=kI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,oe.min(),oe.min(),oe.min(),zt.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,oe.min(),oe.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,oe.min(),oe.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.position=e,this.inclusive=n}}function $0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Qo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function B0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n="asc"){this.field=e,this.dir=n}}function iL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{}class Ke extends NI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aL(e,n,r):n==="array-contains"?new uL(e,r):n==="in"?new dL(e,r):n==="not-in"?new hL(e,r):n==="array-contains-any"?new fL(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lL(e,r):new cL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends NI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ln(e,n)}matches(e){return DI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DI(t){return t.op==="and"}function OI(t){return oL(t)&&DI(t)}function oL(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function Xp(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(OI(t))return t.filters.map(e=>Xp(e)).join(",");{const e=t.filters.map(n=>Xp(n)).join(",");return`${t.op}(${e})`}}function MI(t,e){return t instanceof Ke?function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&ur(r.value,s.value)}(t,e):t instanceof Ln?function(r,s){return s instanceof Ln&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&MI(o,s.filters[a]),!0):!1}(t,e):void se(19439)}function LI(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(LI).join(" ,")+"}"}(t):"Filter"}class aL extends Ke{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class lL extends Ke{constructor(e,n){super(e,"in",n),this.keys=VI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cL extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=VI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class uL extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&Fl(n.arrayValue,this.value)}}class dL extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class hL extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fl(this.value.arrayValue,n)}}class fL extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function W0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new pL(t,e,n,r,s,i,o)}function Kg(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),e.Te=n}return e.Te}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B0(t.startAt,e.startAt)&&B0(t.endAt,e.endAt)}function Jp(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mL(t,e,n,r,s,i,o,a){return new da(t,e,n,r,s,i,o,a)}function Yg(t){return new da(t)}function H0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jI(t){return t.collectionGroup!==null}function ll(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ul(i,r))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new Ul(pt.keyField(),r))}return e.Ie}function rr(t){const e=ae(t);return e.Ee||(e.Ee=gL(e,ll(t))),e.Ee}function gL(t,e){if(t.limitType==="F")return W0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ul(s.field,i)});const n=t.endAt?new pd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pd(t.startAt.position,t.startAt.inclusive):null;return W0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e){const n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function em(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oh(t,e){return Qg(rr(t),rr(e))&&t.limitType===e.limitType}function FI(t){return`${Kg(rr(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>LI(s)).join(", ")}]`),sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Yo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Yo(s)).join(",")),`Target(${r})`}(rr(t))}; limitType=${t.limitType})`}function ah(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=$0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,ll(r),s)||r.endAt&&!function(o,a,c){const u=$0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,ll(r),s))}(t,e)}function yL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UI(t){return(e,n)=>{let r=!1;for(const s of ll(t)){const i=vL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function vL(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Qo(c,u):se(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return xI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new Fe(ee.comparator);function Mr(){return wL}const zI=new Fe(ee.comparator);function qa(...t){let e=zI;for(const n of t)e=e.insert(n.key,n);return e}function $I(t){let e=zI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function fi(){return cl()}function BI(){return cl()}function cl(){return new Ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const _L=new Fe(ee.comparator),EL=new rt(ee.comparator);function ge(...t){let e=EL;for(const n of t)e=e.add(n);return e}const xL=new rt(me);function TL(){return xL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function WI(t){return{integerValue:""+t}}function IL(t,e){return JM(e)?WI(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function SL(t,e,n){return t instanceof zl?function(s,i){const o={fields:{[SI]:{stringValue:II},[AI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&qg(i)&&(i=ih(i)),i&&(o.fields[bI]=i),{mapValue:o}}(n,e):t instanceof $l?qI(t,e):t instanceof Bl?GI(t,e):function(s,i){const o=HI(s,i),a=q0(o)+q0(s.Ae);return Yp(o)&&Yp(s.Ae)?WI(a):Xg(s.serializer,a)}(t,e)}function bL(t,e,n){return t instanceof $l?qI(t,e):t instanceof Bl?GI(t,e):n}function HI(t,e){return t instanceof md?function(r){return Yp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class zl extends lh{}class $l extends lh{constructor(e){super(),this.elements=e}}function qI(t,e){const n=KI(e);for(const r of t.elements)n.some(s=>ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends lh{constructor(e){super(),this.elements=e}}function GI(t,e){let n=KI(e);for(const r of t.elements)n=n.filter(s=>!ur(s,r));return{arrayValue:{values:n}}}class md extends lh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q0(t){return Be(t.integerValue||t.doubleValue)}function KI(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){this.field=e,this.transform=n}}function CL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof $l&&s instanceof $l||r instanceof Bl&&s instanceof Bl?Ko(r.elements,s.elements,ur):r instanceof md&&s instanceof md?ur(r.Ae,s.Ae):r instanceof zl&&s instanceof zl}(t.transform,e.transform)}class PL{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ch{}function QI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,kn.none()):new ac(t.key,t.data,kn.none());{const n=t.data,r=zt.empty();let s=new rt(pt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Qs(t.key,r,new Jt(s.toArray()),kn.none())}}function RL(t,e,n){t instanceof ac?function(s,i,o){const a=s.value.clone(),c=K0(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qs?function(s,i,o){if(!Iu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=K0(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(YI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ul(t,e,n,r){return t instanceof ac?function(i,o,a,c){if(!Iu(i.precondition,o))return a;const u=i.value.clone(),d=Q0(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qs?function(i,o,a,c){if(!Iu(i.precondition,o))return a;const u=Q0(i.fieldTransforms,c,o),d=o.data;return d.setAll(YI(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Iu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function kL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=HI(r.transform,s||null);i!=null&&(n===null&&(n=zt.empty()),n.set(r.field,i))}return n||null}function G0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ko(r,s,(i,o)=>CL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ac extends ch{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qs extends ch{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function YI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K0(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,bL(o,a,n[s]))}return r}function Q0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,SL(i,o,e))}return r}class Jg extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NL extends ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&RL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=QI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(n,r)=>G0(n,r))&&Ko(this.baseMutations,e.baseMutations,(n,r)=>G0(n,r))}}class Zg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return _L}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Zg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ve;function LL(t){switch(t){case U.OK:return se(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return se(15467,{code:t})}}function XI(t){if(t===void 0)return Or("GRPC error has no .code"),U.UNKNOWN;switch(t){case qe.OK:return U.OK;case qe.CANCELLED:return U.CANCELLED;case qe.UNKNOWN:return U.UNKNOWN;case qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case qe.INTERNAL:return U.INTERNAL;case qe.UNAVAILABLE:return U.UNAVAILABLE;case qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case qe.NOT_FOUND:return U.NOT_FOUND;case qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case qe.ABORTED:return U.ABORTED;case qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case qe.DATA_LOSS:return U.DATA_LOSS;default:return se(39323,{code:t})}}(ve=qe||(qe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Cs([4294967295,4294967295],0);function Y0(t){const e=VL().encode(t),n=new dI;return n.update(e),new Uint8Array(n.digest())}function X0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([s,i],0)]}class ey{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ga(`Invalid padding: ${n}`);if(r<0)throw new Ga(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Cs.fromNumber(r)));return s.compare(jL)===1&&(s=new Cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y0(e),[r,s]=X0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ey(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Y0(e),[r,s]=X0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uh(oe.min(),s,new Fe(me),Mr(),ge())}}class lc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class JI{constructor(e,n){this.targetId=e,this.Ce=n}}class ZI{constructor(e,n,r=yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class J0{constructor(){this.ve=0,this.Fe=Z0(),this.Me=yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se(38017,{changeType:i})}}),new lc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Z0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FL{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mr(),this.Je=nu(),this.He=nu(),this.Ye=new Fe(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Jp(i))if(r===0){const o=new ee(i.path);this.et(n,o,St.newNoDocument(o,oe.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Fs(r).toUint8Array()}catch(c){if(c instanceof TI)return Go("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ey(o,s,i)}catch(c){return Go(c instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Jp(a.target)){const c=new ee(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,St.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ge();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new uh(e,n,this.Ye,this.je,r);return this.je=Mr(),this.Je=nu(),this.He=nu(),this.Ye=new Fe(me),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new J0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rt(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rt(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function nu(){return new Fe(ee.comparator)}function Z0(){return new Fe(ee.comparator)}const UL={asc:"ASCENDING",desc:"DESCENDING"},zL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$L={and:"AND",or:"OR"};class BL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tm(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WL(t,e){return gd(t,e.toTimestamp())}function sr(t){return xe(!!t,49232),oe.fromTimestamp(function(n){const r=js(n);return new ke(r.seconds,r.nanos)}(t))}function ty(t,e){return nm(t,e).canonicalString()}function nm(t,e){const n=function(s){return new be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tS(t){const e=be.fromString(t);return xe(oS(e),10190,{key:e.toString()}),e}function rm(t,e){return ty(t.databaseId,e.path)}function Sf(t,e){const n=tS(e);if(n.get(1)!==t.databaseId.projectId)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(rS(n))}function nS(t,e){return ty(t.databaseId,e)}function HL(t){const e=tS(t);return e.length===4?be.emptyPath():rS(e)}function sm(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rS(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function e_(t,e,n){return{name:rm(t,e),fields:n.value.mapValue.fields}}function qL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(xe(d===void 0||typeof d=="string",58123),yt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:XI(u.code);return new K(d,u.message||"")}(o);n=new ZI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sf(t,r.document.name),i=sr(r.document.updateTime),o=r.document.createTime?sr(r.document.createTime):oe.min(),a=new zt({mapValue:{fields:r.document.fields}}),c=St.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Su(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sf(t,r.document),i=r.readTime?sr(r.readTime):oe.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Su([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sf(t,r.document),i=r.removedTargetIds||[];n=new Su([],i,s,null)}else{if(!("filter"in e))return se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new ML(s,i),a=r.targetId;n=new JI(a,o)}}return n}function GL(t,e){let n;if(e instanceof ac)n={update:e_(t,e.key,e.value)};else if(e instanceof Jg)n={delete:rm(t,e.key)};else if(e instanceof Qs)n={update:e_(t,e.key,e.data),updateMask:nV(e.fieldMask)};else{if(!(e instanceof NL))return se(16599,{Vt:e.type});n={verify:rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof zl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof md)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw se(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:WL(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se(27497)}(t,e.precondition)),n}function KL(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?sr(s.updateTime):sr(i);return o.isEqual(oe.min())&&(o=sr(i)),new PL(o,s.transformResults||[])}(n,e))):[]}function QL(t,e){return{documents:[nS(t,e.path)]}}function YL(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nS(t,s);const i=function(u){if(u.length!==0)return iS(Ln.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Ji(m.field),direction:ZL(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=tm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function XL(t){let e=HL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=sS(f);return m instanceof Ln&&OI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(b){return new Ul(Zi(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,sh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new pd(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new pd(p,m)}(n.endAt)),mL(e,s,o,i,a,"F",c,u)}function JL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zi(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zi(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zi(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zi(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Zi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(r=>sS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(n.compositeFilter.op))}(t):se(30097,{filter:t})}function ZL(t){return UL[t]}function eV(t){return zL[t]}function tV(t){return $L[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Zi(t){return pt.fromServerFormat(t.fieldPath)}function iS(t){return t instanceof Ke?function(n){if(n.op==="=="){if(z0(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(U0(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z0(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(U0(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:eV(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const r=n.getFilters().map(s=>iS(s));return r.length===1?r[0]:{compositeFilter:{op:tV(n.op),filters:r}}}(t):se(54877,{filter:t})}function nV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.yt=e}}function sV(t){const e=XL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.Cn=new oV}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Vs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class oV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new rt(be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new rt(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(aS,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",aV=1048576;function r_([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class lV{constructor(e){this.Ir=e,this.buffer=new rt(r_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();r_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ua(n)?Q(n_,"Ignoring IndexedDB error during garbage collection: ",n):await ca(n)}await this.Vr(3e5)})}}class uV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(rh.ce);const r=new lV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(t_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Yi()<=pe.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function dV(t,e){return new uV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.changes=new Ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ul(r.mutation,s,Jt.empty(),ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=qa();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Mr();const o=cl(),a=function(){return cl()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Qs)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ul(d.mutation,u,d.mutation.getFieldMask(),ke.now())):o.set(u.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new fV(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=cl();let s=new Fe((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Jt.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(s.get(a.batchId)||ge()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=BI();d.forEach(m=>{if(!i.has(m)){const p=QI(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(fi());let a=Ll,c=i;return o.next(u=>B.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ge())).next(d=>({batchId:a,changes:$I(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=qa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=qa();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,c=>{const u=function(f,m){return new da(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=qa();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&ul(d.mutation,u,Jt.empty(),ke.now()),ah(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:sr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:sV(s.bundledQuery),readTime:sr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.overlays=new Fe(ee.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=fi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=fi(),i=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Fe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=fi(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=fi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return B.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new OL(n,r));let i=this.qr.get(n);i===void 0&&(i=ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.Qr=new rt(ct.$r),this.Ur=new rt(ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ct(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ee(new be([])),r=new ct(n,e),s=new ct(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new be([])),r=new ct(n,e),s=new ct(n,e+1);let i=ge();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ct(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rt(ct.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new DL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Hg:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(me);return n.forEach(s=>{const i=new ct(s,0),o=new ct(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new ct(new ee(i),0);let a=new rt(me);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),B.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ct(n,0),s=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.ri=e,this.docs=function(){return new Fe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Mr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KM(GM(d),r)<=0||(s.has(d.key)||ah(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _V(this)}getSize(e){return B.resolve(this.size)}}class _V extends hV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.persistence=e,this.si=new Ui(n=>Kg(n),Qg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new ny,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new yV,this.referenceDelegate=e(this),this.Pi=new EV(this),this.indexManager=new iV,this.remoteDocumentCache=function(s){return new wV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new rV(n),this.Ii=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new vV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new xV(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class xV extends YM{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Ri=new ny,this.Vi=null}static mi(e){return new ry(e)}get fi(){if(this.Vi)return this.Vi;throw se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const s=ee.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yd{constructor(e,n){this.persistence=e,this.pi=new Ui(r=>ZM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=dV(this,n)}static mi(e,n){return new yd(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xu(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new sy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yO()?8:XM(At())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new TV;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Yi()<=pe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Yi()<=pe.DEBUG&&Q("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Yi()<=pe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(n))):B.resolve())}ys(e,n){if(H0(n))return B.resolve(null);let r=rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=em(n,null,"F"),r=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,em(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return H0(n)||s.isEqual(oe.min())?B.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?B.resolve(null):(Yi()<=pe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xi(n)),this.vs(e,o,n,qM(s,Ll)).next(a=>a))})}Ds(e,n){let r=new rt(UI(e));return n.forEach((s,i)=>{ah(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Yi()<=pe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.ps.getDocumentsMatchingQuery(e,n,Vs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="LocalStore",SV=3e8;class bV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Fe(me),this.xs=new Ui(i=>Kg(i),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function AV(t,e,n,r){return new bV(t,e,n,r)}async function cS(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function CV(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,m=f.keys();let p=B.resolve();return m.forEach(b=>{p=p.next(()=>d.getEntry(c,b)).next(_=>{const E=u.docVersions.get(b);xe(E!==null,48541),_.version.compareTo(E)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function uS(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function PV(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(yt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(f,p),function(_,E,w){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=SV?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,p,d)&&a.push(n.Pi.updateTargetData(i,p))});let c=Mr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(RV(i,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function RV(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Mr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Q(iy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function kV(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NV(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ms(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function im(t,e,n){const r=ae(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ua(o))throw o;Q(iy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function s_(t,e,n){const r=ae(t);let s=oe.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=ae(c),m=f.xs.get(d);return m!==void 0?B.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(r,o,rr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:ge())).next(a=>(DV(r,yL(e),a),{documents:a,Qs:i})))}function DV(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class i_{constructor(){this.activeTargetIds=TL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OV{constructor(){this.Mo=new i_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class a_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(o_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru=null;function om(){return ru===null?ru=function(){return 268435456+Math.round(2147483648*Math.random())}():ru++,"0x"+ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",LV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===hd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=om(),a=this.zo(e,n.toUriEncodedString());Q(bf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),d=oa(u);return this.Jo(e,a,c,r,d).then(f=>(Q(bf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Go(bf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=LV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class FV extends VV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=om();return new Promise((a,c)=>{const u=new hI;u.setWithCredentials(!0),u.listenOnce(fI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Eu.NO_ERROR:const f=u.getResponseJson();Q(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Eu.TIMEOUT:Q(Et,`RPC '${e}' ${o} timed out`),c(new K(U.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:const m=u.getStatus();if(Q(Et,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const b=p==null?void 0:p.error;if(b&&b.status&&b.message){const _=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(v)>=0?v:U.UNKNOWN}(b.status);c(new K(_,b.message))}else c(new K(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new K(U.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(Et,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);Q(Et,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=om(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gI(),a=mI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Q(Et,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let m=!1,p=!1;const b=new jV({Yo:E=>{p?Q(Et,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(Q(Et,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),Q(Et,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),_=(E,w,v)=>{E.listen(w,T=>{try{v(T)}catch(D){setTimeout(()=>{throw D},0)}})};return _(f,Ha.EventType.OPEN,()=>{p||(Q(Et,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),_(f,Ha.EventType.CLOSE,()=>{p||(p=!0,Q(Et,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(f))}),_(f,Ha.EventType.ERROR,E=>{p||(p=!0,Go(Et,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),b.a_(new K(U.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ha.EventType.MESSAGE,E=>{var w;if(!p){const v=E.data[0];xe(!!v,16349);const T=v,D=(T==null?void 0:T.error)||((w=T[0])==null?void 0:w.error);if(D){Q(Et,`RPC '${e}' stream ${s} received error:`,D);const O=D.status;let L=function(k){const N=qe[k];if(N!==void 0)return XI(N)}(O),S=D.message;L===void 0&&(L=U.INTERNAL,S="Unknown error status: "+O+" with message "+D.message),p=!0,b.a_(new K(L,S)),f.close()}else Q(Et,`RPC '${e}' stream ${s} received:`,v),b.u_(v)}}),_(a,pI.STAT_EVENT,E=>{E.stat===Gp.PROXY?Q(Et,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Gp.NOPROXY&&Q(Et,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t){return new BL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class hS{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Q(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UV extends hS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qL(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?sr(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=sm(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Jp(c)?{documents:QL(i,c)}:{query:YL(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eS(i,o.resumeToken);const u=tm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=gd(i,o.snapshotVersion.toTimestamp());const u=tm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=JL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.q_(n)}}class zV extends hS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=KL(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=sm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{}class BV extends $V{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,nm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,nm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class WV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="RemoteStore";class HV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{zi(this)&&(Q(Di,"Restarting streams for network reachability change."),await async function(c){const u=ae(c);u.Ea.add(4),await cc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await hh(u)}(this))})}),this.Ra=new WV(r,s)}}async function hh(t){if(zi(t))for(const e of t.da)await e(!0)}async function cc(t){for(const e of t.da)await e(!1)}function fS(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cy(n)?ly(n):ha(n).O_()&&ay(n,e))}function oy(t,e){const n=ae(t),r=ha(n);n.Ia.delete(e),r.O_()&&pS(n,e),n.Ia.size===0&&(r.O_()?r.L_():zi(n)&&n.Ra.set("Unknown"))}function ay(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ha(t).Y_(e)}function pS(t,e){t.Va.Ue(e),ha(t).Z_(e)}function ly(t){t.Va=new FL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ha(t).start(),t.Ra.ua()}function cy(t){return zi(t)&&!ha(t).x_()&&t.Ia.size>0}function zi(t){return ae(t).Ea.size===0}function mS(t){t.Va=void 0}async function qV(t){t.Ra.set("Online")}async function GV(t){t.Ia.forEach((e,n)=>{ay(t,e)})}async function KV(t,e){mS(t),cy(t)?(t.Ra.ha(e),ly(t)):t.Ra.set("Unknown")}async function QV(t,e,n){if(t.Ra.set("Online"),e instanceof ZI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Q(Di,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vd(t,r)}else if(e instanceof Su?t.Va.Ze(e):e instanceof JI?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await uS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),pS(i,c);const f=new ms(d.target,c,u,d.sequenceNumber);ay(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(Di,"Failed to raise snapshot:",r),await vd(t,r)}}async function vd(t,e,n){if(!ua(e))throw e;t.Ea.add(1),await cc(t),t.Ra.set("Offline"),n||(n=()=>uS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Di,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await hh(t)})}function gS(t,e){return e().catch(n=>vd(t,n,e))}async function fh(t){const e=ae(t),n=zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hg;for(;YV(e);)try{const s=await kV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,XV(e,s)}catch(s){await vd(e,s)}yS(e)&&vS(e)}function YV(t){return zi(t)&&t.Ta.length<10}function XV(t,e){t.Ta.push(e);const n=zs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function yS(t){return zi(t)&&!zs(t).x_()&&t.Ta.length>0}function vS(t){zs(t).start()}async function JV(t){zs(t).ra()}async function ZV(t){const e=zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function e4(t,e,n){const r=t.Ta.shift(),s=Zg.from(r,e,n);await gS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fh(t)}async function t4(t,e){e&&zs(t).X_&&await async function(r,s){if(function(o){return LL(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();zs(r).B_(),await gS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fh(r)}}(t,e),yS(t)&&vS(t)}async function c_(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),Q(Di,"RemoteStore received new credentials");const r=zi(n);n.Ea.add(3),await cc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await hh(n)}async function n4(t,e){const n=ae(t);e?(n.Ea.delete(2),await hh(n)):e||(n.Ea.add(2),await cc(n),n.Ra.set("Unknown"))}function ha(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new UV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:qV.bind(null,t),t_:GV.bind(null,t),r_:KV.bind(null,t),H_:QV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),cy(t)?ly(t):t.Ra.set("Unknown")):(await t.ma.stop(),mS(t))})),t.ma}function zs(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new zV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:JV.bind(null,t),r_:t4.bind(null,t),ta:ZV.bind(null,t),na:e4.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fh(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(Di,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new uy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(Or("AsyncQueue",`${e}: ${t}`),ua(t))return new K(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=qa(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.ga=new Fe(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jo{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Jo(e,n,xo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class s4{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=d_(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new K(U.ABORTED,"Firestore shutting down"))}}function d_(){return new Ui(t=>FI(t),oh)}async function i4(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new r4,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=dy(o,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&hy(n)}async function o4(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function a4(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&hy(n)}function l4(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function hy(t){t.Ca.forEach(e=>{e.next()})}var am,h_;(h_=am||(am={})).Ma="default",h_.Cache="cache";class c4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class u4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=UI(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new u_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),p=ah(this.query,f)?f:null,b=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;m&&p?m.data.isEqual(p.data)?b!==_&&(r.track({type:3,doc:p}),E=!0):this.su(m,p)||(r.track({type:2,doc:p}),E=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),E=!0):m&&!p&&(r.track({type:1,doc:m}),E=!0,(c||u)&&(a=!0)),E&&(p?(o=o.add(p),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(p,b){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Rt:E})}};return _(p)-_(b)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Jo(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new _S(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new wS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fy="SyncEngine";class d4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class h4{constructor(e){this.key=e,this.hu=!1}}class f4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ui(a=>FI(a),oh),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(ee.comparator),this.Au=new Map,this.Ru=new ny,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p4(t,e,n=!0){const r=bS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await ES(r,e,n,!0),s}async function m4(t,e){const n=bS(t);await ES(n,e,!0,!1)}async function ES(t,e,n,r){const s=await NV(t.localStore,rr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await g4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&fS(t.remoteStore,s),a}async function g4(t,e,n,r,s){t.pu=(f,m,p)=>async function(_,E,w,v){let T=E.view.ru(w);T.Cs&&(T=await s_(_.localStore,E.query,!1).then(({documents:S})=>E.view.ru(S,T)));const D=v&&v.targetChanges.get(E.targetId),O=v&&v.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(T,_.isPrimaryClient,D,O);return p_(_,E.targetId,L.au),L.snapshot}(t,f,m,p);const i=await s_(t.localStore,e,!0),o=new u4(e,i.Qs),a=o.ru(i.documents),c=lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);p_(t,n,u.au);const d=new d4(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function y4(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!oh(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await im(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&oy(r.remoteStore,s.targetId),lm(r,s.targetId)}).catch(ca)):(lm(r,s.targetId),await im(r.localStore,s.targetId,!0))}async function v4(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oy(n.remoteStore,r.targetId))}async function w4(t,e,n){const r=b4(t);try{const s=await function(o,a){const c=ae(o),u=ke.now(),d=a.reduce((p,b)=>p.add(b.key),ge());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=Mr(),_=ge();return c.Ns.getEntries(p,d).next(E=>{b=E,b.forEach((w,v)=>{v.isValidDocument()||(_=_.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,b)).next(E=>{f=E;const w=[];for(const v of a){const T=kL(v,f.get(v.key).overlayedDocument);T!=null&&w.push(new Qs(v.key,T,kI(T.value.mapValue),kn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,w,a)}).next(E=>{m=E;const w=E.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(p,E.batchId,w)})}).then(()=>({batchId:m.batchId,changes:$I(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Fe(me)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await uc(r,s.changes),await fh(r.remoteStore)}catch(s){const i=dy(s,"Failed to persist write");n.reject(i)}}async function xS(t,e){const n=ae(t);try{const r=await PV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await uc(n,r,e)}catch(r){await ca(r)}}function f_(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ae(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(a)&&(u=!0)}),u&&hy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _4(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Fe(ee.comparator);o=o.insert(i,St.newNoDocument(i,oe.min()));const a=ge().add(i),c=new uh(oe.min(),new Map,new Fe(me),o,a);await xS(r,c),r.du=r.du.remove(i),r.Au.delete(e),py(r)}else await im(r.localStore,e,!1).then(()=>lm(r,e,n)).catch(ca)}async function E4(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await CV(n.localStore,e);IS(n,r,null),TS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uc(n,s)}catch(s){await ca(s)}}async function x4(t,e,n){const r=ae(t);try{const s=await function(o,a){const c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(xe(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);IS(r,e,n),TS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uc(r,s)}catch(s){await ca(s)}}function TS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function IS(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function lm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||SS(t,r)})}function SS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(oy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),py(t))}function p_(t,e,n){for(const r of n)r instanceof wS?(t.Ru.addReference(r.key,e),T4(t,r)):r instanceof _S?(Q(fy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||SS(t,r.key)):se(19791,{wu:r})}function T4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Q(fy,"New document in limbo: "+n),t.Eu.add(r),py(t))}function py(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(be.fromString(e)),r=t.fu.next();t.Au.set(r,new h4(n)),t.du=t.du.insert(n,r),fS(t.remoteStore,new ms(rr(Yg(n.path)),r,"TargetPurposeLimboResolution",rh.ce))}}async function uc(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=sy.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const d=ae(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,m=>B.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>B.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!ua(f))throw f;Q(iy,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.Ms.get(m),b=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(b);d.Ms=d.Ms.insert(m,_)}}}(r.localStore,i))}async function I4(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){Q(fy,"User change. New user:",e.toKey());const r=await cS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new K(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uc(n,r.Ls)}}function S4(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let s=ge();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function bS(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_4.bind(null,e),e.Pu.H_=a4.bind(null,e.eventManager),e.Pu.yu=l4.bind(null,e.eventManager),e}function b4(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x4.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AV(this.persistence,new IV,e.initialUser,this.serializer)}Cu(e){return new lS(ry.mi,this.serializer)}Du(e){return new OV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class A4 extends wd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof yd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new lS(r=>yd.mi(r,n),this.serializer)}}class cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>f_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=I4.bind(null,this.syncEngine),await n4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s4}()}createDatastore(e){const n=dh(e.databaseInfo.databaseId),r=function(i){return new FV(i)}(e.databaseInfo);return function(i,o,a,c){return new BV(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new HV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>f_(this.syncEngine,n,0),function(){return a_.v()?new a_:new MV}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const f=new f4(s,i,o,a,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);Q(Di,"RemoteStore shutting down."),i.Ea.add(5),await cc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class P4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tt.UNAUTHENTICATED,this.clientId=Wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q($s,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q($s,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cf(t,e){t.asyncQueue.verifyOperationInProgress(),Q($s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await cS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function m_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R4(t);Q($s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>c_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>c_(e.remoteStore,s)),t._onlineComponents=e}async function R4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q($s,"Using user provided OfflineComponentProvider");try{await Cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await Cf(t,new wd)}}else Q($s,"Using default OfflineComponentProvider"),await Cf(t,new A4(void 0));return t._offlineComponents}async function AS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q($s,"Using user provided OnlineComponentProvider"),await m_(t,t._uninitializedComponentsProvider._online)):(Q($s,"Using default OnlineComponentProvider"),await m_(t,new cm))),t._onlineComponents}function k4(t){return AS(t).then(e=>e.syncEngine)}async function g_(t){const e=await AS(t),n=e.eventManager;return n.onListen=p4.bind(null,e.syncEngine),n.onUnlisten=y4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=m4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=v4.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firestore.googleapis.com",v_=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=v_}else this.host=e.host,this.ssl=e.ssl??v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aV)throw new K(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ph{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MM;switch(r.type){case"firstParty":return new FM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y_.get(n);r&&(Q("ComponentProvider","Removing Datastore"),y_.delete(n),r.terminate())}(this),Promise.resolve()}}function N4(t,e,n,r={}){var u;t=Ps(t,ph);const s=oa(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(rI(`https://${a}`),sI("Firestore",!0)),i.host!==PS&&i.host!==a&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ri(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Tt.MOCK_USER;else{d=lO(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new K(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Tt(m)}t._authCredentials=new LM(new vI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $i(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(oc(n,Ye._jsonSchema))return new Ye(e,r||null,new ee(be.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Qe("string",Ye._jsonSchemaVersion),referencePath:Qe("string")};class Rs extends $i{constructor(e,n,r){super(e,n,Yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new ee(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function To(t,e,...n){if(t=st(t),wI("collection","path",e),t instanceof ph){const r=be.fromString(e,...n);return k0(r),new Rs(t,null,r)}{if(!(t instanceof Ye||t instanceof Rs))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return k0(r),new Rs(t.firestore,null,r)}}function bu(t,e,...n){if(t=st(t),arguments.length===1&&(e=Wg.newId()),wI("doc","path",e),t instanceof ph){const r=be.fromString(e,...n);return R0(r),new Ye(t,null,new ee(r))}{if(!(t instanceof Ye||t instanceof Rs))throw new K(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return R0(r),new Ye(t.firestore,t instanceof Rs?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dS(this,"async_queue_retry"),this._c=()=>{const r=Af();r&&Q(__,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new xi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ua(e))throw e;Q(__,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",x_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=uy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&se(47125,{Pc:x_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function x_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Zo extends ph{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new E_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function D4(t,e){const n=typeof t=="object"?t:lI(),r=typeof t=="string"?t:hd,s=$g(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=oO("firestore");i&&N4(s,...i)}return s}function RS(t){if(t._terminated)throw new K(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O4(t),t._firestoreClient}function O4(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,d){return new nL(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,CS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new P4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dn(yt.fromBase64String(e))}catch(n){throw new K(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dn(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oc(e,dn._jsonSchema))return dn.fromBase64String(e.bytes)}}dn._jsonSchemaVersion="firestore/bytes/1.0",dn._jsonSchema={type:Qe("string",dn._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(oc(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:Qe("string",ir._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oc(e,or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new or(e.vectorValues);throw new K(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:Qe("string",or._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^__.*__$/;class L4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new ac(e,this.data,n,this.fieldTransforms)}}class kS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{Ac:t})}}class my{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new my({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _d(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NS(this.Ac)&&M4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class V4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dh(e)}Cc(e,n,r,s=!1){return new my({Ac:e,methodName:n,Dc:r,path:pt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gy(t){const e=t._freezeSettings(),n=dh(t._databaseId);return new V4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j4(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);vy("Data must be an object, but it was:",o,r);const a=DS(r,o);let c,u;if(i.merge)c=new Jt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=um(e,f,n);if(!o.contains(m))throw new K(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);MS(d,m)||d.push(m)}c=new Jt(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new L4(new zt(a),c,u)}class yh extends gh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}class yy extends gh{_toFieldTransform(e){return new AL(e.path,new zl)}isEqual(e){return e instanceof yy}}function F4(t,e,n,r){const s=t.Cc(1,e,n);vy("Data must be an object, but it was:",s,r);const i=[],o=zt.empty();Ks(r,(c,u)=>{const d=wy(e,c,n);u=st(u);const f=s.yc(d);if(u instanceof yh)i.push(d);else{const m=dc(u,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new Jt(i);return new kS(o,a,s.fieldTransforms)}function U4(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[um(e,r,n)],c=[s];if(i.length%2!=0)throw new K(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(um(e,i[m])),c.push(i[m+1]);const u=[],d=zt.empty();for(let m=a.length-1;m>=0;--m)if(!MS(u,a[m])){const p=a[m];let b=c[m];b=st(b);const _=o.yc(p);if(b instanceof yh)u.push(p);else{const E=dc(b,_);E!=null&&(u.push(p),d.set(p,E))}}const f=new Jt(u);return new kS(d,f,o.fieldTransforms)}function z4(t,e,n,r=!1){return dc(n,t.Cc(r?4:3,e))}function dc(t,e){if(OS(t=st(t)))return vy("Unsupported field value:",e,t),DS(t,e);if(t instanceof gh)return function(r,s){if(!NS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=dc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ke.fromDate(r);return{timestampValue:gd(s.serializer,i)}}if(r instanceof ke){const i=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gd(s.serializer,i)}}if(r instanceof ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dn)return{bytesValue:eS(s.serializer,r._byteString)};if(r instanceof Ye){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ty(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof or)return function(o,a){return{mapValue:{fields:{[CI]:{stringValue:RI},[fd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Xg(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${nh(r)}`)}(t,e)}function DS(t,e){const n={};return xI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,s)=>{const i=dc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function OS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof ir||t instanceof dn||t instanceof Ye||t instanceof gh||t instanceof or)}function vy(t,e,n){if(!OS(n)||!_I(n)){const r=nh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function um(t,e,n){if((e=st(e))instanceof mh)return e._internalPath;if(typeof e=="string")return wy(t,e);throw _d("Field path arguments must be of type string or ",t,!1,void 0,n)}const $4=new RegExp("[~\\*/\\[\\]]");function wy(t,e,n){if(e.search($4)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mh(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _d(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new K(U.INVALID_ARGUMENT,a+t+c)}function MS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B4 extends LS{data(){return super.data()}}function _y(t,e){return typeof e=="string"?wy(t,e):e instanceof mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ey{}class VS extends Ey{}function dm(t,e,...n){let r=[];e instanceof Ey&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Ty).length,a=i.filter(c=>c instanceof xy).length;if(o>1||o>0&&a>0)throw new K(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class xy extends VS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xy(e,n,r)}_apply(e){const n=this._parse(e);return jS(e._query,n),new $i(e.firestore,e.converter,Zp(e._query,n))}_parse(e){const n=gy(e.firestore);return function(i,o,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){S_(f,d);const b=[];for(const _ of f)b.push(I_(c,i,_));m={arrayValue:{values:b}}}else m=I_(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||S_(f,d),m=z4(a,o,f,d==="in"||d==="not-in");return Ke.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Ty extends Ey{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ty(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)jS(o,c),o=Zp(o,c)}(e._query,n),new $i(e.firestore,e.converter,Zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Iy extends VS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Iy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ul(i,o)}(e._query,this._field,this._direction);return new $i(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new da(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function hm(t,e="asc"){const n=e,r=_y("orderBy",t);return Iy._create(r,n)}function I_(t,e,n){if(typeof(n=st(n))=="string"){if(n==="")throw new K(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jI(e)&&n.indexOf("/")!==-1)throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(be.fromString(n));if(!ee.isDocumentKey(r))throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F0(t,new ee(r))}if(n instanceof Ye)return F0(t,n._key);throw new K(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(n)}.`)}function S_(t,e){if(!Array.isArray(t)||t.length===0)throw new K(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jS(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class H4{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ks(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[fd].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Be(o.doubleValue));return new or(n)}convertGeoPoint(e){return new ir(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ih(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=js(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);xe(oS(r),9688,{name:e});const s=new jl(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ti extends LS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ti._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:Qe("string",Ti._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Au extends Ti{data(e={}){return super.data(e)}}class Io{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ka(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Au(this._firestore,this._userDataWriter,r.key,r,new Ka(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Au(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ka(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Au(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ka(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:G4(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function G4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:t})}}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:Qe("string",Io._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class FS extends H4{constructor(e){super(),this.firestore=e}convertBytes(e){return new dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function b_(t,e,n,...r){t=Ps(t,Ye);const s=Ps(t.firestore,Zo),i=gy(s);let o;return o=typeof(e=st(e))=="string"||e instanceof mh?U4(i,"updateDoc",t._key,e,n,r):F4(i,"updateDoc",t._key,e),Sy(s,[o.toMutation(t._key,kn.exists(!0))])}function K4(t){return Sy(Ps(t.firestore,Zo),[new Jg(t._key,kn.none())])}function fm(t,e){const n=Ps(t.firestore,Zo),r=bu(t),s=q4(t.converter,e);return Sy(n,[j4(gy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function pm(t,...e){var c,u,d;t=st(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||T_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(T_(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,o,a;if(t instanceof Ye)o=Ps(t.firestore,Zo),a=Yg(t._key.path),i={next:f=>{e[r]&&e[r](Q4(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Ps(t,$i);o=Ps(f.firestore,Zo),a=f._query;const m=new FS(o);i={next:p=>{e[r]&&e[r](new Io(o,m,f,p))},error:e[r+1],complete:e[r+2]},W4(t._query)}return function(m,p,b,_){const E=new C4(_),w=new c4(p,E,b);return m.asyncQueue.enqueueAndForget(async()=>i4(await g_(m),w)),()=>{E.Nu(),m.asyncQueue.enqueueAndForget(async()=>o4(await g_(m),w))}}(RS(o),a,s,i)}function Sy(t,e){return function(r,s){const i=new xi;return r.asyncQueue.enqueueAndForget(async()=>w4(await k4(r),s,i)),i.promise}(RS(t),e)}function Q4(t,e,n){const r=n.docs.get(e._key),s=new FS(t);return new Ti(t,s,e._key,r,new Ka(n.hasPendingWrites,n.fromCache),e.converter)}function mm(){return new yy("serverTimestamp")}(function(e,n=!0){(function(s){la=s})(aa),qo(new ki("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Zo(new VM(r.getProvider("auth-internal")),new UM(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),As(b0,A0,e),As(b0,A0,"esm2020")})();function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y4=US,zS=new sc("auth","Firebase",US());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Ug("@firebase/auth");function X4(t,...e){Ed.logLevel<=pe.WARN&&Ed.warn(`Auth (${aa}): ${t}`,...e)}function Cu(t,...e){Ed.logLevel<=pe.ERROR&&Ed.error(`Auth (${aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw by(t,...e)}function ar(t,...e){return by(t,...e)}function $S(t,e,n){const r={...Y4(),[e]:n};return new sc("auth","Firebase",r).create(e,{appName:t.name})}function br(t){return $S(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function by(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zS.create(t,...e)}function re(t,e,...n){if(!t)throw by(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cu(e),new Error(e)}function Lr(t,e){t||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function J4(){return A_()==="http:"||A_()==="https:"}function A_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J4()||pO()||"connection"in navigator)?navigator.onLine:!0}function ej(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=dO()||mO()}get(){return Z4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rj=new hc(3e4,6e4);function Ys(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xs(t,e,n,r,s={}){return WS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ic({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return fO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&oa(t.emulatorConfig.host)&&(u.credentials="include"),BS.fetch()(await HS(t,t.config.apiHost,n,a),u)})}async function WS(t,e,n){t._canInitEmulator=!1;const r={...tj,...e};try{const s=new ij(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw su(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw su(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw su(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw su(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw $S(t,d,u);Vn(t,d)}}catch(s){if(s instanceof jr)throw s;Vn(t,"network-request-failed",{message:String(s)})}}async function fc(t,e,n,r,s={}){const i=await Xs(t,e,n,r,s);return"mfaPendingCredential"in i&&Vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function HS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ay(t.config,s):`${t.config.apiScheme}://${s}`;return nj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function sj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),rj.get())})}}function su(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ar(t,e,r);return s.customData._tokenResponse=n,s}function C_(t){return t!==void 0&&t.enterprise!==void 0}class oj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aj(t,e){return Xs(t,"GET","/v2/recaptchaConfig",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Xs(t,"POST","/v1/accounts:delete",e)}async function xd(t,e){return Xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cj(t,e=!1){const n=st(t),r=await n.getIdToken(e),s=Cy(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:dl(Pf(s.auth_time)),issuedAtTime:dl(Pf(s.iat)),expirationTime:dl(Pf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pf(t){return Number(t)*1e3}function Cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cu("JWT malformed, contained fewer than 3 sections"),null;try{const s=ZT(n);return s?JSON.parse(s):(Cu("Failed to decode base64 JWT payload"),null)}catch(s){return Cu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P_(t){const e=Cy(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jr&&uj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Wl(t,xd(e,{idToken:n}));re(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?qS(s.providerUserInfo):[],o=fj(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ym(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function hj(t){const e=st(t);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function qS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){const n=await WS(t,{},async()=>{const r=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await HS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&oa(t.emulatorConfig.host)&&(c.credentials="include"),BS.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mj(t,e){return Xs(t,"POST","/v2/accounts:revokeToken",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=P_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await pj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new So;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new dj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ym(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cj(this,e)}reload(){return hj(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Wl(this,lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:b,stsTokenManager:_}=n;re(f&&_,e,"internal-error");const E=So.fromJSON(this.name,_);re(typeof f=="string",e,"internal-error"),Xr(r,e.name),Xr(s,e.name),re(typeof m=="boolean",e,"internal-error"),re(typeof p=="boolean",e,"internal-error"),Xr(i,e.name),Xr(o,e.name),Xr(a,e.name),Xr(c,e.name),Xr(u,e.name),Xr(d,e.name);const w=new Cn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:d});return b&&Array.isArray(b)&&(w.providerData=b.map(v=>({...v}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new So;s.updateFromServerResponse(n);const i=new Cn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Td(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?qS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new So;a.updateFromIdToken(r);const c=new Cn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ym(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Ir(t){Lr(t instanceof Function,"Expected a class definition");let e=R_.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GS.type="NONE";const k_=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t,e,n){return`firebase:${t}:${e}:${n}`}class bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Pu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Pu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xd(this.auth,{idToken:e}).catch(()=>{});return n?Cn._fromGetAccountInfoResponse(this.auth,n,e):null}return Cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bo(Ir(k_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ir(k_);const o=Pu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const m=await xd(e,{idToken:d}).catch(()=>{});if(!m)break;f=await Cn._fromGetAccountInfoResponse(e,m,d)}else f=Cn._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new bo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new bo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZS(e))return"Blackberry";if(eb(e))return"Webos";if(QS(e))return"Safari";if((e.includes("chrome/")||YS(e))&&!e.includes("edge/"))return"Chrome";if(JS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KS(t=At()){return/firefox\//i.test(t)}function QS(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YS(t=At()){return/crios\//i.test(t)}function XS(t=At()){return/iemobile/i.test(t)}function JS(t=At()){return/android/i.test(t)}function ZS(t=At()){return/blackberry/i.test(t)}function eb(t=At()){return/webos/i.test(t)}function Py(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gj(t=At()){var e;return Py(t)&&!!((e=window.navigator)!=null&&e.standalone)}function yj(){return gO()&&document.documentMode===10}function tb(t=At()){return Py(t)||JS(t)||eb(t)||ZS(t)||/windows phone/i.test(t)||XS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e=[]){let n;switch(t){case"Browser":n=N_(At());break;case"Worker":n=`${N_(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e={}){return Xs(t,"GET","/v2/passwordPolicy",Ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=6;class Ej{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_j,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new vj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xd(this,{idToken:e}),r=await Cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ej()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(br(this));const n=e?st(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wj(this),n=new Ej(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&X4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bi(t){return st(t)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=IO(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tj(t){vh=t}function rb(t){return vh.loadJS(t)}function Ij(){return vh.recaptchaEnterpriseScript}function Sj(){return vh.gapiScript}function bj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Aj{constructor(){this.enterprise=new Cj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Cj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Pj="recaptcha-enterprise",sb="NO_RECAPTCHA";class Rj{constructor(e){this.type=Pj,this.auth=Bi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{aj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new oj(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;C_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(sb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Aj().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&C_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Ij();c.length!==0&&(c+=a),rb(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function O_(t,e,n,r=!1,s=!1){const i=new Rj(t);let o;if(s)o=sb;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function M_(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await O_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await O_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t,e){const n=$g(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ri(i,e??{}))return s;Vn(s,"already-initialized")}return n.initialize({options:e})}function Nj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Dj(t,e,n){const r=Bi(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=ib(e),{host:o,port:a}=Oj(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Ri(u,r.config.emulator)&&Ri(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,oa(o)?(rI(`${i}//${o}${c}`),sI("Auth",!0)):Mj()}function ib(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Oj(t){const e=ib(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:L_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:L_(o)}}}function L_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function Lj(t,e){return Xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){return fc(t,"POST","/v1/accounts:signInWithPassword",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}async function Fj(t,e){return fc(t,"POST","/v1/accounts:signInWithEmailLink",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Ry{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Hl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M_(e,n,"signInWithPassword",Vj);case"emailLink":return jj(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M_(e,r,"signUpPassword",Lj);case"emailLink":return Fj(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return fc(t,"POST","/v1/accounts:signInWithIdp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="http://localhost";class Oi extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Oi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:Uj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ic(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $j(t){const e=Ba(Wa(t)).link,n=e?Ba(Wa(e)).deep_link_id:null,r=Ba(Wa(t)).deep_link_id;return(r?Ba(Wa(r)).link:null)||r||n||e||t}class ky{constructor(e){const n=Ba(Wa(e)),r=n.apiKey??null,s=n.oobCode??null,i=zj(n.mode??null);re(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=$j(e);try{return new ky(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,n){return Hl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ky.parseLink(n);return re(r,"argument-error"),Hl._fromEmailAndCode(e,r.code,r.tenantId)}}fa.PROVIDER_ID="password";fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends pc{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends pc{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends pc{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e){return fc(t,"POST","/v1/accounts:signUp",Ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Cn._fromIdTokenResponse(e,r,s),o=V_(r);return new Bs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=V_(r);return new Bs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function V_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(t){var s;if(un(t.app))return Promise.reject(br(t));const e=Bi(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Bs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await Bj(e,{returnSecureToken:!0}),r=await Bs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends jr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Id(e,n,r,s)}}function ab(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Id._fromErrorAndOperation(t,i,e,r):i})}async function Wj(t,e,n=!1){const r=await Wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(t,e,n=!1){const{auth:r}=t;if(un(r.app))return Promise.reject(br(r));const s="reauthenticate";try{const i=await Wl(t,ab(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Cy(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Bs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lb(t,e,n=!1){if(un(t.app))return Promise.reject(br(t));const r="signIn",s=await ab(t,r,e),i=await Bs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function qj(t,e){return lb(Bi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t){const e=Bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Kj(t,e,n){return un(t.app)?Promise.reject(br(t)):qj(st(t),fa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gj(t),r})}function Qj(t,e,n,r){return st(t).onIdTokenChanged(e,n,r)}function Yj(t,e,n){return st(t).beforeAuthStateChanged(e,n)}function Ny(t,e,n,r){return st(t).onAuthStateChanged(e,n,r)}function cb(t){return st(t).signOut()}const Sd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1e3,Jj=10;class db extends ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);yj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Jj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}db.type="LOCAL";const Zj=db;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hb.type="SESSION";const fb=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await eF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Dy("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function nF(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function rF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function iF(){return pb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="firebaseLocalStorageDb",oF=1,bd="firebaseLocalStorage",gb="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(t,e){return t.transaction([bd],e?"readwrite":"readonly").objectStore(bd)}function aF(){const t=indexedDB.deleteDatabase(mb);return new mc(t).toPromise()}function wm(){const t=indexedDB.open(mb,oF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bd,{keyPath:gb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bd)?e(r):(r.close(),await aF(),e(await wm()))})})}async function j_(t,e,n){const r=_h(t,!0).put({[gb]:e,value:n});return new mc(r).toPromise()}async function lF(t,e){const n=_h(t,!1).get(e),r=await new mc(n).toPromise();return r===void 0?null:r.value}function F_(t,e){const n=_h(t,!0).delete(e);return new mc(n).toPromise()}const cF=800,uF=3;class yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(iF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await rF(),!this.activeServiceWorker)return;this.sender=new tF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await j_(e,Sd,"1"),await F_(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_h(s,!1).getAll();return new mc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yb.type="LOCAL";const dF=yb;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t,e){return e?Ir(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fF(t){return lb(t.auth,new Oy(t),t.bypassAuthState)}function pF(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),Hj(n,new Oy(t),t.bypassAuthState)}async function mF(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),Wj(n,new Oy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fF;case"linkViaPopup":case"linkViaRedirect":return mF;case"reauthViaPopup":case"reauthViaRedirect":return pF;default:Vn(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=new hc(2e3,1e4);class fo extends vb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gF.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="pendingRedirect",Ru=new Map;class vF extends vb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ru.get(this.auth._key());if(!e){try{const r=await wF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ru.set(this.auth._key(),e)}return this.bypassAuthState||Ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wF(t,e){const n=xF(e),r=EF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function _F(t,e){Ru.set(t._key(),e)}function EF(t){return Ir(t._redirectPersistence)}function xF(t){return Pu(yF,t.config.apiKey,t.name)}async function TF(t,e,n=!1){if(un(t.app))return Promise.reject(br(t));const r=Bi(t),s=hF(r,e),o=await new vF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=10*60*1e3;class SF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wb(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IF&&this.cachedEventUids.clear(),this.cachedEventUids.has(U_(e))}saveEventToCache(e){this.cachedEventUids.add(U_(e)),this.lastProcessedEventTime=Date.now()}}function U_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AF(t,e={}){return Xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PF=/^https?/;async function RF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AF(t);for(const n of e)try{if(kF(n))return}catch{}Vn(t,"unauthorized-domain")}function kF(t){const e=gm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PF.test(n))return!1;if(CF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=new hc(3e4,6e4);function z_(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DF(t){return new Promise((e,n)=>{var s,i,o;function r(){z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z_(),n(ar(t,"network-request-failed"))},timeout:NF.get()})}if((i=(s=lr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=lr().gapi)!=null&&o.load)r();else{const a=bj("iframefcb");return lr()[a]=()=>{gapi.load?r():n(ar(t,"network-request-failed"))},rb(`${Sj()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ku=null,e})}let ku=null;function OF(t){return ku=ku||DF(t),ku}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=new hc(5e3,15e3),LF="__/auth/iframe",VF="emulator/auth/iframe",jF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UF(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ay(e,VF):`https://${t.config.authDomain}/${LF}`,r={apiKey:e.apiKey,appName:t.name,v:aa},s=FF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ic(r).slice(1)}`}async function zF(t){const e=await OF(t),n=lr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:UF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ar(t,"network-request-failed"),a=lr().setTimeout(()=>{i(o)},MF.get());function c(){lr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BF=500,WF=600,HF="_blank",qF="http://localhost";class $_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GF(t,e,n,r=BF,s=WF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...$F,width:r.toString(),height:s.toString(),top:i,left:o},u=At().toLowerCase();n&&(a=YS(u)?HF:n),KS(u)&&(e=e||qF,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,b])=>`${m}${p}=${b},`,"");if(gj(u)&&a!=="_self")return KF(e||"",a),new $_(null);const f=window.open(e||"",a,d);re(f,t,"popup-blocked");try{f.focus()}catch{}return new $_(f)}function KF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF="__/auth/handler",YF="emulator/auth/handler",XF=encodeURIComponent("fac");async function B_(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:aa,eventId:s};if(e instanceof ob){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof pc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${XF}=${encodeURIComponent(c)}`:"";return`${JF(t)}?${ic(a).slice(1)}${u}`}function JF({config:t}){return t.emulator?Ay(t,YF):`https://${t.authDomain}/${QF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class ZF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fb,this._completeRedirectFn=TF,this._overrideRedirectResult=_F}async _openPopup(e,n,r,s){var o;Lr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await B_(e,n,r,gm(),s);return GF(e,i,Dy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await B_(e,n,r,gm(),s);return nF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Lr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await zF(e),r=new SF(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rf,{type:Rf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Rf];i!==void 0&&n(!!i),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tb()||QS()||Py()}}const e3=ZF;var W_="@firebase/auth",H_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r3(t){qo(new ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nb(t)},u=new xj(r,s,i,c);return Nj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new ki("auth-internal",e=>{const n=Bi(e.getProvider("auth").getImmediate());return(r=>new t3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(W_,H_,n3(t)),As(W_,H_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=5*60,i3=nI("authIdTokenMaxAge")||s3;let q_=null;const o3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>i3)return;const s=n==null?void 0:n.token;q_!==s&&(q_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function a3(t=lI()){const e=$g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kj(t,{popupRedirectResolver:e3,persistence:[dF,Zj,fb]}),r=nI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=o3(i.toString());Yj(n,o,()=>o(n.currentUser)),Qj(n,a=>o(a))}}const s=eI("auth");return s&&Dj(n,`http://${s}`),n}function l3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Tj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ar("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",l3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r3("Browser");var c3="firebase",u3="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(c3,u3,"app");const _m={apiKey:"AIzaSyAA76KwXiz1415R0Ogr-BiqhOV29Rwpolc",authDomain:"ai-art-prompt-bc87f.firebaseapp.com",projectId:"ai-art-prompt-bc87f",storageBucket:"ai-art-prompt-bc87f.firebasestorage.app",messagingSenderId:"778571230462",appId:"1:778571230462:web:72438c4a008b7c4bbbc9af"},Em={cloudName:"dop0p5gir",uploadPreset:"prompt_art"},Qa=_m.apiKey!==""&&Em.cloudName!=="";let kf,bn,Ut;_m.apiKey!==""&&(kf=aI(_m),bn=D4(kf),Ut=a3(kf));const _b=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",Em.uploadPreset);const n=await fetch(`https://api.cloudinary.com/v1_1/${Em.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok)throw new Error("Cloudinary upload failed");return(await n.json()).secure_url},xm=({message:t,type:e="success"})=>y.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 text-white transform transition-all duration-300 z-50 ${e==="success"?"bg-emerald-600":"bg-destructive"}`,children:[e==="success"?y.jsx(xg,{size:18}):y.jsx(qd,{size:18}),y.jsx("span",{className:"font-medium",children:t})]}),My=({isOpen:t,onClose:e,title:n,children:r})=>t?y.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:y.jsxs("div",{className:"bg-card border border-border rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[y.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-border sticky top-0 bg-card z-10",children:[y.jsx("h2",{className:"text-xl font-bold text-foreground",children:n}),y.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:y.jsx(qd,{size:24})})]}),y.jsx("div",{className:"p-6",children:r})]})}):null,Eb=({isOpen:t,onClose:e,onUpload:n,isConfigured:r})=>{const[s,i]=C.useState({image:null,prompt:"",description:"",model:"Gemini 2.5 Flash Image (Nano Banana)",uploaderName:"",uploaderEmail:""}),[o,a]=C.useState(!1),c=async u=>{if(u.preventDefault(),!(!s.image||!s.prompt||!s.uploaderName||!s.uploaderEmail)){a(!0);try{await n(s),e(),i({image:null,prompt:"",description:"",model:"Gemini 2.5 Flash Image (Nano Banana)",uploaderName:"",uploaderEmail:""})}catch(d){console.error(d)}finally{a(!1)}}};return y.jsxs(My,{isOpen:t,onClose:e,title:"Upload New Artwork",children:[!r&&y.jsxs("div",{className:"mb-4 p-3 bg-amber-500/10 border border-amber-500/50 rounded text-amber-200 text-sm",children:[y.jsx("strong",{children:"Warning:"})," Missing keys. Please set Firebase AND Cloudinary config."]}),y.jsxs("form",{onSubmit:c,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Image File"}),y.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors bg-background",children:s.image?y.jsxs("div",{className:"text-primary flex items-center justify-center gap-2",children:[y.jsx(xg,{size:18})," ",s.image.name]}):y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",accept:"image/*",onChange:u=>{var d;return i({...s,image:((d=u.target.files)==null?void 0:d[0])||null})},className:"hidden",id:"file-upload"}),y.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2 text-muted-foreground hover:text-foreground",children:[y.jsx(Tg,{size:24}),y.jsx("span",{children:"Click to select image"})]})]})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Your Name"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.uploaderName,onChange:u=>i({...s,uploaderName:u.target.value}),placeholder:"John Doe"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Your Email"}),y.jsx("input",{type:"email",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.uploaderEmail,onChange:u=>i({...s,uploaderEmail:u.target.value}),placeholder:"john@example.com"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Title / Description"}),y.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.description,onChange:u=>i({...s,description:u.target.value}),placeholder:"e.g. Cyberpunk Cityscape"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"AI Model Used"}),y.jsxs("select",{className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.model,onChange:u=>i({...s,model:u.target.value}),children:[y.jsx("option",{children:"Midjourney v6"}),y.jsx("option",{children:"Gemini 2.5 Flash Image (Nano Banana)"}),y.jsx("option",{children:"DALL-E 3"}),y.jsx("option",{children:"Stable Diffusion XL"}),y.jsx("option",{children:"Leonardo AI"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Prompt"}),y.jsx("textarea",{required:!0,rows:4,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none font-mono text-sm text-foreground",value:s.prompt,onChange:u=>i({...s,prompt:u.target.value}),placeholder:"Enter the exact prompt used..."})]}),y.jsxs("button",{type:"submit",disabled:o,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-medium transition-colors flex justify-center items-center gap-2",children:[o?y.jsx(Bo,{className:"animate-spin"}):y.jsx(yR,{size:18}),o?"Uploading to Cloudinary...":"Publish Artwork"]})]})]})},d3=({artwork:t,onCopy:e,onClick:n})=>{var r;return y.jsxs("div",{className:"group relative bg-card rounded-xl overflow-hidden border border-border hover:border-primary/50 transition-all duration-300 hover:shadow-2xl hover:shadow-primary/10 flex flex-col",children:[y.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden cursor-pointer",onClick:n,children:[y.jsx("img",{src:t.imageUrl,alt:t.description,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),y.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-4 group-hover:translate-y-0 transition-transform duration-300 opacity-0 group-hover:opacity-100",children:y.jsx("div",{className:"flex justify-between items-end",children:y.jsx("span",{className:"bg-primary/90 text-primary-foreground text-xs px-2 py-1 rounded backdrop-blur-sm",children:t.model})})})]}),y.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[y.jsx("h3",{className:"font-semibold text-foreground truncate mb-1",title:t.description,children:t.description||"Untitled Artwork"}),y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[y.jsx(mR,{size:12}),(r=t.createdAt)!=null&&r.seconds?new Date(t.createdAt.seconds*1e3).toLocaleDateString():"Just now"]}),t.uploaderName&&y.jsxs("p",{className:"text-xs text-primary font-medium",children:["by ",t.uploaderName]})]}),y.jsxs("div",{className:"mt-auto bg-background rounded-lg p-3 border border-border group-hover:border-primary/30 transition-colors",children:[y.jsxs("p",{className:"text-muted-foreground text-xs line-clamp-3 font-mono mb-3 select-none",children:[t.prompt.split(" ").slice(0,2).join(" "),"..."]}),y.jsxs("button",{onClick:()=>e(t.prompt),className:"w-full flex items-center justify-center gap-2 bg-secondary hover:bg-primary hover:text-primary-foreground text-secondary-foreground text-xs py-2 rounded-md transition-all font-medium",children:[y.jsx(vR,{size:14}),"Copy Prompt"]})]})]})]})},h3=["gmail.com","icloud.com"],f3=({isOpen:t,onClose:e,onSubmit:n})=>{const[r,s]=C.useState(""),[i,o]=C.useState(""),[a,c]=C.useState(!1),u=f=>{var b;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f))return o("Please enter a valid email address"),!1;const p=(b=f.split("@")[1])==null?void 0:b.toLowerCase();return h3.includes(p)?!0:(o("Only @gmail.com and @icloud.com emails are allowed"),!1)},d=async f=>{if(f.preventDefault(),o(""),!!u(r)){c(!0);try{await n(r.toLowerCase().trim()),s(""),e()}catch(m){o(m.message||"Failed to submit email")}finally{c(!1)}}};return y.jsxs(My,{isOpen:t,onClose:e,title:"Access Prompt",children:[y.jsxs("div",{className:"text-center mb-6",children:[y.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(wu,{className:"text-primary",size:24})}),y.jsx("p",{className:"text-muted-foreground",children:"To copy prompts, please provide your email address. This is a one-time requirement for this session."})]}),y.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i&&y.jsx("div",{className:"p-3 bg-destructive/20 border border-destructive/50 text-destructive text-sm rounded-lg",children:i}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),y.jsx("input",{type:"email",required:!0,value:r,onChange:f=>s(f.target.value),placeholder:"your.email@gmail.com",className:"w-full bg-background border border-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-ring outline-none text-foreground",disabled:a}),y.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Only @gmail.com and @icloud.com addresses are accepted"})]}),y.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:a?y.jsxs(y.Fragment,{children:[y.jsx(Bo,{className:"animate-spin",size:18}),"Submitting..."]}):"Continue"})]})]})},p3=[{id:"1",imageUrl:"https://images.unsplash.com/photo-1675271591211-6029fe4066d1?q=80&w=800&auto=format&fit=crop",prompt:"Cyberpunk city street at night, neon lights reflecting on wet pavement",model:"Midjourney v6",description:"Neo-Tokyo night drive",createdAt:{seconds:1709251200}},{id:"2",imageUrl:"https://images.unsplash.com/photo-1655720828018-edd2daec9349?q=80&w=800&auto=format&fit=crop",prompt:"A cute robot gardener watering plants in a greenhouse",model:"DALL-E 3",description:"Eco-bot 3000",createdAt:{seconds:1709164800}}],m3=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(null),[o,a]=C.useState(!1),[c,u]=C.useState(null),{searchTerm:d}=ID(),[f,m]=C.useState("All"),[p,b]=C.useState("newest"),[_,E]=C.useState(!1),[w,v]=C.useState(null),[T,D]=C.useState(()=>sessionStorage.getItem("promptAccessGranted")==="true");C.useEffect(()=>{const x=z=>{if(z.key==="F12"||z.ctrlKey&&z.shiftKey&&(z.key==="I"||z.key==="J"||z.key==="C")||z.ctrlKey&&z.key==="U")return z.preventDefault(),!1},P=z=>(z.preventDefault(),!1);document.addEventListener("keydown",x),document.addEventListener("contextmenu",P);const R=setInterval(()=>{(window.outerWidth-window.innerWidth>160||window.outerHeight-window.innerHeight>160)&&(document.body.innerHTML="")},1e3);return()=>{document.removeEventListener("keydown",x),document.removeEventListener("contextmenu",P),clearInterval(R)}},[]),C.useEffect(()=>{if(!Qa){e(p3),r(!1);return}(async()=>{try{Ut.currentUser||await vm(Ut)}catch(Y){console.error("Auth error:",Y),(Y.code==="auth/configuration-not-found"||Y.code==="auth/operation-not-allowed")&&i({message:"SETUP REQUIRED: Enable 'Anonymous' Sign-in in Firebase Console",type:"error"})}})();const P=Ny(Ut,Y=>{u(Y)}),R=dm(To(bn,"artworks"),hm("createdAt","desc")),z=pm(R,Y=>{const J=Y.docs.map(te=>({id:te.id,...te.data()}));e(J),r(!1)},Y=>{console.error("Data fetch error:",Y),i({message:"Error connecting to database",type:"error"}),r(!1)});return()=>{P(),z()}},[]);const O=(x,P="success")=>{i({message:x,type:P}),setTimeout(()=>i(null),3e3)},L=x=>{if(!T){v(x),E(!0);return}if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(x).then(()=>{O("Prompt copied!")}).catch(()=>{O("Failed to copy","error")});else{const P=document.createElement("textarea");P.value=x,document.body.appendChild(P),P.select();try{document.execCommand("copy"),O("Prompt copied!")}catch{O("Failed to copy","error")}document.body.removeChild(P)}},S=async x=>{if(!Qa){O("Firebase not configured","error");return}try{await fm(To(bn,"prompt_access_emails"),{email:x,submittedAt:mm(),userAgent:navigator.userAgent}),sessionStorage.setItem("promptAccessGranted","true"),D(!0),w&&(L(w),v(null)),O("Email submitted successfully!")}catch(P){throw console.error("Email submission error:",P),new Error("Failed to submit email. Please try again.")}},I=async x=>{if(!x.image||!x.prompt){O("Image and Prompt are required","error");return}if(!Qa){O("Configure API keys first","error");return}try{const P=await _b(x.image);await fm(To(bn,"artworks"),{imageUrl:P,prompt:x.prompt,description:x.description,model:x.model,createdAt:mm(),uploaderId:c?c.uid:"anon",uploaderName:x.uploaderName,uploaderEmail:x.uploaderEmail,status:"pending"}),O("Artwork submitted for approval!")}catch(P){throw console.error(P),O("Upload failed: "+P.message,"error"),P}},k=C.useMemo(()=>{let x=[...t];if(x=x.filter(P=>!P.status||P.status==="approved"),d){const P=d.toLowerCase();x=x.filter(R=>R.prompt.toLowerCase().includes(P)||R.description.toLowerCase().includes(P)||R.model.toLowerCase().includes(P))}return f!=="All"&&(x=x.filter(P=>P.model===f)),p==="oldest"?x.sort((P,R)=>{var z,Y;return((z=P.createdAt)==null?void 0:z.seconds)-((Y=R.createdAt)==null?void 0:Y.seconds)}):x.sort((P,R)=>{var z,Y;return((z=R.createdAt)==null?void 0:z.seconds)-((Y=P.createdAt)==null?void 0:Y.seconds)}),x},[t,d,f,p]),N=["All",...new Set(t.map(x=>x.model))];return y.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[y.jsx(Eb,{isOpen:o,onClose:()=>a(!1),onUpload:I,isConfigured:Qa}),y.jsx(f3,{isOpen:_,onClose:()=>{E(!1),v(null)},onSubmit:S}),s&&y.jsx(xm,{message:s.message,type:s.type}),y.jsx("div",{className:"relative bg-gradient-to-b from-card to-background border-b border-border",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8 text-center",children:[y.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-6",children:["Discover the Art of"," ",y.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-accent",children:"Prompt Engineering"})]}),y.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"A curated collection of AI-generated imagery and the exact prompts used to create them. Explore, learn, and create."}),y.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-3 rounded-full font-medium transition-all shadow-lg",children:[y.jsx(Tg,{size:18}),"Upload Your Artwork"]})]})}),y.jsx("div",{className:"border-b border-border bg-background",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto w-full sm:w-auto pb-2 sm:pb-0 no-scrollbar",children:[y.jsx(ER,{size:16,className:"text-muted-foreground mr-2 flex-shrink-0"}),N.map(x=>y.jsx("button",{onClick:()=>m(x),className:`px - 4 py - 1.5 rounded - full text - sm whitespace - nowrap transition - colors ${f===x?"bg-primary text-primary-foreground font-medium":"bg-card text-muted-foreground hover:text-foreground hover:bg-muted"} `,children:x},x))]}),y.jsxs("select",{value:p,onChange:x=>b(x.target.value),className:"bg-card border-none text-foreground text-sm rounded-lg focus:ring-2 focus:ring-ring block w-full sm:w-auto p-2.5 cursor-pointer",children:[y.jsx("option",{value:"newest",children:"Newest First"}),y.jsx("option",{value:"oldest",children:"Oldest First"})]})]})}),y.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n?y.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[y.jsx(Bo,{className:"animate-spin mb-4",size:40}),y.jsx("p",{children:"Loading library..."})]}):k.length===0?y.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[y.jsx(Pp,{size:48,className:"mx-auto mb-4 opacity-50"}),y.jsx("p",{className:"text-xl font-medium",children:"No artworks found"}),y.jsx("p",{children:"Try adjusting your search or filters"})]}):y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map(x=>y.jsx(d3,{artwork:x,onCopy:L,onClick:()=>{}},x.id))})})]})},G_=({isOpen:t,onClose:e,onLogin:n})=>{const[r,s]=C.useState(""),[i,o]=C.useState(""),[a,c]=C.useState(""),[u,d]=C.useState(!1),f=async m=>{m.preventDefault(),c(""),d(!0);try{await n(r,i),e()}catch{c("Invalid email or password")}finally{d(!1)}};return y.jsx(My,{isOpen:t,onClose:e,title:"Admin Login",children:y.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a&&y.jsx("div",{className:"p-3 bg-destructive/20 border border-destructive/50 text-destructive-foreground text-sm rounded",children:a}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Email"}),y.jsx("input",{type:"email",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:r,onChange:m=>s(m.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Password"}),y.jsx("input",{type:"password",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:i,onChange:m=>o(m.target.value)})]}),y.jsx("button",{type:"submit",disabled:u,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-2 rounded-lg font-medium transition-colors",children:u?y.jsx(Bo,{className:"animate-spin mx-auto",size:20}):"Login"})]})})},g3=()=>{const t=Fg(),[e,n]=C.useState(null),[r,s]=C.useState([]),[i,o]=C.useState(!0),[a,c]=C.useState(null),[u,d]=C.useState(!1),[f,m]=C.useState(!1),[p,b]=C.useState([]),[_,E]=C.useState(!0),[w,v]=C.useState({totalArtworks:0,totalViews:0,recentUploads:0}),T=!!(e&&!e.isAnonymous);C.useEffect(()=>{const x=Ny(Ut,J=>{n(J),(!J||J.isAnonymous)&&(d(!0),o(!1))});if(!bn){o(!1);return}const P=dm(To(bn,"artworks"),hm("createdAt","desc")),R=pm(P,J=>{const te=J.docs.map(G=>({id:G.id,...G.data()}));s(te);const j=Date.now()/1e3,$=te.filter(G=>{var ie;return((ie=G.createdAt)==null?void 0:ie.seconds)>j-7*24*60*60}).length;v({totalArtworks:te.length,totalViews:te.length*15,recentUploads:$}),o(!1)},J=>{console.error("Data fetch error:",J),o(!1)}),z=dm(To(bn,"prompt_access_emails"),hm("submittedAt","desc")),Y=pm(z,J=>{const te=J.docs.map(j=>({id:j.id,...j.data()}));b(te),E(!1)},J=>{console.error("Email fetch error:",J),E(!1)});return()=>{x(),R(),Y()}},[t]);const D=(x,P="success")=>{c({message:x,type:P}),setTimeout(()=>c(null),3e3)},O=async(x,P)=>{Ut&&(await cb(Ut),await Kj(Ut,x,P),D("Welcome back, Admin!"),d(!1))},L=async x=>{if(window.confirm("Are you sure you want to delete this artwork?"))try{await K4(bu(bn,"artworks",x)),D("Artwork deleted successfully")}catch(P){console.error("Error deleting:",P),D("Failed to delete artwork","error")}},S=async x=>{try{await b_(bu(bn,"artworks",x),{status:"approved"}),D("Artwork approved!")}catch(P){console.error("Error approving:",P),D("Failed to approve artwork","error")}},I=async x=>{if(window.confirm("Are you sure you want to reject this artwork?"))try{await b_(bu(bn,"artworks",x),{status:"rejected"}),D("Artwork rejected")}catch(P){console.error("Error rejecting:",P),D("Failed to reject artwork","error")}},k=async x=>{if(!x.image||!x.prompt){D("Image and Prompt are required","error");return}try{const P=await _b(x.image);await fm(To(bn,"artworks"),{imageUrl:P,prompt:x.prompt,description:x.description,model:x.model,createdAt:mm(),uploaderId:e?e.uid:"anon"}),D("Artwork published!"),m(!1)}catch(P){throw console.error(P),D("Upload failed: "+P.message,"error"),P}},N=()=>{if(p.length===0){D("No emails to export","error");return}const x=[["Email","Submitted At","User Agent"].join(","),...p.map(Y=>{var J;return[Y.email,(J=Y.submittedAt)!=null&&J.seconds?new Date(Y.submittedAt.seconds*1e3).toISOString():"Recent",`"${(Y.userAgent||"N/A").replace(/"/g,'""')}"`].join(",")})].join(`
`),P=new Blob([x],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),z=URL.createObjectURL(P);R.setAttribute("href",z),R.setAttribute("download",`email_submissions_${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R),D("Emails exported successfully!")};return!T&&!i?y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(G_,{isOpen:u,onClose:()=>t("/"),onLogin:O}),a&&y.jsx(xm,{message:a.message,type:a.type}),y.jsx("div",{className:"flex items-center justify-center min-h-screen",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Admin Access Required"}),y.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the admin dashboard."}),y.jsx("button",{onClick:()=>t("/"),className:"bg-muted hover:bg-muted/80 text-foreground px-6 py-2 rounded-lg",children:"Back to Home"})]})})]}):i?y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:y.jsx(Bo,{className:"animate-spin text-primary",size:40})}):y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsx(G_,{isOpen:u,onClose:()=>t("/"),onLogin:O}),a&&y.jsx(xm,{message:a.message,type:a.type}),y.jsx(Eb,{isOpen:f,onClose:()=>m(!1),onUpload:k,isConfigured:!0}),y.jsx("div",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-10",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("button",{onClick:()=>t("/"),className:"text-muted-foreground hover:text-foreground transition-colors",children:y.jsx(pR,{size:24})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Admin Dashboard"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your prompt gallery"})]})]}),y.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:[y.jsx(Tg,{size:18}),"Upload New"]})]})})}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[y.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:y.jsx(Pp,{className:"text-primary",size:24})}),y.jsx(Qc,{className:"text-emerald-400",size:20})]}),y.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:w.totalArtworks}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Artworks"})]}),y.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:y.jsx(_R,{className:"text-primary",size:24})}),y.jsx(Qc,{className:"text-emerald-400",size:20})]}),y.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:w.totalViews}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Views"})]}),y.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:y.jsx(gR,{className:"text-primary",size:24})}),y.jsx(Qc,{className:"text-emerald-400",size:20})]}),y.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:w.recentUploads}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"This Week"})]}),y.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:y.jsx(wu,{className:"text-primary",size:24})}),y.jsx(Qc,{className:"text-emerald-400",size:20})]}),y.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:p.length}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Email Submissions"})]})]}),y.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden mb-8",children:[y.jsxs("div",{className:"p-6 border-b border-border flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[y.jsx(wu,{size:20,className:"text-primary"}),"Email Submissions"]}),y.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Users who submitted emails to access prompts"})]}),y.jsxs("button",{onClick:N,disabled:p.length===0,className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground disabled:cursor-not-allowed text-primary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:[y.jsx(wR,{size:18}),"Export CSV"]})]}),y.jsx("div",{className:"overflow-x-auto",children:_?y.jsx("div",{className:"flex justify-center py-12",children:y.jsx(Bo,{className:"animate-spin text-primary",size:32})}):p.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx(wu,{size:48,className:"mx-auto mb-4 text-muted-foreground opacity-50"}),y.jsx("p",{className:"text-muted-foreground",children:"No email submissions yet"})]}):y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-muted/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Email"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Submitted At"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User Agent"})]})}),y.jsx("tbody",{className:"divide-y divide-border",children:p.map(x=>{var P;return y.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:"font-medium text-foreground",children:x.email})}),y.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:(P=x.submittedAt)!=null&&P.seconds?new Date(x.submittedAt.seconds*1e3).toLocaleString():"Recent"}),y.jsx("td",{className:"px-6 py-4 text-xs text-muted-foreground max-w-xs truncate",children:x.userAgent||"N/A"})]},x.id)})})]})})]}),y.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:[y.jsxs("div",{className:"p-6 border-b border-border",children:[y.jsx("h2",{className:"text-xl font-bold text-foreground",children:"All Artworks"}),y.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage and moderate your gallery content"})]}),y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"w-full",children:[y.jsx("thead",{className:"bg-muted/50",children:y.jsxs("tr",{children:[y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Artwork"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Uploader"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),y.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),y.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"divide-y divide-border",children:r.map(x=>{var P;return y.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:x.imageUrl,alt:x.description,className:"w-16 h-16 rounded-lg object-cover border border-border"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium text-foreground",children:x.description}),y.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 max-w-md",children:x.prompt}),y.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-muted text-muted-foreground mt-1",children:x.model})]})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsxs("div",{className:"text-sm",children:[y.jsx("p",{className:"font-medium text-foreground",children:x.uploaderName||"Anonymous"}),y.jsx("p",{className:"text-xs text-muted-foreground",children:x.uploaderEmail||"No email"})]})}),y.jsx("td",{className:"px-6 py-4",children:y.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.status==="approved"?"bg-green-500/10 text-green-500":x.status==="rejected"?"bg-red-500/10 text-red-500":"bg-yellow-500/10 text-yellow-500"}`,children:x.status||"approved"})}),y.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:(P=x.createdAt)!=null&&P.seconds?new Date(x.createdAt.seconds*1e3).toLocaleDateString():"Just now"}),y.jsx("td",{className:"px-6 py-4 text-right",children:y.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(!x.status||x.status==="pending")&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>S(x.id),className:"p-1 text-green-500 hover:bg-green-500/10 rounded transition-colors",title:"Approve",children:y.jsx(xg,{size:18})}),y.jsx("button",{onClick:()=>I(x.id),className:"p-1 text-red-500 hover:bg-red-500/10 rounded transition-colors",title:"Reject",children:y.jsx(qd,{size:18})})]}),y.jsx("button",{onClick:()=>L(x.id),className:"p-1 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Delete",children:y.jsx(IR,{size:18})})]})})]},x.id)})})]}),r.length===0&&y.jsxs("div",{className:"text-center py-12",children:[y.jsx(Pp,{size:48,className:"mx-auto mb-4 text-muted-foreground opacity-50"}),y.jsx("p",{className:"text-muted-foreground",children:"No artworks yet. Upload your first piece!"})]})]})]})]})]})},y3=()=>{const t=rc();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),y.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),y.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),y.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Ly=({searchTerm:t,setSearchTerm:e,isAdmin:n,handleLogout:r,showSearch:s=!0,showAdminControls:i=!0})=>{const o=Fg();return y.jsx("nav",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex items-center justify-between h-16",children:[y.jsxs(zp,{to:"/",className:"flex items-center gap-2 text-primary hover:opacity-90 transition-opacity",children:[y.jsx(TR,{size:28}),y.jsxs("span",{className:"text-xl font-bold text-foreground tracking-tight",children:["Prompt",y.jsx("span",{className:"text-primary",children:"Gallery"})]})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[s&&e&&y.jsxs("div",{className:"relative group",children:[y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:y.jsx(xR,{size:16,className:"text-muted-foreground"})}),y.jsx("input",{type:"text",placeholder:"Search prompts...",value:t,onChange:a=>e(a.target.value),className:"bg-card border border-border text-sm rounded-full pl-10 pr-4 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-ring transition-all text-foreground"})]}),i&&n&&r&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>o("/admin"),className:"text-xs font-medium px-3 py-1 rounded-full bg-primary/20 border border-primary text-primary hover:bg-primary/30 transition-colors",children:"Admin Panel"}),y.jsx("button",{onClick:r,className:"text-xs font-medium px-3 py-1 rounded-full border bg-primary/20 border-primary text-primary transition-colors",children:"Log Out"})]})]})]})})})},v3=()=>y.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[y.jsx(Ly,{showSearch:!1,showAdminControls:!1}),y.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[y.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Privacy Policy"}),y.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-6",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Introduction"}),y.jsx("p",{className:"text-muted-foreground",children:"Welcome to Prompt Vision Gallery. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Data We Collect"}),y.jsx("p",{className:"text-muted-foreground",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),y.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[y.jsx("li",{children:"Identity Data includes first name, last name, username or similar identifier."}),y.jsx("li",{children:"Contact Data includes email address."}),y.jsx("li",{children:"Technical Data includes internet protocol (IP) address, your login data, browser type and version, time zone setting and location, browser plug-in types and versions, operating system and platform and other technology on the devices you use to access this website."}),y.jsx("li",{children:"Usage Data includes information about how you use our website, products and services."})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. How We Use Your Data"}),y.jsx("p",{className:"text-muted-foreground",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),y.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[y.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),y.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."}),y.jsx("li",{children:"Where we need to comply with a legal or regulatory obligation."})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Data Security"}),y.jsx("p",{className:"text-muted-foreground",children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. In addition, we limit access to your personal data to those employees, agents, contractors and other third parties who have a business need to know."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Contact Us"}),y.jsx("p",{className:"text-muted-foreground",children:"If you have any questions about this privacy policy or our privacy practices, please contact us."})]})]})]})]}),w3=()=>y.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[y.jsx(Ly,{showSearch:!1,showAdminControls:!1}),y.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[y.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Terms of Service"}),y.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-6",children:[y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Agreement to Terms"}),y.jsx("p",{className:"text-muted-foreground",children:"By accessing or using Prompt Vision Gallery, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Use License"}),y.jsx("p",{className:"text-muted-foreground",children:"Permission is granted to temporarily download one copy of the materials (information or software) on Prompt Vision Gallery's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),y.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[y.jsx("li",{children:"modify or copy the materials;"}),y.jsx("li",{children:"use the materials for any commercial purpose, or for any public display (commercial or non-commercial);"}),y.jsx("li",{children:"attempt to decompile or reverse engineer any software contained on Prompt Vision Gallery's website;"}),y.jsx("li",{children:"remove any copyright or other proprietary notations from the materials; or"}),y.jsx("li",{children:'transfer the materials to another person or "mirror" the materials on any other server.'})]})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. User Content"}),y.jsx("p",{className:"text-muted-foreground",children:"You retain all rights in, and are solely responsible for, the User Content you post to Prompt Vision Gallery. By posting User Content, you grant Prompt Vision Gallery a non-exclusive, transferable, sub-licensable, royalty-free, worldwide license to use, copy, modify, create derivative works based upon, distribute, publicly display, and publicly perform your User Content in connection with operating and providing the Service."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Disclaimer"}),y.jsx("p",{className:"text-muted-foreground",children:"The materials on Prompt Vision Gallery's website are provided on an 'as is' basis. Prompt Vision Gallery makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),y.jsxs("section",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Limitations"}),y.jsx("p",{className:"text-muted-foreground",children:"In no event shall Prompt Vision Gallery or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Prompt Vision Gallery's website."})]})]})]})]}),_3=()=>y.jsx("footer",{className:"bg-background border-t py-12 mt-auto",children:y.jsxs("div",{className:"container mx-auto px-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"space-y-4",children:[y.jsxs("span",{className:"text-xl font-bold text-foreground tracking-tight",children:["Prompt",y.jsx("span",{className:"text-primary",children:"Gallery"})]}),y.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover and share amazing AI-generated art prompts."})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium mb-4",children:"Legal"}),y.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[y.jsx("li",{children:y.jsx(zp,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"})}),y.jsx("li",{children:y.jsx(zp,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms of Service"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium mb-4",children:"Credits"}),y.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{children:"Developer:"}),y.jsxs("a",{href:"https://instagram.com/sahilgupta.pvtt",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-foreground transition-colors",children:["Sahil Gupta ",y.jsx(Vw,{className:"h-4 w-4"})]})]}),y.jsxs("li",{className:"flex items-center gap-2",children:[y.jsx("span",{children:"Promoter:"}),y.jsxs("a",{href:"https://instagram.com/bytanmay",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-foreground transition-colors",children:["Tanmay Pandey ",y.jsx(Vw,{className:"h-4 w-4"})]})]})]})]})]}),y.jsx("div",{className:"mt-12 pt-8 border-t text-center text-sm text-muted-foreground",children:y.jsxs("p",{children:[" ",new Date().getFullYear()," PromptGallery. All rights reserved."]})})]})}),E3=()=>{const[t,e]=C.useState(null),[n,r]=C.useState(!0),[s,i]=C.useState(null);C.useEffect(()=>{if(!Qa){r(!1);return}(async()=>{try{Ut.currentUser||await vm(Ut)}catch(u){console.error("Auth error:",u),u.code==="auth/configuration-not-found"||u.code==="auth/operation-not-allowed"?i("SETUP REQUIRED: Enable 'Anonymous' Sign-in in Firebase Console"):i(u.message)}})();const c=Ny(Ut,u=>{e(u),r(!1)});return()=>c()},[]);const o=async()=>{Ut&&(await cb(Ut),await vm(Ut))};return{user:t,loading:n,error:s,isAdmin:!!(t&&!t.isAnonymous),logout:o}},x3=()=>{const[t,e]=C.useState(""),{isAdmin:n,logout:r}=E3();return y.jsxs("div",{className:"flex flex-col min-h-screen",children:[y.jsx(Ly,{searchTerm:t,setSearchTerm:e,isAdmin:n,handleLogout:r}),y.jsx("main",{className:"flex-grow",children:y.jsx(FD,{context:{searchTerm:t,setSearchTerm:e}})}),y.jsx(_3,{})]})},T3=new G2,I3=()=>y.jsx(Q2,{client:T3,children:y.jsxs(T2,{children:[y.jsx(ok,{}),y.jsx(jk,{}),y.jsx(KD,{children:y.jsxs(zD,{children:[y.jsxs(li,{element:y.jsx(x3,{}),children:[y.jsx(li,{path:"/",element:y.jsx(m3,{})}),y.jsx(li,{path:"/privacy",element:y.jsx(v3,{})}),y.jsx(li,{path:"/terms",element:y.jsx(w3,{})})]}),y.jsx(li,{path:"/admin",element:y.jsx(g3,{})}),y.jsx(li,{path:"*",element:y.jsx(y3,{})})]})})]})});yx(document.getElementById("root")).render(y.jsx(I3,{}));
