var _v=t=>{throw TypeError(t)};var Vh=(t,e,n)=>e.has(t)||_v("Cannot "+n);var U=(t,e,n)=>(Vh(t,e,"read from private field"),n?n.call(t):e.get(t)),_e=(t,e,n)=>e.has(t)?_v("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),le=(t,e,n,r)=>(Vh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vt=(t,e,n)=>(Vh(t,e,"access private method"),n);var Dc=(t,e,n,r)=>({set _(s){le(t,e,s,n)},get _(){return U(t,e,r)}});function Bb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function nE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rE={exports:{}},Cd={},sE={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),Wb=Symbol.for("react.portal"),Hb=Symbol.for("react.fragment"),qb=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),Qb=Symbol.for("react.context"),Yb=Symbol.for("react.forward_ref"),Xb=Symbol.for("react.suspense"),Jb=Symbol.for("react.memo"),Zb=Symbol.for("react.lazy"),Ev=Symbol.iterator;function eA(t){return t===null||typeof t!="object"?null:(t=Ev&&t[Ev]||t["@@iterator"],typeof t=="function"?t:null)}var iE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oE=Object.assign,aE={};function ea(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||iE}ea.prototype.isReactComponent={};ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lE(){}lE.prototype=ea.prototype;function Im(t,e,n){this.props=t,this.context=e,this.refs=aE,this.updater=n||iE}var Sm=Im.prototype=new lE;Sm.constructor=Im;oE(Sm,ea.prototype);Sm.isPureReactComponent=!0;var xv=Array.isArray,cE=Object.prototype.hasOwnProperty,bm={current:null},uE={key:!0,ref:!0,__self:!0,__source:!0};function dE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cE.call(e,r)&&!uE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xl,type:t,key:i,ref:o,props:s,_owner:bm.current}}function tA(t,e){return{$$typeof:Xl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Am(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xl}function nA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tv=/\/+/g;function jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nA(""+t.key):e.toString(36)}function lu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xl:case Wb:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+jh(o,0):r,xv(s)?(n="",t!=null&&(n=t.replace(Tv,"$&/")+"/"),lu(s,e,n,"",function(u){return u})):s!=null&&(Am(s)&&(s=tA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Tv,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xv(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+jh(i,a);o+=lu(i,e,n,c,s)}else if(c=eA(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+jh(i,a++),o+=lu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oc(t,e,n){if(t==null)return t;var r=[],s=0;return lu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function rA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},cu={transition:null},sA={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:cu,ReactCurrentOwner:bm};function hE(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:Oc,forEach:function(t,e,n){Oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oc(t,function(){e++}),e},toArray:function(t){return Oc(t,function(e){return e})||[]},only:function(t){if(!Am(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=ea;fe.Fragment=Hb;fe.Profiler=Gb;fe.PureComponent=Im;fe.StrictMode=qb;fe.Suspense=Xb;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sA;fe.act=hE;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=bm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)cE.call(e,c)&&!uE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Xl,type:t.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:Qb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kb,_context:t},t.Consumer=t};fe.createElement=dE;fe.createFactory=function(t){var e=dE.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Yb,render:t}};fe.isValidElement=Am;fe.lazy=function(t){return{$$typeof:Zb,_payload:{_status:-1,_result:t},_init:rA}};fe.memo=function(t,e){return{$$typeof:Jb,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=cu.transition;cu.transition={};try{t()}finally{cu.transition=e}};fe.unstable_act=hE;fe.useCallback=function(t,e){return Dt.current.useCallback(t,e)};fe.useContext=function(t){return Dt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return Dt.current.useEffect(t,e)};fe.useId=function(){return Dt.current.useId()};fe.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return Dt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};fe.useRef=function(t){return Dt.current.useRef(t)};fe.useState=function(t){return Dt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return Dt.current.useTransition()};fe.version="18.3.1";sE.exports=fe;var P=sE.exports;const G=nE(P),fE=Bb({__proto__:null,default:G},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA=P,oA=Symbol.for("react.element"),aA=Symbol.for("react.fragment"),lA=Object.prototype.hasOwnProperty,cA=iA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uA={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lA.call(e,r)&&!uA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:oA,type:t,key:i,ref:o,props:s,_owner:cA.current}}Cd.Fragment=aA;Cd.jsx=pE;Cd.jsxs=pE;rE.exports=Cd;var g=rE.exports,mE={exports:{}},tn={},gE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,F){var Q=V.length;V.push(F);e:for(;0<Q;){var te=Q-1>>>1,ee=V[te];if(0<s(ee,F))V[te]=F,V[Q]=ee,Q=te;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var F=V[0],Q=V.pop();if(Q!==F){V[0]=Q;e:for(var te=0,ee=V.length,de=ee>>>1;te<de;){var ce=2*(te+1)-1,De=V[ce],He=ce+1,ye=V[He];if(0>s(De,Q))He<ee&&0>s(ye,De)?(V[te]=ye,V[He]=Q,te=He):(V[te]=De,V[ce]=Q,te=ce);else if(He<ee&&0>s(ye,Q))V[te]=ye,V[He]=Q,te=He;else break e}}return F}function s(V,F){var Q=V.sortIndex-F.sortIndex;return Q!==0?Q:V.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,S=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=V)r(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=n(u)}}function D(V){if(_=!1,x(V),!S)if(n(c)!==null)S=!0,B(O);else{var F=n(u);F!==null&&J(D,F.startTime-V)}}function O(V,F){S=!1,_&&(_=!1,w(T),T=-1),m=!0;var Q=p;try{for(x(F),f=n(c);f!==null&&(!(f.expirationTime>F)||V&&!A());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var ee=te(f.expirationTime<=F);F=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),x(F)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var ce=n(u);ce!==null&&J(D,ce.startTime-F),de=!1}return de}finally{f=null,p=Q,m=!1}}var M=!1,I=null,T=-1,C=5,R=-1;function A(){return!(t.unstable_now()-R<C)}function N(){if(I!==null){var V=t.unstable_now();R=V;var F=!0;try{F=I(!0,V)}finally{F?k():(M=!1,I=null)}}else M=!1}var k;if(typeof v=="function")k=function(){v(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,W=H.port2;H.port1.onmessage=N,k=function(){W.postMessage(null)}}else k=function(){E(N,0)};function B(V){I=V,M||(M=!0,k())}function J(V,F){T=E(function(){V(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){S||m||(S=!0,B(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var Q=p;p=F;try{return V()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,F){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=p;p=V;try{return F()}finally{p=Q}},t.unstable_scheduleCallback=function(V,F,Q){var te=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?te+Q:te):Q=te,V){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,V={id:d++,callback:F,priorityLevel:V,startTime:Q,expirationTime:ee,sortIndex:-1},Q>te?(V.sortIndex=Q,e(u,V),n(c)===null&&V===n(u)&&(_?(w(T),T=-1):_=!0,J(D,Q-te))):(V.sortIndex=ee,e(c,V),S||m||(S=!0,B(O))),V},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(V){var F=p;return function(){var Q=p;p=F;try{return V.apply(this,arguments)}finally{p=Q}}}})(yE);gE.exports=yE;var dA=gE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA=P,en=dA;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vE=new Set,pl={};function Di(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(pl[t]=e,t=0;t<e.length;t++)vE.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,fA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iv={},Sv={};function pA(t){return Nf.call(Sv,t)?!0:Nf.call(Iv,t)?!1:fA.test(t)?Sv[t]=!0:(Iv[t]=!0,!1)}function mA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gA(t,e,n,r){if(e===null||typeof e>"u"||mA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cm=/[\-:]([a-z])/g;function Pm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cm,Pm);gt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cm,Pm);gt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cm,Pm);gt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rm(t,e,n,r){var s=gt.hasOwnProperty(e)?gt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gA(e,n,s,r)&&(n=null),r||s===null?pA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vr=hA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lc=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),wE=Symbol.for("react.provider"),_E=Symbol.for("react.context"),Nm=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),Dm=Symbol.for("react.memo"),Zr=Symbol.for("react.lazy"),EE=Symbol.for("react.offscreen"),bv=Symbol.iterator;function Pa(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Fh;function za(t){if(Fh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fh=e&&e[1]||""}return`
`+Fh+t}var Uh=!1;function zh(t,e){if(!t||Uh)return"";Uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Uh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?za(t):""}function yA(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=zh(t.type,!1),t;case 11:return t=zh(t.type.render,!1),t;case 1:return t=zh(t.type,!0),t;default:return""}}function Mf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case eo:return"Portal";case Df:return"Profiler";case km:return"StrictMode";case Of:return"Suspense";case Lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _E:return(t.displayName||"Context")+".Consumer";case wE:return(t._context.displayName||"Context")+".Provider";case Nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dm:return e=t.displayName||null,e!==null?e:Mf(t.type)||"Memo";case Zr:e=t._payload,t=t._init;try{return Mf(t(e))}catch{}}return null}function vA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mf(e);case 8:return e===km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wA(t){var e=xE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mc(t){t._valueTracker||(t._valueTracker=wA(t))}function TE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Av(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function IE(t,e){e=e.checked,e!=null&&Rm(t,"checked",e,!1)}function jf(t,e){IE(t,e);var n=ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||Ou(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $a=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ks(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Uf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if($a(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ks(n)}}function SE(t,e){var n=ks(e.value),r=ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Rv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vc,AE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vc=Vc||document.createElement("div"),Vc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ml(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_A=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(t){_A.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xa[e]=Xa[t]})});function CE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xa.hasOwnProperty(t)&&Xa[t]?(""+e).trim():e+"px"}function PE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=CE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var EA=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $f(t,e){if(e){if(EA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wf=null;function Om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hf=null,mo=null,go=null;function kv(t){if(t=ec(t)){if(typeof Hf!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Dd(e),Hf(t.stateNode,t.type,e))}}function RE(t){mo?go?go.push(t):go=[t]:mo=t}function kE(){if(mo){var t=mo,e=go;if(go=mo=null,kv(t),e)for(t=0;t<e.length;t++)kv(e[t])}}function NE(t,e){return t(e)}function DE(){}var $h=!1;function OE(t,e,n){if($h)return t(e,n);$h=!0;try{return NE(t,e,n)}finally{$h=!1,(mo!==null||go!==null)&&(DE(),kE())}}function gl(t,e){var n=t.stateNode;if(n===null)return null;var r=Dd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var qf=!1;if(Ar)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){qf=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{qf=!1}function xA(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ja=!1,Lu=null,Mu=!1,Gf=null,TA={onError:function(t){Ja=!0,Lu=t}};function IA(t,e,n,r,s,i,o,a,c){Ja=!1,Lu=null,xA.apply(TA,arguments)}function SA(t,e,n,r,s,i,o,a,c){if(IA.apply(this,arguments),Ja){if(Ja){var u=Lu;Ja=!1,Lu=null}else throw Error(q(198));Mu||(Mu=!0,Gf=u)}}function Oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(Oi(t)!==t)throw Error(q(188))}function bA(t){var e=t.alternate;if(!e){if(e=Oi(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nv(s),t;if(i===r)return Nv(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function ME(t){return t=bA(t),t!==null?VE(t):null}function VE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VE(t);if(e!==null)return e;t=t.sibling}return null}var jE=en.unstable_scheduleCallback,Dv=en.unstable_cancelCallback,AA=en.unstable_shouldYield,CA=en.unstable_requestPaint,We=en.unstable_now,PA=en.unstable_getCurrentPriorityLevel,Lm=en.unstable_ImmediatePriority,FE=en.unstable_UserBlockingPriority,Vu=en.unstable_NormalPriority,RA=en.unstable_LowPriority,UE=en.unstable_IdlePriority,Pd=null,er=null;function kA(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Pd,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:OA,NA=Math.log,DA=Math.LN2;function OA(t){return t>>>=0,t===0?32:31-(NA(t)/DA|0)|0}var jc=64,Fc=4194304;function Ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ba(a):(i&=o,i!==0&&(r=Ba(i)))}else o=n&~s,o!==0?r=Ba(o):i!==0&&(r=Ba(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),s=1<<n,r|=t[n],e&=~s;return r}function LA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Pn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=LA(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Kf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zE(){var t=jc;return jc<<=1,!(jc&4194240)&&(jc=64),t}function Bh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function VA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Mm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function $E(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var BE,Vm,WE,HE,qE,Qf=!1,Uc=[],gs=null,ys=null,vs=null,yl=new Map,vl=new Map,ts=[],jA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ov(t,e){switch(t){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ys=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(e.pointerId)}}function ka(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ec(e),e!==null&&Vm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FA(t,e,n,r,s){switch(e){case"focusin":return gs=ka(gs,t,e,n,r,s),!0;case"dragenter":return ys=ka(ys,t,e,n,r,s),!0;case"mouseover":return vs=ka(vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yl.set(i,ka(yl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vl.set(i,ka(vl.get(i)||null,t,e,n,r,s)),!0}return!1}function GE(t){var e=li(t.target);if(e!==null){var n=Oi(e);if(n!==null){if(e=n.tag,e===13){if(e=LE(n),e!==null){t.blockedOn=e,qE(t.priority,function(){WE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wf=r,n.target.dispatchEvent(r),Wf=null}else return e=ec(n),e!==null&&Vm(e),t.blockedOn=n,!1;e.shift()}return!0}function Lv(t,e,n){uu(t)&&n.delete(e)}function UA(){Qf=!1,gs!==null&&uu(gs)&&(gs=null),ys!==null&&uu(ys)&&(ys=null),vs!==null&&uu(vs)&&(vs=null),yl.forEach(Lv),vl.forEach(Lv)}function Na(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,UA)))}function wl(t){function e(s){return Na(s,t)}if(0<Uc.length){Na(Uc[0],t);for(var n=1;n<Uc.length;n++){var r=Uc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gs!==null&&Na(gs,t),ys!==null&&Na(ys,t),vs!==null&&Na(vs,t),yl.forEach(e),vl.forEach(e),n=0;n<ts.length;n++)r=ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ts.length&&(n=ts[0],n.blockedOn===null);)GE(n),n.blockedOn===null&&ts.shift()}var yo=Vr.ReactCurrentBatchConfig,Fu=!0;function zA(t,e,n,r){var s=Te,i=yo.transition;yo.transition=null;try{Te=1,jm(t,e,n,r)}finally{Te=s,yo.transition=i}}function $A(t,e,n,r){var s=Te,i=yo.transition;yo.transition=null;try{Te=4,jm(t,e,n,r)}finally{Te=s,yo.transition=i}}function jm(t,e,n,r){if(Fu){var s=Yf(t,e,n,r);if(s===null)Zh(t,e,r,Uu,n),Ov(t,r);else if(FA(s,t,e,n,r))r.stopPropagation();else if(Ov(t,r),e&4&&-1<jA.indexOf(t)){for(;s!==null;){var i=ec(s);if(i!==null&&BE(i),i=Yf(t,e,n,r),i===null&&Zh(t,e,r,Uu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zh(t,e,r,null,n)}}var Uu=null;function Yf(t,e,n,r){if(Uu=null,t=Om(r),t=li(t),t!==null)if(e=Oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uu=t,null}function KE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PA()){case Lm:return 1;case FE:return 4;case Vu:case RA:return 16;case UE:return 536870912;default:return 16}default:return 16}}var hs=null,Fm=null,du=null;function QE(){if(du)return du;var t,e=Fm,n=e.length,r,s="value"in hs?hs.value:hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return du=s.slice(t,1<r?1-r:void 0)}function hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zc(){return!0}function Mv(){return!1}function nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zc:Mv,this.isPropagationStopped=Mv,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Um=nn(ta),Zl=je({},ta,{view:0,detail:0}),BA=nn(Zl),Wh,Hh,Da,Rd=je({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(Wh=t.screenX-Da.screenX,Hh=t.screenY-Da.screenY):Hh=Wh=0,Da=t),Wh)},movementY:function(t){return"movementY"in t?t.movementY:Hh}}),Vv=nn(Rd),WA=je({},Rd,{dataTransfer:0}),HA=nn(WA),qA=je({},Zl,{relatedTarget:0}),qh=nn(qA),GA=je({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),KA=nn(GA),QA=je({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YA=nn(QA),XA=je({},ta,{data:0}),jv=nn(XA),JA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eC[t])?!!e[t]:!1}function zm(){return tC}var nC=je({},Zl,{key:function(t){if(t.key){var e=JA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zm,charCode:function(t){return t.type==="keypress"?hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rC=nn(nC),sC=je({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fv=nn(sC),iC=je({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zm}),oC=nn(iC),aC=je({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),lC=nn(aC),cC=je({},Rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uC=nn(cC),dC=[9,13,27,32],$m=Ar&&"CompositionEvent"in window,Za=null;Ar&&"documentMode"in document&&(Za=document.documentMode);var hC=Ar&&"TextEvent"in window&&!Za,YE=Ar&&(!$m||Za&&8<Za&&11>=Za),Uv=" ",zv=!1;function XE(t,e){switch(t){case"keyup":return dC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function fC(t,e){switch(t){case"compositionend":return JE(e);case"keypress":return e.which!==32?null:(zv=!0,Uv);case"textInput":return t=e.data,t===Uv&&zv?null:t;default:return null}}function pC(t,e){if(no)return t==="compositionend"||!$m&&XE(t,e)?(t=QE(),du=Fm=hs=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return YE&&e.locale!=="ko"?null:e.data;default:return null}}var mC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mC[t.type]:e==="textarea"}function ZE(t,e,n,r){RE(r),e=zu(e,"onChange"),0<e.length&&(n=new Um("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var el=null,_l=null;function gC(t){u1(t,0)}function kd(t){var e=io(t);if(TE(e))return t}function yC(t,e){if(t==="change")return e}var e1=!1;if(Ar){var Gh;if(Ar){var Kh="oninput"in document;if(!Kh){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Kh=typeof Bv.oninput=="function"}Gh=Kh}else Gh=!1;e1=Gh&&(!document.documentMode||9<document.documentMode)}function Wv(){el&&(el.detachEvent("onpropertychange",t1),_l=el=null)}function t1(t){if(t.propertyName==="value"&&kd(_l)){var e=[];ZE(e,_l,t,Om(t)),OE(gC,e)}}function vC(t,e,n){t==="focusin"?(Wv(),el=e,_l=n,el.attachEvent("onpropertychange",t1)):t==="focusout"&&Wv()}function wC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kd(_l)}function _C(t,e){if(t==="click")return kd(e)}function EC(t,e){if(t==="input"||t==="change")return kd(e)}function xC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:xC;function El(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nf.call(e,s)||!Nn(t[s],e[s]))return!1}return!0}function Hv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qv(t,e){var n=Hv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hv(n)}}function n1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r1(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TC(t){var e=r1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n1(n.ownerDocument.documentElement,n)){if(r!==null&&Bm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=qv(n,i);var o=qv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IC=Ar&&"documentMode"in document&&11>=document.documentMode,ro=null,Xf=null,tl=null,Jf=!1;function Gv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||ro==null||ro!==Ou(r)||(r=ro,"selectionStart"in r&&Bm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tl&&El(tl,r)||(tl=r,r=zu(Xf,"onSelect"),0<r.length&&(e=new Um("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ro)))}function $c(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionend:$c("Transition","TransitionEnd")},Qh={},s1={};Ar&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Nd(t){if(Qh[t])return Qh[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s1)return Qh[t]=e[n];return t}var i1=Nd("animationend"),o1=Nd("animationiteration"),a1=Nd("animationstart"),l1=Nd("transitionend"),c1=new Map,Kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){c1.set(t,e),Di(e,[t])}for(var Yh=0;Yh<Kv.length;Yh++){var Xh=Kv[Yh],SC=Xh.toLowerCase(),bC=Xh[0].toUpperCase()+Xh.slice(1);Ws(SC,"on"+bC)}Ws(i1,"onAnimationEnd");Ws(o1,"onAnimationIteration");Ws(a1,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(l1,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function Qv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SA(r,e,void 0,t),t.currentTarget=null}function u1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Qv(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Qv(s,a,u),i=c}}}if(Mu)throw t=Gf,Mu=!1,Gf=null,t}function Re(t,e){var n=e[rp];n===void 0&&(n=e[rp]=new Set);var r=t+"__bubble";n.has(r)||(d1(e,t,2,!1),n.add(r))}function Jh(t,e,n){var r=0;e&&(r|=4),d1(n,t,r,e)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function xl(t){if(!t[Bc]){t[Bc]=!0,vE.forEach(function(n){n!=="selectionchange"&&(AC.has(n)||Jh(n,!1,t),Jh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bc]||(e[Bc]=!0,Jh("selectionchange",!1,e))}}function d1(t,e,n,r){switch(KE(e)){case 1:var s=zA;break;case 4:s=$A;break;default:s=jm}n=s.bind(null,e,n,t),s=void 0,!qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=li(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}OE(function(){var u=i,d=Om(n),f=[];e:{var p=c1.get(t);if(p!==void 0){var m=Um,S=t;switch(t){case"keypress":if(hu(n)===0)break e;case"keydown":case"keyup":m=rC;break;case"focusin":S="focus",m=qh;break;case"focusout":S="blur",m=qh;break;case"beforeblur":case"afterblur":m=qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=HA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=oC;break;case i1:case o1:case a1:m=KA;break;case l1:m=lC;break;case"scroll":m=BA;break;case"wheel":m=uC;break;case"copy":case"cut":case"paste":m=YA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Fv}var _=(e&4)!==0,E=!_&&t==="scroll",w=_?p!==null?p+"Capture":null:p;_=[];for(var v=u,x;v!==null;){x=v;var D=x.stateNode;if(x.tag===5&&D!==null&&(x=D,w!==null&&(D=gl(v,w),D!=null&&_.push(Tl(v,D,x)))),E)break;v=v.return}0<_.length&&(p=new m(p,S,null,n,d),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Wf&&(S=n.relatedTarget||n.fromElement)&&(li(S)||S[Cr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?li(S):null,S!==null&&(E=Oi(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(_=Vv,D="onMouseLeave",w="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=Fv,D="onPointerLeave",w="onPointerEnter",v="pointer"),E=m==null?p:io(m),x=S==null?p:io(S),p=new _(D,v+"leave",m,n,d),p.target=E,p.relatedTarget=x,D=null,li(d)===u&&(_=new _(w,v+"enter",S,n,d),_.target=x,_.relatedTarget=E,D=_),E=D,m&&S)t:{for(_=m,w=S,v=0,x=_;x;x=Ki(x))v++;for(x=0,D=w;D;D=Ki(D))x++;for(;0<v-x;)_=Ki(_),v--;for(;0<x-v;)w=Ki(w),x--;for(;v--;){if(_===w||w!==null&&_===w.alternate)break t;_=Ki(_),w=Ki(w)}_=null}else _=null;m!==null&&Yv(f,p,m,_,!1),S!==null&&E!==null&&Yv(f,E,S,_,!0)}}e:{if(p=u?io(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=yC;else if($v(p))if(e1)O=EC;else{O=wC;var M=vC}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=_C);if(O&&(O=O(t,u))){ZE(f,O,n,d);break e}M&&M(t,p,u),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Ff(p,"number",p.value)}switch(M=u?io(u):window,t){case"focusin":($v(M)||M.contentEditable==="true")&&(ro=M,Xf=u,tl=null);break;case"focusout":tl=Xf=ro=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Gv(f,n,d);break;case"selectionchange":if(IC)break;case"keydown":case"keyup":Gv(f,n,d)}var I;if($m)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else no?XE(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(YE&&n.locale!=="ko"&&(no||T!=="onCompositionStart"?T==="onCompositionEnd"&&no&&(I=QE()):(hs=d,Fm="value"in hs?hs.value:hs.textContent,no=!0)),M=zu(u,T),0<M.length&&(T=new jv(T,t,null,n,d),f.push({event:T,listeners:M}),I?T.data=I:(I=JE(n),I!==null&&(T.data=I)))),(I=hC?fC(t,n):pC(t,n))&&(u=zu(u,"onBeforeInput"),0<u.length&&(d=new jv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=I))}u1(f,e)})}function Tl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gl(t,n),i!=null&&r.unshift(Tl(t,i,s)),i=gl(t,e),i!=null&&r.push(Tl(t,i,s))),t=t.return}return r}function Ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=gl(n,i),c!=null&&o.unshift(Tl(n,c,a))):s||(c=gl(n,i),c!=null&&o.push(Tl(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CC=/\r\n?/g,PC=/\u0000|\uFFFD/g;function Xv(t){return(typeof t=="string"?t:""+t).replace(CC,`
`).replace(PC,"")}function Wc(t,e,n){if(e=Xv(e),Xv(t)!==e&&n)throw Error(q(425))}function $u(){}var Zf=null,ep=null;function tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,RC=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(t){return Jv.resolve(null).then(t).catch(NC)}:np;function NC(t){setTimeout(function(){throw t})}function ef(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wl(e)}function ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var na=Math.random().toString(36).slice(2),Jn="__reactFiber$"+na,Il="__reactProps$"+na,Cr="__reactContainer$"+na,rp="__reactEvents$"+na,DC="__reactListeners$"+na,OC="__reactHandles$"+na;function li(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zv(t);t!==null;){if(n=t[Jn])return n;t=Zv(t)}return e}t=n,n=t.parentNode}return null}function ec(t){return t=t[Jn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Dd(t){return t[Il]||null}var sp=[],oo=-1;function Hs(t){return{current:t}}function Ne(t){0>oo||(t.current=sp[oo],sp[oo]=null,oo--)}function Ae(t,e){oo++,sp[oo]=t.current,t.current=e}var Ns={},bt=Hs(Ns),$t=Hs(!1),xi=Ns;function Vo(t,e){var n=t.type.contextTypes;if(!n)return Ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(t){return t=t.childContextTypes,t!=null}function Bu(){Ne($t),Ne(bt)}function ew(t,e,n){if(bt.current!==Ns)throw Error(q(168));Ae(bt,e),Ae($t,n)}function h1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,vA(t)||"Unknown",s));return je({},n,r)}function Wu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ns,xi=bt.current,Ae(bt,t),Ae($t,$t.current),!0}function tw(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=h1(t,e,xi),r.__reactInternalMemoizedMergedChildContext=t,Ne($t),Ne(bt),Ae(bt,t)):Ne($t),Ae($t,n)}var wr=null,Od=!1,tf=!1;function f1(t){wr===null?wr=[t]:wr.push(t)}function LC(t){Od=!0,f1(t)}function qs(){if(!tf&&wr!==null){tf=!0;var t=0,e=Te;try{var n=wr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wr=null,Od=!1}catch(s){throw wr!==null&&(wr=wr.slice(t+1)),jE(Lm,qs),s}finally{Te=e,tf=!1}}return null}var ao=[],lo=0,Hu=null,qu=0,ln=[],cn=0,Ti=null,Er=1,xr="";function ii(t,e){ao[lo++]=qu,ao[lo++]=Hu,Hu=t,qu=e}function p1(t,e,n){ln[cn++]=Er,ln[cn++]=xr,ln[cn++]=Ti,Ti=t;var r=Er;t=xr;var s=32-Pn(r)-1;r&=~(1<<s),n+=1;var i=32-Pn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Er=1<<32-Pn(e)+s|n<<s|r,xr=i+t}else Er=1<<i|n<<s|r,xr=t}function Wm(t){t.return!==null&&(ii(t,1),p1(t,1,0))}function Hm(t){for(;t===Hu;)Hu=ao[--lo],ao[lo]=null,qu=ao[--lo],ao[lo]=null;for(;t===Ti;)Ti=ln[--cn],ln[cn]=null,xr=ln[--cn],ln[cn]=null,Er=ln[--cn],ln[cn]=null}var Jt=null,Yt=null,Oe=!1,bn=null;function m1(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Jt=t,Yt=ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Jt=t,Yt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ti!==null?{id:Er,overflow:xr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Jt=t,Yt=null,!0):!1;default:return!1}}function ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function op(t){if(Oe){var e=Yt;if(e){var n=e;if(!nw(t,e)){if(ip(t))throw Error(q(418));e=ws(n.nextSibling);var r=Jt;e&&nw(t,e)?m1(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Jt=t)}}else{if(ip(t))throw Error(q(418));t.flags=t.flags&-4097|2,Oe=!1,Jt=t}}}function rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jt=t}function Hc(t){if(t!==Jt)return!1;if(!Oe)return rw(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tp(t.type,t.memoizedProps)),e&&(e=Yt)){if(ip(t))throw g1(),Error(q(418));for(;e;)m1(t,e),e=ws(e.nextSibling)}if(rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Yt=ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Yt=null}}else Yt=Jt?ws(t.stateNode.nextSibling):null;return!0}function g1(){for(var t=Yt;t;)t=ws(t.nextSibling)}function jo(){Yt=Jt=null,Oe=!1}function qm(t){bn===null?bn=[t]:bn.push(t)}var MC=Vr.ReactCurrentBatchConfig;function Oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function qc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sw(t){var e=t._init;return e(t._payload)}function y1(t){function e(w,v){if(t){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function n(w,v){if(!t)return null;for(;v!==null;)e(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Ts(w,v),w.index=0,w.sibling=null,w}function i(w,v,x){return w.index=x,t?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,v,x,D){return v===null||v.tag!==6?(v=cf(x,w.mode,D),v.return=w,v):(v=s(v,x),v.return=w,v)}function c(w,v,x,D){var O=x.type;return O===to?d(w,v,x.props.children,D,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Zr&&sw(O)===v.type)?(D=s(v,x.props),D.ref=Oa(w,v,x),D.return=w,D):(D=wu(x.type,x.key,x.props,null,w.mode,D),D.ref=Oa(w,v,x),D.return=w,D)}function u(w,v,x,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=uf(x,w.mode,D),v.return=w,v):(v=s(v,x.children||[]),v.return=w,v)}function d(w,v,x,D,O){return v===null||v.tag!==7?(v=wi(x,w.mode,D,O),v.return=w,v):(v=s(v,x),v.return=w,v)}function f(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=cf(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lc:return x=wu(v.type,v.key,v.props,null,w.mode,x),x.ref=Oa(w,null,v),x.return=w,x;case eo:return v=uf(v,w.mode,x),v.return=w,v;case Zr:var D=v._init;return f(w,D(v._payload),x)}if($a(v)||Pa(v))return v=wi(v,w.mode,x,null),v.return=w,v;qc(w,v)}return null}function p(w,v,x,D){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(w,v,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lc:return x.key===O?c(w,v,x,D):null;case eo:return x.key===O?u(w,v,x,D):null;case Zr:return O=x._init,p(w,v,O(x._payload),D)}if($a(x)||Pa(x))return O!==null?null:d(w,v,x,D,null);qc(w,x)}return null}function m(w,v,x,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(x)||null,a(v,w,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Lc:return w=w.get(D.key===null?x:D.key)||null,c(v,w,D,O);case eo:return w=w.get(D.key===null?x:D.key)||null,u(v,w,D,O);case Zr:var M=D._init;return m(w,v,x,M(D._payload),O)}if($a(D)||Pa(D))return w=w.get(x)||null,d(v,w,D,O,null);qc(v,D)}return null}function S(w,v,x,D){for(var O=null,M=null,I=v,T=v=0,C=null;I!==null&&T<x.length;T++){I.index>T?(C=I,I=null):C=I.sibling;var R=p(w,I,x[T],D);if(R===null){I===null&&(I=C);break}t&&I&&R.alternate===null&&e(w,I),v=i(R,v,T),M===null?O=R:M.sibling=R,M=R,I=C}if(T===x.length)return n(w,I),Oe&&ii(w,T),O;if(I===null){for(;T<x.length;T++)I=f(w,x[T],D),I!==null&&(v=i(I,v,T),M===null?O=I:M.sibling=I,M=I);return Oe&&ii(w,T),O}for(I=r(w,I);T<x.length;T++)C=m(I,w,T,x[T],D),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?T:C.key),v=i(C,v,T),M===null?O=C:M.sibling=C,M=C);return t&&I.forEach(function(A){return e(w,A)}),Oe&&ii(w,T),O}function _(w,v,x,D){var O=Pa(x);if(typeof O!="function")throw Error(q(150));if(x=O.call(x),x==null)throw Error(q(151));for(var M=O=null,I=v,T=v=0,C=null,R=x.next();I!==null&&!R.done;T++,R=x.next()){I.index>T?(C=I,I=null):C=I.sibling;var A=p(w,I,R.value,D);if(A===null){I===null&&(I=C);break}t&&I&&A.alternate===null&&e(w,I),v=i(A,v,T),M===null?O=A:M.sibling=A,M=A,I=C}if(R.done)return n(w,I),Oe&&ii(w,T),O;if(I===null){for(;!R.done;T++,R=x.next())R=f(w,R.value,D),R!==null&&(v=i(R,v,T),M===null?O=R:M.sibling=R,M=R);return Oe&&ii(w,T),O}for(I=r(w,I);!R.done;T++,R=x.next())R=m(I,w,T,R.value,D),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?T:R.key),v=i(R,v,T),M===null?O=R:M.sibling=R,M=R);return t&&I.forEach(function(N){return e(w,N)}),Oe&&ii(w,T),O}function E(w,v,x,D){if(typeof x=="object"&&x!==null&&x.type===to&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Lc:e:{for(var O=x.key,M=v;M!==null;){if(M.key===O){if(O=x.type,O===to){if(M.tag===7){n(w,M.sibling),v=s(M,x.props.children),v.return=w,w=v;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Zr&&sw(O)===M.type){n(w,M.sibling),v=s(M,x.props),v.ref=Oa(w,M,x),v.return=w,w=v;break e}n(w,M);break}else e(w,M);M=M.sibling}x.type===to?(v=wi(x.props.children,w.mode,D,x.key),v.return=w,w=v):(D=wu(x.type,x.key,x.props,null,w.mode,D),D.ref=Oa(w,v,x),D.return=w,w=D)}return o(w);case eo:e:{for(M=x.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(w,v.sibling),v=s(v,x.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else e(w,v);v=v.sibling}v=uf(x,w.mode,D),v.return=w,w=v}return o(w);case Zr:return M=x._init,E(w,v,M(x._payload),D)}if($a(x))return S(w,v,x,D);if(Pa(x))return _(w,v,x,D);qc(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,x),v.return=w,w=v):(n(w,v),v=cf(x,w.mode,D),v.return=w,w=v),o(w)):n(w,v)}return E}var Fo=y1(!0),v1=y1(!1),Gu=Hs(null),Ku=null,co=null,Gm=null;function Km(){Gm=co=Ku=null}function Qm(t){var e=Gu.current;Ne(Gu),t._currentValue=e}function ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){Ku=t,Gm=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(Gm!==t)if(t={context:t,memoizedValue:e,next:null},co===null){if(Ku===null)throw Error(q(308));co=t,Ku.dependencies={lanes:0,firstContext:t}}else co=co.next=t;return e}var ci=null;function Ym(t){ci===null?ci=[t]:ci.push(t)}function w1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ym(e)):(n.next=s.next,s.next=n),e.interleaved=n,Pr(t,r)}function Pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var es=!1;function Xm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pr(t,n)}return s=r.interleaved,s===null?(e.next=e,Ym(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pr(t,n)}function fu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}function iw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qu(t,e,n,r){var s=t.updateQueue;es=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,_=a;switch(p=e,m=n,_.tag){case 1:if(S=_.payload,typeof S=="function"){f=S.call(m,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,p=typeof S=="function"?S.call(m,f,p):S,p==null)break e;f=je({},f,p);break e;case 2:es=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Si|=o,t.lanes=o,t.memoizedState=f}}function ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var tc={},tr=Hs(tc),Sl=Hs(tc),bl=Hs(tc);function ui(t){if(t===tc)throw Error(q(174));return t}function Jm(t,e){switch(Ae(bl,e),Ae(Sl,t),Ae(tr,tc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zf(e,t)}Ne(tr),Ae(tr,e)}function Uo(){Ne(tr),Ne(Sl),Ne(bl)}function E1(t){ui(bl.current);var e=ui(tr.current),n=zf(e,t.type);e!==n&&(Ae(Sl,t),Ae(tr,n))}function Zm(t){Sl.current===t&&(Ne(tr),Ne(Sl))}var Me=Hs(0);function Yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nf=[];function eg(){for(var t=0;t<nf.length;t++)nf[t]._workInProgressVersionPrimary=null;nf.length=0}var pu=Vr.ReactCurrentDispatcher,rf=Vr.ReactCurrentBatchConfig,Ii=0,Ve=null,tt=null,ut=null,Xu=!1,nl=!1,Al=0,VC=0;function wt(){throw Error(q(321))}function tg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function ng(t,e,n,r,s,i){if(Ii=i,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pu.current=t===null||t.memoizedState===null?zC:$C,t=n(r,s),nl){i=0;do{if(nl=!1,Al=0,25<=i)throw Error(q(301));i+=1,ut=tt=null,e.updateQueue=null,pu.current=BC,t=n(r,s)}while(nl)}if(pu.current=Ju,e=tt!==null&&tt.next!==null,Ii=0,ut=tt=Ve=null,Xu=!1,e)throw Error(q(300));return t}function rg(){var t=Al!==0;return Al=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ve.memoizedState=ut=t:ut=ut.next=t,ut}function mn(){if(tt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=ut===null?Ve.memoizedState:ut.next;if(e!==null)ut=e,tt=t;else{if(t===null)throw Error(q(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ut===null?Ve.memoizedState=ut=t:ut=ut.next=t}return ut}function Cl(t,e){return typeof e=="function"?e(t):e}function sf(t){var e=mn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=tt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Ii&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ve.lanes|=d,Si|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Nn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ve.lanes|=i,Si|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function of(t){var e=mn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nn(i,e.memoizedState)||(zt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function x1(){}function T1(t,e){var n=Ve,r=mn(),s=e(),i=!Nn(r.memoizedState,s);if(i&&(r.memoizedState=s,zt=!0),r=r.queue,sg(b1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Pl(9,S1.bind(null,n,r,s,e),void 0,null),dt===null)throw Error(q(349));Ii&30||I1(n,e,s)}return s}function I1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S1(t,e,n,r){e.value=n,e.getSnapshot=r,A1(e)&&C1(t)}function b1(t,e,n){return n(function(){A1(e)&&C1(t)})}function A1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function C1(t){var e=Pr(t,1);e!==null&&Rn(e,t,1,-1)}function aw(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:t},e.queue=t,t=t.dispatch=UC.bind(null,Ve,t),[e.memoizedState,t]}function Pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function P1(){return mn().memoizedState}function mu(t,e,n,r){var s=Gn();Ve.flags|=t,s.memoizedState=Pl(1|e,n,void 0,r===void 0?null:r)}function Ld(t,e,n,r){var s=mn();r=r===void 0?null:r;var i=void 0;if(tt!==null){var o=tt.memoizedState;if(i=o.destroy,r!==null&&tg(r,o.deps)){s.memoizedState=Pl(e,n,i,r);return}}Ve.flags|=t,s.memoizedState=Pl(1|e,n,i,r)}function lw(t,e){return mu(8390656,8,t,e)}function sg(t,e){return Ld(2048,8,t,e)}function R1(t,e){return Ld(4,2,t,e)}function k1(t,e){return Ld(4,4,t,e)}function N1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D1(t,e,n){return n=n!=null?n.concat([t]):null,Ld(4,4,N1.bind(null,e,t),n)}function ig(){}function O1(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L1(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M1(t,e,n){return Ii&21?(Nn(n,e)||(n=zE(),Ve.lanes|=n,Si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function jC(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=rf.transition;rf.transition={};try{t(!1),e()}finally{Te=n,rf.transition=r}}function V1(){return mn().memoizedState}function FC(t,e,n){var r=xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j1(t))F1(e,n);else if(n=w1(t,e,n,r),n!==null){var s=Nt();Rn(n,t,r,s),U1(n,e,r)}}function UC(t,e,n){var r=xs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j1(t))F1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nn(a,o)){var c=e.interleaved;c===null?(s.next=s,Ym(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=w1(t,e,s,r),n!==null&&(s=Nt(),Rn(n,t,r,s),U1(n,e,r))}}function j1(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function F1(t,e){nl=Xu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function U1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}var Ju={readContext:pn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},zC={readContext:pn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:lw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mu(4194308,4,N1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mu(4194308,4,t,e)},useInsertionEffect:function(t,e){return mu(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FC.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:aw,useDebugValue:ig,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=aw(!1),e=t[0];return t=jC.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,s=Gn();if(Oe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),dt===null)throw Error(q(349));Ii&30||I1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lw(b1.bind(null,r,i,t),[t]),r.flags|=2048,Pl(9,S1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Gn(),e=dt.identifierPrefix;if(Oe){var n=xr,r=Er;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$C={readContext:pn,useCallback:O1,useContext:pn,useEffect:sg,useImperativeHandle:D1,useInsertionEffect:R1,useLayoutEffect:k1,useMemo:L1,useReducer:sf,useRef:P1,useState:function(){return sf(Cl)},useDebugValue:ig,useDeferredValue:function(t){var e=mn();return M1(e,tt.memoizedState,t)},useTransition:function(){var t=sf(Cl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:x1,useSyncExternalStore:T1,useId:V1,unstable_isNewReconciler:!1},BC={readContext:pn,useCallback:O1,useContext:pn,useEffect:sg,useImperativeHandle:D1,useInsertionEffect:R1,useLayoutEffect:k1,useMemo:L1,useReducer:of,useRef:P1,useState:function(){return of(Cl)},useDebugValue:ig,useDeferredValue:function(t){var e=mn();return tt===null?e.memoizedState=t:M1(e,tt.memoizedState,t)},useTransition:function(){var t=of(Cl)[0],e=mn().memoizedState;return[t,e]},useMutableSource:x1,useSyncExternalStore:T1,useId:V1,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Md={isMounted:function(t){return(t=t._reactInternals)?Oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=xs(t),i=Sr(r,s);i.payload=e,n!=null&&(i.callback=n),e=_s(t,i,s),e!==null&&(Rn(e,t,s,r),fu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=xs(t),i=Sr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_s(t,i,s),e!==null&&(Rn(e,t,s,r),fu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=xs(t),s=Sr(n,r);s.tag=2,e!=null&&(s.callback=e),e=_s(t,s,r),e!==null&&(Rn(e,t,r,n),fu(e,t,r))}};function cw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!El(n,r)||!El(s,i):!0}function z1(t,e,n){var r=!1,s=Ns,i=e.contextType;return typeof i=="object"&&i!==null?i=pn(i):(s=Bt(e)?xi:bt.current,r=e.contextTypes,i=(r=r!=null)?Vo(t,s):Ns),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Md,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function uw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Md.enqueueReplaceState(e,e.state,null)}function cp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xm(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=pn(i):(i=Bt(e)?xi:bt.current,s.context=Vo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(lp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Md.enqueueReplaceState(s,s.state,null),Qu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zo(t,e){try{var n="",r=e;do n+=yA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function af(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WC=typeof WeakMap=="function"?WeakMap:Map;function $1(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ed||(ed=!0,_p=r),up(t,e)},n}function B1(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){up(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){up(t,e),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=sP.bind(null,t,e,n),e.then(t,t))}function hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var HC=Vr.ReactCurrentOwner,zt=!1;function Rt(t,e,n,r){e.child=t===null?v1(e,null,n,r):Fo(e,t.child,n,r)}function pw(t,e,n,r,s){n=n.render;var i=e.ref;return vo(e,s),r=ng(t,e,n,r,i,s),n=rg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rr(t,e,s)):(Oe&&n&&Wm(e),e.flags|=1,Rt(t,e,r,s),e.child)}function mw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!fg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,W1(t,e,i,r,s)):(t=wu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(o,r)&&t.ref===e.ref)return Rr(t,e,s)}return e.flags|=1,t=Ts(i,r),t.ref=e.ref,t.return=e,e.child=t}function W1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(El(i,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,Rr(t,e,s)}return dp(t,e,n,r,s)}function H1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(ho,Kt),Kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(ho,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ae(ho,Kt),Kt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ae(ho,Kt),Kt|=r;return Rt(t,e,s,n),e.child}function q1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dp(t,e,n,r,s){var i=Bt(n)?xi:bt.current;return i=Vo(e,i),vo(e,s),n=ng(t,e,n,r,i,s),r=rg(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Rr(t,e,s)):(Oe&&r&&Wm(e),e.flags|=1,Rt(t,e,n,s),e.child)}function gw(t,e,n,r,s){if(Bt(n)){var i=!0;Wu(e)}else i=!1;if(vo(e,s),e.stateNode===null)gu(t,e),z1(e,n,r),cp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pn(u):(u=Bt(n)?xi:bt.current,u=Vo(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&uw(e,o,r,u),es=!1;var p=e.memoizedState;o.state=p,Qu(e,r,o,s),c=e.memoizedState,a!==r||p!==c||$t.current||es?(typeof d=="function"&&(lp(e,n,d,r),c=e.memoizedState),(a=es||cw(e,n,a,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:En(e.type,a),o.props=u,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=pn(c):(c=Bt(n)?xi:bt.current,c=Vo(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&uw(e,o,r,c),es=!1,p=e.memoizedState,o.state=p,Qu(e,r,o,s);var S=e.memoizedState;a!==f||p!==S||$t.current||es?(typeof m=="function"&&(lp(e,n,m,r),S=e.memoizedState),(u=es||cw(e,n,u,r,p,S,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return hp(t,e,n,r,i,s)}function hp(t,e,n,r,s,i){q1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tw(e,n,!1),Rr(t,e,i);r=e.stateNode,HC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,i),e.child=Fo(e,null,a,i)):Rt(t,e,a,i),e.memoizedState=r.state,s&&tw(e,n,!0),e.child}function G1(t){var e=t.stateNode;e.pendingContext?ew(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ew(t,e.context,!1),Jm(t,e.containerInfo)}function yw(t,e,n,r,s){return jo(),qm(s),e.flags|=256,Rt(t,e,n,r),e.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function K1(t,e,n){var r=e.pendingProps,s=Me.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ae(Me,s&1),t===null)return op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fd(o,r,0,null),t=wi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=pp(n),e.memoizedState=fp,t):og(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ts(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ts(a,i):(i=wi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?pp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=fp,r}return i=t.child,t=i.sibling,r=Ts(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function og(t,e){return e=Fd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Gc(t,e,n,r){return r!==null&&qm(r),Fo(e,t.child,null,n),t=og(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=af(Error(q(422))),Gc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Fd({mode:"visible",children:r.children},s,0,null),i=wi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=pp(o),e.memoizedState=fp,i);if(!(e.mode&1))return Gc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=af(i,r,void 0),Gc(t,e,o,r)}if(a=(o&t.childLanes)!==0,zt||a){if(r=dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pr(t,s),Rn(r,t,s,-1))}return hg(),r=af(Error(q(421))),Gc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=iP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Yt=ws(s.nextSibling),Jt=e,Oe=!0,bn=null,t!==null&&(ln[cn++]=Er,ln[cn++]=xr,ln[cn++]=Ti,Er=t.id,xr=t.overflow,Ti=e),e=og(e,r.children),e.flags|=4096,e)}function vw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ap(t.return,e,n)}function lf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Q1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Rt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vw(t,n,e);else if(t.tag===19)vw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(Me,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lf(e,!0,n,null,i);break;case"together":lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Ts(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ts(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GC(t,e,n){switch(e.tag){case 3:G1(e),jo();break;case 5:E1(e);break;case 1:Bt(e.type)&&Wu(e);break;case 4:Jm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ae(Gu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?K1(t,e,n):(Ae(Me,Me.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);Ae(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Q1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,H1(t,e,n)}return Rr(t,e,n)}var Y1,mp,X1,J1;Y1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mp=function(){};X1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ui(tr.current);var i=null;switch(n){case"input":s=Vf(t,s),r=Vf(t,r),i=[];break;case"select":s=je({},s,{value:void 0}),r=je({},r,{value:void 0}),i=[];break;case"textarea":s=Uf(t,s),r=Uf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$u)}$f(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Re("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};J1=function(t,e,n,r){n!==r&&(e.flags|=4)};function La(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KC(t,e,n){var r=e.pendingProps;switch(Hm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Bt(e.type)&&Bu(),_t(e),null;case 3:return r=e.stateNode,Uo(),Ne($t),Ne(bt),eg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(Tp(bn),bn=null))),mp(t,e),_t(e),null;case 5:Zm(e);var s=ui(bl.current);if(n=e.type,t!==null&&e.stateNode!=null)X1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return _t(e),null}if(t=ui(tr.current),Hc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jn]=e,r[Il]=i,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<Wa.length;s++)Re(Wa[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":Av(r,i),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Re("invalid",r);break;case"textarea":Pv(r,i),Re("invalid",r)}$f(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wc(r.textContent,a,t),s=["children",""+a]):pl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Re("scroll",r)}switch(n){case"input":Mc(r),Cv(r,i,!0);break;case"textarea":Mc(r),Rv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$u)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Jn]=e,t[Il]=r,Y1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bf(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wa.length;s++)Re(Wa[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":Av(t,r),s=Vf(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=je({},r,{value:void 0}),Re("invalid",t);break;case"textarea":Pv(t,r),s=Uf(t,r),Re("invalid",t);break;default:s=r}$f(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?PE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ml(t,c):typeof c=="number"&&ml(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Re("scroll",t):c!=null&&Rm(t,i,c,o))}switch(n){case"input":Mc(t),Cv(t,r,!1);break;case"textarea":Mc(t),Rv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ks(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?po(t,!!r.multiple,i,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)J1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=ui(bl.current),ui(tr.current),Hc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(i=r.nodeValue!==n)&&(t=Jt,t!==null))switch(t.tag){case 3:Wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return _t(e),null;case 13:if(Ne(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Yt!==null&&e.mode&1&&!(e.flags&128))g1(),jo(),e.flags|=98560,i=!1;else if(i=Hc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Jn]=e}else jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else bn!==null&&(Tp(bn),bn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?rt===0&&(rt=3):hg())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Uo(),mp(t,e),t===null&&xl(e.stateNode.containerInfo),_t(e),null;case 10:return Qm(e.type._context),_t(e),null;case 17:return Bt(e.type)&&Bu(),_t(e),null;case 19:if(Ne(Me),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)La(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yu(t),o!==null){for(e.flags|=128,La(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(Me,Me.current&1|2),e.child}t=t.sibling}i.tail!==null&&We()>$o&&(e.flags|=128,r=!0,La(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),La(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Oe)return _t(e),null}else 2*We()-i.renderingStartTime>$o&&n!==1073741824&&(e.flags|=128,r=!0,La(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=We(),e.sibling=null,n=Me.current,Ae(Me,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return dg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function QC(t,e){switch(Hm(e),e.tag){case 1:return Bt(e.type)&&Bu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Uo(),Ne($t),Ne(bt),eg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zm(e),null;case 13:if(Ne(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Me),null;case 4:return Uo(),null;case 10:return Qm(e.type._context),null;case 22:case 23:return dg(),null;case 24:return null;default:return null}}var Kc=!1,It=!1,YC=typeof WeakSet=="function"?WeakSet:Set,Z=null;function uo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function gp(t,e,n){try{n()}catch(r){$e(t,e,r)}}var ww=!1;function XC(t,e){if(Zf=Fu,t=r1(),Bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===s&&(a=o),p===i&&++d===r&&(c=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:t,selectionRange:n},Fu=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,E=S.memoizedState,w=e.stateNode,v=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:En(e.type,_),E);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(D){$e(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return S=ww,ww=!1,S}function rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&gp(e,n,i)}s=s.next}while(s!==r)}}function Vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Z1(t){var e=t.alternate;e!==null&&(t.alternate=null,Z1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[Il],delete e[rp],delete e[DC],delete e[OC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ex(t){return t.tag===5||t.tag===3||t.tag===4}function _w(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ex(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$u));else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}var ht=null,Sn=!1;function Kr(t,e,n){for(n=n.child;n!==null;)tx(t,e,n),n=n.sibling}function tx(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Pd,n)}catch{}switch(n.tag){case 5:It||uo(n,e);case 6:var r=ht,s=Sn;ht=null,Kr(t,e,n),ht=r,Sn=s,ht!==null&&(Sn?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(Sn?(t=ht,n=n.stateNode,t.nodeType===8?ef(t.parentNode,n):t.nodeType===1&&ef(t,n),wl(t)):ef(ht,n.stateNode));break;case 4:r=ht,s=Sn,ht=n.stateNode.containerInfo,Sn=!0,Kr(t,e,n),ht=r,Sn=s;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&gp(n,e,o),s=s.next}while(s!==r)}Kr(t,e,n);break;case 1:if(!It&&(uo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Kr(t,e,n),It=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function Ew(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YC),e.forEach(function(r){var s=oP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ht=a.stateNode,Sn=!1;break e;case 3:ht=a.stateNode.containerInfo,Sn=!0;break e;case 4:ht=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(ht===null)throw Error(q(160));tx(i,o,s),ht=null,Sn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){$e(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nx(e,t),e=e.sibling}function nx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),qn(t),r&4){try{rl(3,t,t.return),Vd(3,t)}catch(_){$e(t,t.return,_)}try{rl(5,t,t.return)}catch(_){$e(t,t.return,_)}}break;case 1:wn(e,t),qn(t),r&512&&n!==null&&uo(n,n.return);break;case 5:if(wn(e,t),qn(t),r&512&&n!==null&&uo(n,n.return),t.flags&32){var s=t.stateNode;try{ml(s,"")}catch(_){$e(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&IE(s,i),Bf(a,o);var u=Bf(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?PE(s,f):d==="dangerouslySetInnerHTML"?AE(s,f):d==="children"?ml(s,f):Rm(s,d,f,u)}switch(a){case"input":jf(s,i);break;case"textarea":SE(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?po(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?po(s,!!i.multiple,i.defaultValue,!0):po(s,!!i.multiple,i.multiple?[]:"",!1))}s[Il]=i}catch(_){$e(t,t.return,_)}}break;case 6:if(wn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){$e(t,t.return,_)}}break;case 3:if(wn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wl(e.containerInfo)}catch(_){$e(t,t.return,_)}break;case 4:wn(e,t),qn(t);break;case 13:wn(e,t),qn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(cg=We())),r&4&&Ew(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(It=(u=It)||d,wn(e,t),It=u):wn(e,t),qn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(f=Z=d;Z!==null;){switch(p=Z,m=p.child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:uo(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(_){$e(r,n,_)}}break;case 5:uo(p,p.return);break;case 22:if(p.memoizedState!==null){Tw(f);continue}}m!==null?(m.return=p,Z=m):Tw(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=CE("display",o))}catch(_){$e(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){$e(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wn(e,t),qn(t),r&4&&Ew(t);break;case 21:break;default:wn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ex(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ml(s,""),r.flags&=-33);var i=_w(t);wp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_w(t);vp(t,a,o);break;default:throw Error(q(161))}}catch(c){$e(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JC(t,e,n){Z=t,rx(t)}function rx(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||It;a=Kc;var u=It;if(Kc=o,(It=c)&&!u)for(Z=s;Z!==null;)o=Z,c=o.child,o.tag===22&&o.memoizedState!==null?Iw(s):c!==null?(c.return=o,Z=c):Iw(s);for(;i!==null;)Z=i,rx(i),i=i.sibling;Z=s,Kc=a,It=u}xw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):xw(t)}}function xw(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||Vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:En(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ow(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ow(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}It||e.flags&512&&yp(e)}catch(p){$e(e,e.return,p)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Tw(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function Iw(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vd(4,e)}catch(c){$e(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){$e(e,s,c)}}var i=e.return;try{yp(e)}catch(c){$e(e,i,c)}break;case 5:var o=e.return;try{yp(e)}catch(c){$e(e,o,c)}}}catch(c){$e(e,e.return,c)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var ZC=Math.ceil,Zu=Vr.ReactCurrentDispatcher,ag=Vr.ReactCurrentOwner,fn=Vr.ReactCurrentBatchConfig,we=0,dt=null,Ge=null,mt=0,Kt=0,ho=Hs(0),rt=0,Rl=null,Si=0,jd=0,lg=0,sl=null,Ft=null,cg=0,$o=1/0,vr=null,ed=!1,_p=null,Es=null,Qc=!1,fs=null,td=0,il=0,Ep=null,yu=-1,vu=0;function Nt(){return we&6?We():yu!==-1?yu:yu=We()}function xs(t){return t.mode&1?we&2&&mt!==0?mt&-mt:MC.transition!==null?(vu===0&&(vu=zE()),vu):(t=Te,t!==0||(t=window.event,t=t===void 0?16:KE(t.type)),t):1}function Rn(t,e,n,r){if(50<il)throw il=0,Ep=null,Error(q(185));Jl(t,n,r),(!(we&2)||t!==dt)&&(t===dt&&(!(we&2)&&(jd|=n),rt===4&&ns(t,mt)),Wt(t,r),n===1&&we===0&&!(e.mode&1)&&($o=We()+500,Od&&qs()))}function Wt(t,e){var n=t.callbackNode;MA(t,e);var r=ju(t,t===dt?mt:0);if(r===0)n!==null&&Dv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Dv(n),e===1)t.tag===0?LC(Sw.bind(null,t)):f1(Sw.bind(null,t)),kC(function(){!(we&6)&&qs()}),n=null;else{switch($E(r)){case 1:n=Lm;break;case 4:n=FE;break;case 16:n=Vu;break;case 536870912:n=UE;break;default:n=Vu}n=dx(n,sx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sx(t,e){if(yu=-1,vu=0,we&6)throw Error(q(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var r=ju(t,t===dt?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nd(t,r);else{e=r;var s=we;we|=2;var i=ox();(dt!==t||mt!==e)&&(vr=null,$o=We()+500,vi(t,e));do try{nP();break}catch(a){ix(t,a)}while(!0);Km(),Zu.current=i,we=s,Ge!==null?e=0:(dt=null,mt=0,e=rt)}if(e!==0){if(e===2&&(s=Kf(t),s!==0&&(r=s,e=xp(t,s))),e===1)throw n=Rl,vi(t,0),ns(t,r),Wt(t,We()),n;if(e===6)ns(t,r);else{if(s=t.current.alternate,!(r&30)&&!eP(s)&&(e=nd(t,r),e===2&&(i=Kf(t),i!==0&&(r=i,e=xp(t,i))),e===1))throw n=Rl,vi(t,0),ns(t,r),Wt(t,We()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:oi(t,Ft,vr);break;case 3:if(ns(t,r),(r&130023424)===r&&(e=cg+500-We(),10<e)){if(ju(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=np(oi.bind(null,t,Ft,vr),e);break}oi(t,Ft,vr);break;case 4:if(ns(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Pn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZC(r/1960))-r,10<r){t.timeoutHandle=np(oi.bind(null,t,Ft,vr),r);break}oi(t,Ft,vr);break;case 5:oi(t,Ft,vr);break;default:throw Error(q(329))}}}return Wt(t,We()),t.callbackNode===n?sx.bind(null,t):null}function xp(t,e){var n=sl;return t.current.memoizedState.isDehydrated&&(vi(t,e).flags|=256),t=nd(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&Tp(e)),t}function Tp(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function eP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ns(t,e){for(e&=~lg,e&=~jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function Sw(t){if(we&6)throw Error(q(327));wo();var e=ju(t,0);if(!(e&1))return Wt(t,We()),null;var n=nd(t,e);if(t.tag!==0&&n===2){var r=Kf(t);r!==0&&(e=r,n=xp(t,r))}if(n===1)throw n=Rl,vi(t,0),ns(t,e),Wt(t,We()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,oi(t,Ft,vr),Wt(t,We()),null}function ug(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&($o=We()+500,Od&&qs())}}function bi(t){fs!==null&&fs.tag===0&&!(we&6)&&wo();var e=we;we|=1;var n=fn.transition,r=Te;try{if(fn.transition=null,Te=1,t)return t()}finally{Te=r,fn.transition=n,we=e,!(we&6)&&qs()}}function dg(){Kt=ho.current,Ne(ho)}function vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RC(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(Hm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bu();break;case 3:Uo(),Ne($t),Ne(bt),eg();break;case 5:Zm(r);break;case 4:Uo();break;case 13:Ne(Me);break;case 19:Ne(Me);break;case 10:Qm(r.type._context);break;case 22:case 23:dg()}n=n.return}if(dt=t,Ge=t=Ts(t.current,null),mt=Kt=e,rt=0,Rl=null,lg=jd=Si=0,Ft=sl=null,ci!==null){for(e=0;e<ci.length;e++)if(n=ci[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ci=null}return t}function ix(t,e){do{var n=Ge;try{if(Km(),pu.current=Ju,Xu){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xu=!1}if(Ii=0,ut=tt=Ve=null,nl=!1,Al=0,ag.current=null,n===null||n.return===null){rt=1,Rl=e,Ge=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=mt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=hw(o);if(m!==null){m.flags&=-257,fw(m,o,a,i,e),m.mode&1&&dw(i,u,e),e=m,c=u;var S=e.updateQueue;if(S===null){var _=new Set;_.add(c),e.updateQueue=_}else S.add(c);break e}else{if(!(e&1)){dw(i,u,e),hg();break e}c=Error(q(426))}}else if(Oe&&a.mode&1){var E=hw(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),fw(E,o,a,i,e),qm(zo(c,a));break e}}i=c=zo(c,a),rt!==4&&(rt=2),sl===null?sl=[i]:sl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=$1(i,c,e);iw(i,w);break e;case 1:a=c;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Es===null||!Es.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=B1(i,a,e);iw(i,D);break e}}i=i.return}while(i!==null)}lx(n)}catch(O){e=O,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function ox(){var t=Zu.current;return Zu.current=Ju,t===null?Ju:t}function hg(){(rt===0||rt===3||rt===2)&&(rt=4),dt===null||!(Si&268435455)&&!(jd&268435455)||ns(dt,mt)}function nd(t,e){var n=we;we|=2;var r=ox();(dt!==t||mt!==e)&&(vr=null,vi(t,e));do try{tP();break}catch(s){ix(t,s)}while(!0);if(Km(),we=n,Zu.current=r,Ge!==null)throw Error(q(261));return dt=null,mt=0,rt}function tP(){for(;Ge!==null;)ax(Ge)}function nP(){for(;Ge!==null&&!AA();)ax(Ge)}function ax(t){var e=ux(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?lx(t):Ge=e,ag.current=null}function lx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QC(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Ge=null;return}}else if(n=KC(n,e,Kt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);rt===0&&(rt=5)}function oi(t,e,n){var r=Te,s=fn.transition;try{fn.transition=null,Te=1,rP(t,e,n,r)}finally{fn.transition=s,Te=r}return null}function rP(t,e,n,r){do wo();while(fs!==null);if(we&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(VA(t,i),t===dt&&(Ge=dt=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qc||(Qc=!0,dx(Vu,function(){return wo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=fn.transition,fn.transition=null;var o=Te;Te=1;var a=we;we|=4,ag.current=null,XC(t,n),nx(n,t),TC(ep),Fu=!!Zf,ep=Zf=null,t.current=n,JC(n),CA(),we=a,Te=o,fn.transition=i}else t.current=n;if(Qc&&(Qc=!1,fs=t,td=s),i=t.pendingLanes,i===0&&(Es=null),kA(n.stateNode),Wt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ed)throw ed=!1,t=_p,_p=null,t;return td&1&&t.tag!==0&&wo(),i=t.pendingLanes,i&1?t===Ep?il++:(il=0,Ep=t):il=0,qs(),null}function wo(){if(fs!==null){var t=$E(td),e=fn.transition,n=Te;try{if(fn.transition=null,Te=16>t?16:t,fs===null)var r=!1;else{if(t=fs,fs=null,td=0,we&6)throw Error(q(331));var s=we;for(we|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:rl(8,d,i)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var p=d.sibling,m=d.return;if(Z1(d),d===u){Z=null;break}if(p!==null){p.return=m,Z=p;break}Z=m}}}var S=i.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Z=w;break e}Z=i.return}}var v=t.current;for(Z=v;Z!==null;){o=Z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Z=x;else e:for(o=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vd(9,a)}}catch(O){$e(a,a.return,O)}if(a===o){Z=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,Z=D;break e}Z=a.return}}if(we=s,qs(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Pd,t)}catch{}r=!0}return r}finally{Te=n,fn.transition=e}}return!1}function bw(t,e,n){e=zo(n,e),e=$1(t,e,1),t=_s(t,e,1),e=Nt(),t!==null&&(Jl(t,1,e),Wt(t,e))}function $e(t,e,n){if(t.tag===3)bw(t,t,n);else for(;e!==null;){if(e.tag===3){bw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){t=zo(n,t),t=B1(e,t,1),e=_s(e,t,1),t=Nt(),e!==null&&(Jl(e,1,t),Wt(e,t));break}}e=e.return}}function sP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(mt&n)===n&&(rt===4||rt===3&&(mt&130023424)===mt&&500>We()-cg?vi(t,0):lg|=n),Wt(t,e)}function cx(t,e){e===0&&(t.mode&1?(e=Fc,Fc<<=1,!(Fc&130023424)&&(Fc=4194304)):e=1);var n=Nt();t=Pr(t,e),t!==null&&(Jl(t,e,n),Wt(t,n))}function iP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cx(t,n)}function oP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),cx(t,n)}var ux;ux=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,GC(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Oe&&e.flags&1048576&&p1(e,qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gu(t,e),t=e.pendingProps;var s=Vo(e,bt.current);vo(e,n),s=ng(null,e,r,t,s,n);var i=rg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(i=!0,Wu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xm(e),s.updater=Md,e.stateNode=s,s._reactInternals=e,cp(e,r,t,n),e=hp(null,e,r,!0,i,n)):(e.tag=0,Oe&&i&&Wm(e),Rt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lP(r),t=En(r,t),s){case 0:e=dp(null,e,r,t,n);break e;case 1:e=gw(null,e,r,t,n);break e;case 11:e=pw(null,e,r,t,n);break e;case 14:e=mw(null,e,r,En(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),dp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),gw(t,e,r,s,n);case 3:e:{if(G1(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_1(t,e),Qu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zo(Error(q(423)),e),e=yw(t,e,r,n,s);break e}else if(r!==s){s=zo(Error(q(424)),e),e=yw(t,e,r,n,s);break e}else for(Yt=ws(e.stateNode.containerInfo.firstChild),Jt=e,Oe=!0,bn=null,n=v1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===s){e=Rr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 5:return E1(e),t===null&&op(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,tp(r,s)?o=null:i!==null&&tp(r,i)&&(e.flags|=32),q1(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&op(e),null;case 13:return K1(t,e,n);case 4:return Jm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),pw(t,e,r,s,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ae(Gu,r._currentValue),r._currentValue=o,i!==null)if(Nn(i.value,o)){if(i.children===s.children&&!$t.current){e=Rr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Sr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),ap(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ap(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Rt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vo(e,n),s=pn(s),r=r(s),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return r=e.type,s=En(r,e.pendingProps),s=En(r.type,s),mw(t,e,r,s,n);case 15:return W1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:En(r,s),gu(t,e),e.tag=1,Bt(r)?(t=!0,Wu(e)):t=!1,vo(e,n),z1(e,r,s),cp(e,r,s,n),hp(null,e,r,!0,t,n);case 19:return Q1(t,e,n);case 22:return H1(t,e,n)}throw Error(q(156,e.tag))};function dx(t,e){return jE(t,e)}function aP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new aP(t,e,n,r)}function fg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lP(t){if(typeof t=="function")return fg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Nm)return 11;if(t===Dm)return 14}return 2}function Ts(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")fg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case to:return wi(n.children,s,i,e);case km:o=8,s|=8;break;case Df:return t=hn(12,n,e,s|2),t.elementType=Df,t.lanes=i,t;case Of:return t=hn(13,n,e,s),t.elementType=Of,t.lanes=i,t;case Lf:return t=hn(19,n,e,s),t.elementType=Lf,t.lanes=i,t;case EE:return Fd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wE:o=10;break e;case _E:o=9;break e;case Nm:o=11;break e;case Dm:o=14;break e;case Zr:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=hn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function wi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Fd(t,e,n,r){return t=hn(22,t,r,e),t.elementType=EE,t.lanes=n,t.stateNode={isHidden:!1},t}function cf(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function uf(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pg(t,e,n,r,s,i,o,a,c){return t=new cP(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=hn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xm(i),t}function uP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hx(t){if(!t)return Ns;t=t._reactInternals;e:{if(Oi(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Bt(n))return h1(t,n,e)}return e}function fx(t,e,n,r,s,i,o,a,c){return t=pg(n,r,!0,t,s,i,o,a,c),t.context=hx(null),n=t.current,r=Nt(),s=xs(n),i=Sr(r,s),i.callback=e??null,_s(n,i,s),t.current.lanes=s,Jl(t,s,r),Wt(t,r),t}function Ud(t,e,n,r){var s=e.current,i=Nt(),o=xs(s);return n=hx(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(s,e,o),t!==null&&(Rn(t,s,o,i),fu(t,s,o)),o}function rd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Aw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mg(t,e){Aw(t,e),(t=t.alternate)&&Aw(t,e)}function dP(){return null}var px=typeof reportError=="function"?reportError:function(t){console.error(t)};function gg(t){this._internalRoot=t}zd.prototype.render=gg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Ud(t,e,null,null)};zd.prototype.unmount=gg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){Ud(null,t,null,null)}),e[Cr]=null}};function zd(t){this._internalRoot=t}zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=HE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ts.length&&e!==0&&e<ts[n].priority;n++);ts.splice(n,0,t),n===0&&GE(t)}};function yg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cw(){}function hP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=rd(o);i.call(u)}}var o=fx(e,r,t,0,null,!1,!1,"",Cw);return t._reactRootContainer=o,t[Cr]=o.current,xl(t.nodeType===8?t.parentNode:t),bi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=rd(c);a.call(u)}}var c=pg(t,0,!1,null,null,!1,!1,"",Cw);return t._reactRootContainer=c,t[Cr]=c.current,xl(t.nodeType===8?t.parentNode:t),bi(function(){Ud(e,c,n,r)}),c}function Bd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=rd(o);a.call(c)}}Ud(e,o,t,s)}else o=hP(n,e,t,s,r);return rd(o)}BE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ba(e.pendingLanes);n!==0&&(Mm(e,n|1),Wt(e,We()),!(we&6)&&($o=We()+500,qs()))}break;case 13:bi(function(){var r=Pr(t,1);if(r!==null){var s=Nt();Rn(r,t,1,s)}}),mg(t,1)}};Vm=function(t){if(t.tag===13){var e=Pr(t,134217728);if(e!==null){var n=Nt();Rn(e,t,134217728,n)}mg(t,134217728)}};WE=function(t){if(t.tag===13){var e=xs(t),n=Pr(t,e);if(n!==null){var r=Nt();Rn(n,t,e,r)}mg(t,e)}};HE=function(){return Te};qE=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Hf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Dd(r);if(!s)throw Error(q(90));TE(r),jf(r,s)}}}break;case"textarea":SE(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};NE=ug;DE=bi;var fP={usingClientEntryPoint:!1,Events:[ec,io,Dd,RE,kE,ug]},Ma={findFiberByHostInstance:li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pP={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ME(t),t===null?null:t.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||dP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Pd=Yc.inject(pP),er=Yc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fP;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yg(e))throw Error(q(200));return uP(t,e,null,n)};tn.createRoot=function(t,e){if(!yg(t))throw Error(q(299));var n=!1,r="",s=px;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pg(t,1,!1,null,null,n,!1,r,s),t[Cr]=e.current,xl(t.nodeType===8?t.parentNode:t),new gg(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=ME(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return bi(t)};tn.hydrate=function(t,e,n){if(!$d(e))throw Error(q(200));return Bd(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!yg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=px;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fx(e,null,t,1,n??null,s,!1,i,o),t[Cr]=e.current,xl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zd(e)};tn.render=function(t,e,n){if(!$d(e))throw Error(q(200));return Bd(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!$d(t))throw Error(q(40));return t._reactRootContainer?(bi(function(){Bd(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};tn.unstable_batchedUpdates=ug;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$d(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Bd(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mx)}catch(t){console.error(t)}}mx(),mE.exports=tn;var nc=mE.exports;const gx=nE(nc);var yx,Pw=nc;yx=Pw.createRoot,Pw.hydrateRoot;const mP=1,gP=1e6;let df=0;function yP(){return df=(df+1)%Number.MAX_SAFE_INTEGER,df.toString()}const hf=new Map,Rw=t=>{if(hf.has(t))return;const e=setTimeout(()=>{hf.delete(t),ol({type:"REMOVE_TOAST",toastId:t})},gP);hf.set(t,e)},vP=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,mP)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Rw(n):t.toasts.forEach(r=>{Rw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},_u=[];let Eu={toasts:[]};function ol(t){Eu=vP(Eu,t),_u.forEach(e=>{e(Eu)})}function wP({...t}){const e=yP(),n=s=>ol({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ol({type:"DISMISS_TOAST",toastId:e});return ol({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function _P(){const[t,e]=P.useState(Eu);return P.useEffect(()=>(_u.push(e),()=>{const n=_u.indexOf(e);n>-1&&_u.splice(n,1)}),[t]),{...t,toast:wP,dismiss:n=>ol({type:"DISMISS_TOAST",toastId:n})}}function nt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function kw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vx(...t){return e=>{let n=!1;const r=t.map(s=>{const i=kw(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():kw(t[s],null)}}}}function Dn(...t){return P.useCallback(vx(...t),t)}function Wd(t,e=[]){let n=[];function r(i,o){const a=P.createContext(o),c=n.length;n=[...n,o];const u=f=>{var w;const{scope:p,children:m,...S}=f,_=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,E=P.useMemo(()=>S,Object.values(S));return g.jsx(_.Provider,{value:E,children:m})};u.displayName=i+"Provider";function d(f,p){var _;const m=((_=p==null?void 0:p[t])==null?void 0:_[c])||a,S=P.useContext(m);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>P.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,EP(s,...e)]}function EP(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Ip(t){const e=xP(t),n=P.forwardRef((r,s)=>{const{children:i,...o}=r,a=P.Children.toArray(i),c=a.find(IP);if(c){const u=c.props.children,d=a.map(f=>f===c?P.Children.count(u)>1?P.Children.only(null):P.isValidElement(u)?u.props.children:null:f);return g.jsx(e,{...o,ref:s,children:P.isValidElement(u)?P.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function xP(t){const e=P.forwardRef((n,r)=>{const{children:s,...i}=n;if(P.isValidElement(s)){const o=bP(s),a=SP(i,s.props);return s.type!==P.Fragment&&(a.ref=r?vx(r,o):o),P.cloneElement(s,a)}return P.Children.count(s)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wx=Symbol("radix.slottable");function TP(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=wx,e}function IP(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wx}function SP(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function bP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function AP(t){const e=t+"CollectionProvider",[n,r]=Wd(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:E,children:w}=_,v=G.useRef(null),x=G.useRef(new Map).current;return g.jsx(s,{scope:E,itemMap:x,collectionRef:v,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=Ip(a),u=G.forwardRef((_,E)=>{const{scope:w,children:v}=_,x=i(a,w),D=Dn(E,x.collectionRef);return g.jsx(c,{ref:D,children:v})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ip(d),m=G.forwardRef((_,E)=>{const{scope:w,children:v,...x}=_,D=G.useRef(null),O=Dn(E,D),M=i(d,w);return G.useEffect(()=>(M.itemMap.set(D,{ref:D,...x}),()=>void M.itemMap.delete(D))),g.jsx(p,{[f]:"",ref:O,children:v})});m.displayName=d;function S(_){const E=i(t+"CollectionConsumer",_);return G.useCallback(()=>{const v=E.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((M,I)=>x.indexOf(M.ref.current)-x.indexOf(I.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},S,r]}var CP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=CP.reduce((t,e)=>{const n=Ip(`Primitive.${e}`),r=P.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function _x(t,e){t&&nc.flushSync(()=>t.dispatchEvent(e))}function Ds(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function PP(t,e=globalThis==null?void 0:globalThis.document){const n=Ds(t);P.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var RP="DismissableLayer",Sp="dismissableLayer.update",kP="dismissableLayer.pointerDownOutside",NP="dismissableLayer.focusOutside",Nw,Ex=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vg=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=P.useContext(Ex),[d,f]=P.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=P.useState({}),S=Dn(e,I=>f(I)),_=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=_.indexOf(E),v=d?_.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,D=v>=w,O=OP(I=>{const T=I.target,C=[...u.branches].some(R=>R.contains(T));!D||C||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),M=LP(I=>{const T=I.target;[...u.branches].some(R=>R.contains(T))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return PP(I=>{v===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),P.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Nw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Nw)}},[d,p,n,u]),P.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dw())},[d,u]),P.useEffect(()=>{const I=()=>m({});return document.addEventListener(Sp,I),()=>document.removeEventListener(Sp,I)},[]),g.jsx(Ht.div,{...c,ref:S,style:{pointerEvents:x?D?"auto":"none":void 0,...t.style},onFocusCapture:nt(t.onFocusCapture,M.onFocusCapture),onBlurCapture:nt(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:nt(t.onPointerDownCapture,O.onPointerDownCapture)})});vg.displayName=RP;var DP="DismissableLayerBranch",xx=P.forwardRef((t,e)=>{const n=P.useContext(Ex),r=P.useRef(null),s=Dn(e,r);return P.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),g.jsx(Ht.div,{...t,ref:s})});xx.displayName=DP;function OP(t,e=globalThis==null?void 0:globalThis.document){const n=Ds(t),r=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){Tx(kP,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function LP(t,e=globalThis==null?void 0:globalThis.document){const n=Ds(t),r=P.useRef(!1);return P.useEffect(()=>{const s=i=>{i.target&&!r.current&&Tx(NP,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dw(){const t=new CustomEvent(Sp);document.dispatchEvent(t)}function Tx(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_x(s,i):s.dispatchEvent(i)}var MP=vg,VP=xx,Os=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},jP="Portal",Ix=P.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=P.useState(!1);Os(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?gx.createPortal(g.jsx(Ht.div,{...r,ref:e}),o):null});Ix.displayName=jP;function FP(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var wg=t=>{const{present:e,children:n}=t,r=UP(e),s=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),i=Dn(r.ref,zP(s));return typeof n=="function"||r.isPresent?P.cloneElement(s,{ref:i}):null};wg.displayName="Presence";function UP(t){const[e,n]=P.useState(),r=P.useRef(null),s=P.useRef(t),i=P.useRef("none"),o=t?"mounted":"unmounted",[a,c]=FP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const u=Xc(r.current);i.current=a==="mounted"?u:"none"},[a]),Os(()=>{const u=r.current,d=s.current;if(d!==t){const p=i.current,m=Xc(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Os(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const _=Xc(r.current).includes(m.animationName);if(m.target===e&&_&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},p=m=>{m.target===e&&(i.current=Xc(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Xc(t){return(t==null?void 0:t.animationName)||"none"}function zP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $P=fE[" useInsertionEffect ".trim().toString()]||Os;function BP({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=WP({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const d=P.useRef(t!==void 0);P.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=P.useCallback(d=>{var f;if(a){const p=HP(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[a,t,i,o]);return[c,u]}function WP({defaultProp:t,onChange:e}){const[n,r]=P.useState(t),s=P.useRef(n),i=P.useRef(e);return $P(()=>{i.current=e},[e]),P.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function HP(t){return typeof t=="function"}var qP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GP="VisuallyHidden",Hd=P.forwardRef((t,e)=>g.jsx(Ht.span,{...t,ref:e,style:{...qP,...t.style}}));Hd.displayName=GP;var KP=Hd,_g="ToastProvider",[Eg,QP,YP]=AP("Toast"),[Sx,T3]=Wd("Toast",[YP]),[XP,qd]=Sx(_g),bx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=P.useState(null),[u,d]=P.useState(0),f=P.useRef(!1),p=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${_g}\`. Expected non-empty \`string\`.`),g.jsx(Eg.Provider,{scope:e,children:g.jsx(XP,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:P.useCallback(()=>d(m=>m+1),[]),onToastRemove:P.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};bx.displayName=_g;var Ax="ToastViewport",JP=["F8"],bp="toast.viewportPause",Ap="toast.viewportResume",Cx=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=JP,label:s="Notifications ({hotkey})",...i}=t,o=qd(Ax,n),a=QP(n),c=P.useRef(null),u=P.useRef(null),d=P.useRef(null),f=P.useRef(null),p=Dn(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;P.useEffect(()=>{const E=w=>{var x;r.length!==0&&r.every(D=>w[D]||w.code===D)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),P.useEffect(()=>{const E=c.current,w=f.current;if(S&&E&&w){const v=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(bp);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Ap);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},D=M=>{!E.contains(M.relatedTarget)&&x()},O=()=>{E.contains(document.activeElement)||x()};return E.addEventListener("focusin",v),E.addEventListener("focusout",D),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",D),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[S,o.isClosePausedRef]);const _=P.useCallback(({tabbingDirection:E})=>{const v=a().map(x=>{const D=x.ref.current,O=[D,...dR(D)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return P.useEffect(()=>{const E=f.current;if(E){const w=v=>{var O,M,I;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const T=document.activeElement,C=v.shiftKey;if(v.target===E&&C){(O=u.current)==null||O.focus();return}const N=_({tabbingDirection:C?"backwards":"forwards"}),k=N.findIndex(H=>H===T);ff(N.slice(k+1))?v.preventDefault():C?(M=u.current)==null||M.focus():(I=d.current)==null||I.focus()}};return E.addEventListener("keydown",w),()=>E.removeEventListener("keydown",w)}},[a,_]),g.jsxs(VP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&g.jsx(Cp,{ref:u,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"forwards"});ff(E)}}),g.jsx(Eg.Slot,{scope:n,children:g.jsx(Ht.ol,{tabIndex:-1,...i,ref:p})}),S&&g.jsx(Cp,{ref:d,onFocusFromOutsideViewport:()=>{const E=_({tabbingDirection:"backwards"});ff(E)}})]})});Cx.displayName=Ax;var Px="ToastFocusProxy",Cp=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=qd(Px,n);return g.jsx(Hd,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Cp.displayName=Px;var rc="Toast",ZP="toast.swipeStart",eR="toast.swipeMove",tR="toast.swipeCancel",nR="toast.swipeEnd",Rx=P.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=BP({prop:r,defaultProp:s??!0,onChange:i,caller:rc});return g.jsx(wg,{present:n||a,children:g.jsx(iR,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Ds(t.onPause),onResume:Ds(t.onResume),onSwipeStart:nt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:nt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:nt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:nt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Rx.displayName=rc;var[rR,sR]=Sx(rc,{onClose(){}}),iR=P.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...S}=t,_=qd(rc,n),[E,w]=P.useState(null),v=Dn(e,H=>w(H)),x=P.useRef(null),D=P.useRef(null),O=s||_.duration,M=P.useRef(0),I=P.useRef(O),T=P.useRef(0),{onToastAdd:C,onToastRemove:R}=_,A=Ds(()=>{var W;(E==null?void 0:E.contains(document.activeElement))&&((W=_.viewport)==null||W.focus()),o()}),N=P.useCallback(H=>{!H||H===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(A,H))},[A]);P.useEffect(()=>{const H=_.viewport;if(H){const W=()=>{N(I.current),u==null||u()},B=()=>{const J=new Date().getTime()-M.current;I.current=I.current-J,window.clearTimeout(T.current),c==null||c()};return H.addEventListener(bp,B),H.addEventListener(Ap,W),()=>{H.removeEventListener(bp,B),H.removeEventListener(Ap,W)}}},[_.viewport,O,c,u,N]),P.useEffect(()=>{i&&!_.isClosePausedRef.current&&N(O)},[i,O,_.isClosePausedRef,N]),P.useEffect(()=>(C(),()=>R()),[C,R]);const k=P.useMemo(()=>E?Vx(E):null,[E]);return _.viewport?g.jsxs(g.Fragment,{children:[k&&g.jsx(oR,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),g.jsx(rR,{scope:n,onClose:A,children:nc.createPortal(g.jsx(Eg.ItemSlot,{scope:n,children:g.jsx(MP,{asChild:!0,onEscapeKeyDown:nt(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||A(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":_.swipeDirection,...S,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:nt(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:nt(t.onPointerDown,H=>{H.button===0&&(x.current={x:H.clientX,y:H.clientY})}),onPointerMove:nt(t.onPointerMove,H=>{if(!x.current)return;const W=H.clientX-x.current.x,B=H.clientY-x.current.y,J=!!D.current,V=["left","right"].includes(_.swipeDirection),F=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,Q=V?F(0,W):0,te=V?0:F(0,B),ee=H.pointerType==="touch"?10:2,de={x:Q,y:te},ce={originalEvent:H,delta:de};J?(D.current=de,Jc(eR,f,ce,{discrete:!1})):Ow(de,_.swipeDirection,ee)?(D.current=de,Jc(ZP,d,ce,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(W)>ee||Math.abs(B)>ee)&&(x.current=null)}),onPointerUp:nt(t.onPointerUp,H=>{const W=D.current,B=H.target;if(B.hasPointerCapture(H.pointerId)&&B.releasePointerCapture(H.pointerId),D.current=null,x.current=null,W){const J=H.currentTarget,V={originalEvent:H,delta:W};Ow(W,_.swipeDirection,_.swipeThreshold)?Jc(nR,m,V,{discrete:!0}):Jc(tR,p,V,{discrete:!0}),J.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),oR=t=>{const{__scopeToast:e,children:n,...r}=t,s=qd(rc,e),[i,o]=P.useState(!1),[a,c]=P.useState(!1);return cR(()=>o(!0)),P.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:g.jsx(Ix,{asChild:!0,children:g.jsx(Hd,{...r,children:i&&g.jsxs(g.Fragment,{children:[s.label," ",n]})})})},aR="ToastTitle",kx=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Ht.div,{...r,ref:e})});kx.displayName=aR;var lR="ToastDescription",Nx=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Ht.div,{...r,ref:e})});Nx.displayName=lR;var Dx="ToastAction",Ox=P.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(Mx,{altText:n,asChild:!0,children:g.jsx(xg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Dx}\`. Expected non-empty \`string\`.`),null)});Ox.displayName=Dx;var Lx="ToastClose",xg=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=sR(Lx,n);return g.jsx(Mx,{asChild:!0,children:g.jsx(Ht.button,{type:"button",...r,ref:e,onClick:nt(t.onClick,s.onClose)})})});xg.displayName=Lx;var Mx=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return g.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function Vx(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),uR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Vx(r))}}),e}function Jc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?_x(s,i):s.dispatchEvent(i)}var Ow=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function cR(t=()=>{}){const e=Ds(t);Os(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function uR(t){return t.nodeType===t.ELEMENT_NODE}function dR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ff(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var hR=bx,jx=Cx,Fx=Rx,Ux=kx,zx=Nx,$x=Ox,Bx=xg;function Wx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Wx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Hx(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Wx(t))&&(r&&(r+=" "),r+=e);return r}const Lw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Mw=Hx,fR=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Mw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const p=Lw(d)||Lw(f);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(S=>{let[_,E]=S;return Array.isArray(E)?E.includes({...i,...a}[_]):{...i,...a}[_]===E})?[...u,f,p]:u},[]);return Mw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>P.createElement("svg",{ref:c,...mR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:qx("lucide",s),...a},[...o.map(([u,d])=>P.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(t,e)=>{const n=P.forwardRef(({className:r,...s},i)=>P.createElement(gR,{ref:i,iconNode:e,className:qx(`lucide-${pR(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Je("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Je("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Je("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Je("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Je("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=Je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Je("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=Je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sg="-",CR=t=>{const e=RR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Sg);return a[0]===""&&a.length!==1&&a.shift(),Gx(a,e)||PR(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},Gx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Gx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Sg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},jw=/^\[(.+)\]$/,PR=t=>{if(jw.test(t)){const e=jw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},RR=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return NR(Object.entries(t.classGroups),n).forEach(([i,o])=>{kp(o,r,i,e)}),r},kp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Fw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(kR(s)){kp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{kp(o,Fw(e,i),n,r)})})},Fw=(t,e)=>{let n=t;return e.split(Sg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},kR=t=>t.isThemeGetter,NR=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,DR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Kx="!",OR=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,f;for(let E=0;E<a.length;E++){let w=a[E];if(u===0){if(w===s&&(r||a.slice(E,E+i)===e)){c.push(a.slice(d,E)),d=E+i;continue}if(w==="/"){f=E;continue}}w==="["?u++:w==="]"&&u--}const p=c.length===0?a:a.substring(d),m=p.startsWith(Kx),S=m?p.substring(1):p,_=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},LR=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},MR=t=>({cache:DR(t.cacheSize),parseClassName:OR(t),...CR(t)}),VR=/\s+/,jR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(VR);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let S=!!m,_=r(S?p.substring(0,m):p);if(!_){if(!S){a=u+(a.length>0?" "+a:a);continue}if(_=r(p),!_){a=u+(a.length>0?" "+a:a);continue}S=!1}const E=LR(d).join(":"),w=f?E+Kx:E,v=w+_;if(i.includes(v))continue;i.push(v);const x=s(_,S);for(let D=0;D<x.length;++D){const O=x[D];i.push(w+O)}a=u+(a.length>0?" "+a:a)}return a};function FR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Qx(e))&&(r&&(r+=" "),r+=n);return r}const Qx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qx(t[r]))&&(n&&(n+=" "),n+=e);return n};function UR(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=MR(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=jR(c,n);return s(c,d),d}return function(){return i(FR.apply(null,arguments))}}const Pe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Yx=/^\[(?:([a-z-]+):)?(.+)\]$/i,zR=/^\d+\/\d+$/,$R=new Set(["px","full","screen"]),BR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,GR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gr=t=>_o(t)||$R.has(t)||zR.test(t),Qr=t=>ra(t,"length",tk),_o=t=>!!t&&!Number.isNaN(Number(t)),pf=t=>ra(t,"number",_o),ja=t=>!!t&&Number.isInteger(Number(t)),KR=t=>t.endsWith("%")&&_o(t.slice(0,-1)),ue=t=>Yx.test(t),Yr=t=>BR.test(t),QR=new Set(["length","size","percentage"]),YR=t=>ra(t,QR,Xx),XR=t=>ra(t,"position",Xx),JR=new Set(["image","url"]),ZR=t=>ra(t,JR,rk),ek=t=>ra(t,"",nk),Fa=()=>!0,ra=(t,e,n)=>{const r=Yx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},tk=t=>WR.test(t)&&!HR.test(t),Xx=()=>!1,nk=t=>qR.test(t),rk=t=>GR.test(t),sk=()=>{const t=Pe("colors"),e=Pe("spacing"),n=Pe("blur"),r=Pe("brightness"),s=Pe("borderColor"),i=Pe("borderRadius"),o=Pe("borderSpacing"),a=Pe("borderWidth"),c=Pe("contrast"),u=Pe("grayscale"),d=Pe("hueRotate"),f=Pe("invert"),p=Pe("gap"),m=Pe("gradientColorStops"),S=Pe("gradientColorStopPositions"),_=Pe("inset"),E=Pe("margin"),w=Pe("opacity"),v=Pe("padding"),x=Pe("saturate"),D=Pe("scale"),O=Pe("sepia"),M=Pe("skew"),I=Pe("space"),T=Pe("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",ue,e],N=()=>[ue,e],k=()=>["",gr,Qr],H=()=>["auto",_o,ue],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ue],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[_o,ue];return{cacheSize:500,separator:":",theme:{colors:[Fa],spacing:[gr,Qr],blur:["none","",Yr,ue],brightness:te(),borderColor:[t],borderRadius:["none","","full",Yr,ue],borderSpacing:N(),borderWidth:k(),contrast:te(),grayscale:F(),hueRotate:te(),invert:F(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[KR,Qr],inset:A(),margin:A(),opacity:te(),padding:N(),saturate:te(),scale:te(),sepia:F(),skew:te(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Yr]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),ue]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ja,ue]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",ja,ue]}],"grid-cols":[{"grid-cols":[Fa]}],"col-start-end":[{col:["auto",{span:["full",ja,ue]},ue]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Fa]}],"row-start-end":[{row:["auto",{span:[ja,ue]},ue]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Yr]},Yr]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Yr,Qr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pf]}],"font-family":[{font:[Fa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",_o,pf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gr,Qr]}],"underline-offset":[{"underline-offset":["auto",gr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),XR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",YR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[gr,ue]}],"outline-w":[{outline:[gr,Qr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[gr,Qr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yr,ek]}],"shadow-color":[{shadow:[Fa]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yr,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[ja,ue]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gr,Qr,pf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ik=UR(sk);function Li(...t){return ik(Hx(t))}const ok=hR,Jx=P.forwardRef(({className:t,...e},n)=>g.jsx(jx,{ref:n,className:Li("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Jx.displayName=jx.displayName;const ak=fR("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Zx=P.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(Fx,{ref:r,className:Li(ak({variant:e}),t),...n}));Zx.displayName=Fx.displayName;const lk=P.forwardRef(({className:t,...e},n)=>g.jsx($x,{ref:n,className:Li("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));lk.displayName=$x.displayName;const eT=P.forwardRef(({className:t,...e},n)=>g.jsx(Bx,{ref:n,className:Li("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(Gd,{className:"h-4 w-4"})}));eT.displayName=Bx.displayName;const tT=P.forwardRef(({className:t,...e},n)=>g.jsx(Ux,{ref:n,className:Li("text-sm font-semibold",t),...e}));tT.displayName=Ux.displayName;const nT=P.forwardRef(({className:t,...e},n)=>g.jsx(zx,{ref:n,className:Li("text-sm opacity-90",t),...e}));nT.displayName=zx.displayName;function ck(){const{toasts:t}=_P();return g.jsxs(ok,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return g.jsxs(Zx,{...i,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(tT,{children:n}),r&&g.jsx(nT,{children:r})]}),s,g.jsx(eT,{})]},e)}),g.jsx(Jx,{})]})}var Uw=["light","dark"],uk="(prefers-color-scheme: dark)",dk=P.createContext(void 0),hk={setTheme:t=>{},themes:[]},fk=()=>{var t;return(t=P.useContext(dk))!=null?t:hk};P.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Uw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(S,_=!1,E=!0)=>{let w=o?o[S]:S,v=_?S+"|| ''":`'${w}'`,x="";return s&&E&&!_&&Uw.includes(S)&&(x+=`d.style.colorScheme = '${S}';`),n==="class"?_||w?x+=`c.add(${v})`:x+="null":w&&(x+=`d[s](n,${v})`),x},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${uk}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${u?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return P.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var pk=t=>{switch(t){case"success":return yk;case"info":return wk;case"warning":return vk;case"error":return _k;default:return null}},mk=Array(12).fill(0),gk=({visible:t,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},mk.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yk=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vk=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),wk=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_k=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ek=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xk=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Np=1,Tk=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Np++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async u=>{if(o=["resolve",u],G.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(Sk(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Np++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Vt=new Tk,Ik=(t,e)=>{let n=(e==null?void 0:e.id)||Np++;return Vt.addToast({title:t,...e,id:n}),n},Sk=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bk=Ik,Ak=()=>Vt.toasts,Ck=()=>Vt.getActiveToasts();Object.assign(bk,{success:Vt.success,info:Vt.info,warning:Vt.warning,error:Vt.error,custom:Vt.custom,message:Vt.message,promise:Vt.promise,dismiss:Vt.dismiss,loading:Vt.loading},{getHistory:Ak,getToasts:Ck});function Pk(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Pk(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zc(t){return t.label!==void 0}var Rk=3,kk="32px",Nk="16px",zw=4e3,Dk=356,Ok=14,Lk=20,Mk=200;function _n(...t){return t.filter(Boolean).join(" ")}function Vk(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var jk=t=>{var e,n,r,s,i,o,a,c,u,d,f;let{invert:p,toast:m,unstyled:S,interacting:_,setHeights:E,visibleToasts:w,heights:v,index:x,toasts:D,expanded:O,removeToast:M,defaultRichColors:I,closeButton:T,style:C,cancelButtonStyle:R,actionButtonStyle:A,className:N="",descriptionClassName:k="",duration:H,position:W,gap:B,loadingIcon:J,expandByDefault:V,classNames:F,icons:Q,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:ee}=t,[de,ce]=G.useState(null),[De,He]=G.useState(null),[ye,jn]=G.useState(!1),[gn,hr]=G.useState(!1),[Fn,fr]=G.useState(!1),[rn,Xs]=G.useState(!1),[pa,Fr]=G.useState(!1),[Js,Ur]=G.useState(0),[Le,ot]=G.useState(0),Un=G.useRef(m.duration||H||zw),_c=G.useRef(null),zn=G.useRef(null),Eh=x===0,Zs=x+1<=w,Ct=m.type,pr=m.dismissible!==!1,ma=m.className||"",xh=m.descriptionClassName||"",Bi=G.useMemo(()=>v.findIndex(re=>re.toastId===m.id)||0,[v,m.id]),Ec=G.useMemo(()=>{var re;return(re=m.closeButton)!=null?re:T},[m.closeButton,T]),ga=G.useMemo(()=>m.duration||H||zw,[m.duration,H]),mr=G.useRef(0),$n=G.useRef(0),Wi=G.useRef(0),Lt=G.useRef(null),[xc,Hi]=W.split("-"),ya=G.useMemo(()=>v.reduce((re,Ee,Se)=>Se>=Bi?re:re+Ee.height,0),[v,Bi]),zr=xk(),Tc=m.invert||p,Ze=Ct==="loading";$n.current=G.useMemo(()=>Bi*B+ya,[Bi,ya]),G.useEffect(()=>{Un.current=ga},[ga]),G.useEffect(()=>{jn(!0)},[]),G.useEffect(()=>{let re=zn.current;if(re){let Ee=re.getBoundingClientRect().height;return ot(Ee),E(Se=>[{toastId:m.id,height:Ee,position:m.position},...Se]),()=>E(Se=>Se.filter(at=>at.toastId!==m.id))}},[E,m.id]),G.useLayoutEffect(()=>{if(!ye)return;let re=zn.current,Ee=re.style.height;re.style.height="auto";let Se=re.getBoundingClientRect().height;re.style.height=Ee,ot(Se),E(at=>at.find(qt=>qt.toastId===m.id)?at.map(qt=>qt.toastId===m.id?{...qt,height:Se}:qt):[{toastId:m.id,height:Se,position:m.position},...at])},[ye,m.title,m.description,E,m.id]);let yn=G.useCallback(()=>{hr(!0),Ur($n.current),E(re=>re.filter(Ee=>Ee.toastId!==m.id)),setTimeout(()=>{M(m)},Mk)},[m,M,E,$n]);G.useEffect(()=>{if(m.promise&&Ct==="loading"||m.duration===1/0||m.type==="loading")return;let re;return O||_||ee&&zr?(()=>{if(Wi.current<mr.current){let Ee=new Date().getTime()-mr.current;Un.current=Un.current-Ee}Wi.current=new Date().getTime()})():Un.current!==1/0&&(mr.current=new Date().getTime(),re=setTimeout(()=>{var Ee;(Ee=m.onAutoClose)==null||Ee.call(m,m),yn()},Un.current)),()=>clearTimeout(re)},[O,_,m,Ct,ee,zr,yn]),G.useEffect(()=>{m.delete&&yn()},[yn,m.delete]);function ei(){var re,Ee,Se;return Q!=null&&Q.loading?G.createElement("div",{className:_n(F==null?void 0:F.loader,(re=m==null?void 0:m.classNames)==null?void 0:re.loader,"sonner-loader"),"data-visible":Ct==="loading"},Q.loading):J?G.createElement("div",{className:_n(F==null?void 0:F.loader,(Ee=m==null?void 0:m.classNames)==null?void 0:Ee.loader,"sonner-loader"),"data-visible":Ct==="loading"},J):G.createElement(gk,{className:_n(F==null?void 0:F.loader,(Se=m==null?void 0:m.classNames)==null?void 0:Se.loader),visible:Ct==="loading"})}return G.createElement("li",{tabIndex:0,ref:zn,className:_n(N,ma,F==null?void 0:F.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Ct],(n=m==null?void 0:m.classNames)==null?void 0:n[Ct]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:I,"data-styled":!(m.jsx||m.unstyled||S),"data-mounted":ye,"data-promise":!!m.promise,"data-swiped":pa,"data-removed":gn,"data-visible":Zs,"data-y-position":xc,"data-x-position":Hi,"data-index":x,"data-front":Eh,"data-swiping":Fn,"data-dismissible":pr,"data-type":Ct,"data-invert":Tc,"data-swipe-out":rn,"data-swipe-direction":De,"data-expanded":!!(O||V&&ye),style:{"--index":x,"--toasts-before":x,"--z-index":D.length-x,"--offset":`${gn?Js:$n.current}px`,"--initial-height":V?"auto":`${Le}px`,...C,...m.style},onDragEnd:()=>{fr(!1),ce(null),Lt.current=null},onPointerDown:re=>{Ze||!pr||(_c.current=new Date,Ur($n.current),re.target.setPointerCapture(re.pointerId),re.target.tagName!=="BUTTON"&&(fr(!0),Lt.current={x:re.clientX,y:re.clientY}))},onPointerUp:()=>{var re,Ee,Se,at;if(rn||!pr)return;Lt.current=null;let qt=Number(((re=zn.current)==null?void 0:re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Bn=Number(((Ee=zn.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),sn=new Date().getTime()-((Se=_c.current)==null?void 0:Se.getTime()),Mt=de==="x"?qt:Bn,vn=Math.abs(Mt)/sn;if(Math.abs(Mt)>=Lk||vn>.11){Ur($n.current),(at=m.onDismiss)==null||at.call(m,m),He(de==="x"?qt>0?"right":"left":Bn>0?"down":"up"),yn(),Xs(!0),Fr(!1);return}fr(!1),ce(null)},onPointerMove:re=>{var Ee,Se,at,qt;if(!Lt.current||!pr||((Ee=window.getSelection())==null?void 0:Ee.toString().length)>0)return;let Bn=re.clientY-Lt.current.y,sn=re.clientX-Lt.current.x,Mt=(Se=t.swipeDirections)!=null?Se:Vk(W);!de&&(Math.abs(sn)>1||Math.abs(Bn)>1)&&ce(Math.abs(sn)>Math.abs(Bn)?"x":"y");let vn={x:0,y:0};de==="y"?(Mt.includes("top")||Mt.includes("bottom"))&&(Mt.includes("top")&&Bn<0||Mt.includes("bottom")&&Bn>0)&&(vn.y=Bn):de==="x"&&(Mt.includes("left")||Mt.includes("right"))&&(Mt.includes("left")&&sn<0||Mt.includes("right")&&sn>0)&&(vn.x=sn),(Math.abs(vn.x)>0||Math.abs(vn.y)>0)&&Fr(!0),(at=zn.current)==null||at.style.setProperty("--swipe-amount-x",`${vn.x}px`),(qt=zn.current)==null||qt.style.setProperty("--swipe-amount-y",`${vn.y}px`)}},Ec&&!m.jsx?G.createElement("button",{"aria-label":te,"data-disabled":Ze,"data-close-button":!0,onClick:Ze||!pr?()=>{}:()=>{var re;yn(),(re=m.onDismiss)==null||re.call(m,m)},className:_n(F==null?void 0:F.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:Ek):null,m.jsx||P.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,Ct||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:_n(F==null?void 0:F.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||ei():null,m.type!=="loading"?m.icon||(Q==null?void 0:Q[Ct])||pk(Ct):null):null,G.createElement("div",{"data-content":"",className:_n(F==null?void 0:F.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:_n(F==null?void 0:F.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:_n(k,xh,F==null?void 0:F.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),P.isValidElement(m.cancel)?m.cancel:m.cancel&&Zc(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:re=>{var Ee,Se;Zc(m.cancel)&&pr&&((Se=(Ee=m.cancel).onClick)==null||Se.call(Ee,re),yn())},className:_n(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,P.isValidElement(m.action)?m.action:m.action&&Zc(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:re=>{var Ee,Se;Zc(m.action)&&((Se=(Ee=m.action).onClick)==null||Se.call(Ee,re),!re.defaultPrevented&&yn())},className:_n(F==null?void 0:F.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function $w(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Fk(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?Nk:kk;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var Uk=P.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:p,style:m,visibleToasts:S=Rk,toastOptions:_,dir:E=$w(),gap:w=Ok,loadingIcon:v,icons:x,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:O}=t,[M,I]=G.useState([]),T=G.useMemo(()=>Array.from(new Set([r].concat(M.filter(ee=>ee.position).map(ee=>ee.position)))),[M,r]),[C,R]=G.useState([]),[A,N]=G.useState(!1),[k,H]=G.useState(!1),[W,B]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=G.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=G.useRef(null),Q=G.useRef(!1),te=G.useCallback(ee=>{I(de=>{var ce;return(ce=de.find(De=>De.id===ee.id))!=null&&ce.delete||Vt.dismiss(ee.id),de.filter(({id:De})=>De!==ee.id)})},[]);return G.useEffect(()=>Vt.subscribe(ee=>{if(ee.dismiss){I(de=>de.map(ce=>ce.id===ee.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{gx.flushSync(()=>{I(de=>{let ce=de.findIndex(De=>De.id===ee.id);return ce!==-1?[...de.slice(0,ce),{...de[ce],...ee},...de.slice(ce+1)]:[ee,...de]})})})}),[]),G.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:de})=>{B(de?"dark":"light")})}catch{ee.addListener(({matches:ce})=>{try{B(ce?"dark":"light")}catch(De){console.error(De)}})}},[d]),G.useEffect(()=>{M.length<=1&&N(!1)},[M]),G.useEffect(()=>{let ee=de=>{var ce,De;s.every(He=>de[He]||de.code===He)&&(N(!0),(ce=J.current)==null||ce.focus()),de.code==="Escape"&&(document.activeElement===J.current||(De=J.current)!=null&&De.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),G.useEffect(()=>{if(J.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,Q.current=!1)}},[J.current]),G.createElement("section",{ref:e,"aria-label":`${D} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((ee,de)=>{var ce;let[De,He]=ee.split("-");return M.length?G.createElement("ol",{key:ee,dir:E==="auto"?$w():E,tabIndex:-1,ref:J,className:a,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":De,"data-lifted":A&&M.length>1&&!i,"data-x-position":He,style:{"--front-toast-height":`${((ce=C[0])==null?void 0:ce.height)||0}px`,"--width":`${Dk}px`,"--gap":`${w}px`,...m,...Fk(c,u)},onBlur:ye=>{Q.current&&!ye.currentTarget.contains(ye.relatedTarget)&&(Q.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,F.current=ye.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{k||N(!1)},onDragEnd:()=>N(!1),onPointerDown:ye=>{ye.target instanceof HTMLElement&&ye.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},M.filter(ye=>!ye.position&&de===0||ye.position===ee).map((ye,jn)=>{var gn,hr;return G.createElement(jk,{key:ye.id,icons:x,index:jn,toast:ye,defaultRichColors:f,duration:(gn=_==null?void 0:_.duration)!=null?gn:p,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:S,closeButton:(hr=_==null?void 0:_.closeButton)!=null?hr:o,interacting:k,position:ee,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:te,toasts:M.filter(Fn=>Fn.position==ye.position),heights:C.filter(Fn=>Fn.position==ye.position),setHeights:R,expandByDefault:i,gap:w,loadingIcon:v,expanded:A,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const zk=({...t})=>{const{theme:e="system"}=fk();return g.jsx(Uk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},$k=["top","right","bottom","left"],Ls=Math.min,Qt=Math.max,sd=Math.round,eu=Math.floor,nr=t=>({x:t,y:t}),Bk={left:"right",right:"left",bottom:"top",top:"bottom"},Wk={start:"end",end:"start"};function Dp(t,e,n){return Qt(t,Ls(e,n))}function kr(t,e){return typeof t=="function"?t(e):t}function Nr(t){return t.split("-")[0]}function sa(t){return t.split("-")[1]}function bg(t){return t==="x"?"y":"x"}function Ag(t){return t==="y"?"height":"width"}const Hk=new Set(["top","bottom"]);function Zn(t){return Hk.has(Nr(t))?"y":"x"}function Cg(t){return bg(Zn(t))}function qk(t,e,n){n===void 0&&(n=!1);const r=sa(t),s=Cg(t),i=Ag(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=id(o)),[o,id(o)]}function Gk(t){const e=id(t);return[Op(t),e,Op(e)]}function Op(t){return t.replace(/start|end/g,e=>Wk[e])}const Bw=["left","right"],Ww=["right","left"],Kk=["top","bottom"],Qk=["bottom","top"];function Yk(t,e,n){switch(t){case"top":case"bottom":return n?e?Ww:Bw:e?Bw:Ww;case"left":case"right":return e?Kk:Qk;default:return[]}}function Xk(t,e,n,r){const s=sa(t);let i=Yk(Nr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Op)))),i}function id(t){return t.replace(/left|right|bottom|top/g,e=>Bk[e])}function Jk(t){return{top:0,right:0,bottom:0,left:0,...t}}function rT(t){return typeof t!="number"?Jk(t):{top:t,right:t,bottom:t,left:t}}function od(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function Hw(t,e,n){let{reference:r,floating:s}=t;const i=Zn(e),o=Cg(e),a=Ag(o),c=Nr(e),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(sa(e)){case"start":m[o]-=p*(n&&u?-1:1);break;case"end":m[o]+=p*(n&&u?-1:1);break}return m}const Zk=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=Hw(u,r,c),p=r,m={},S=0;for(let _=0;_<a.length;_++){const{name:E,fn:w}=a[_],{x:v,y:x,data:D,reset:O}=await w({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,f=x??f,m={...m,[E]:{...m[E],...D}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=Hw(u,p,c)),_=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function kl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=kr(e,t),S=rT(m),E=a[p?f==="floating"?"reference":"floating":f],w=od(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),D=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},O=od(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:c}):v);return{top:(w.top-O.top+S.top)/D.y,bottom:(O.bottom-w.bottom+S.bottom)/D.y,left:(w.left-O.left+S.left)/D.x,right:(O.right-w.right+S.right)/D.x}}const eN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=kr(t,e)||{};if(u==null)return{};const f=rT(d),p={x:n,y:r},m=Cg(s),S=Ag(m),_=await o.getDimensions(u),E=m==="y",w=E?"top":"left",v=E?"bottom":"right",x=E?"clientHeight":"clientWidth",D=i.reference[S]+i.reference[m]-p[m]-i.floating[S],O=p[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=M?M[x]:0;(!I||!await(o.isElement==null?void 0:o.isElement(M)))&&(I=a.floating[x]||i.floating[S]);const T=D/2-O/2,C=I/2-_[S]/2-1,R=Ls(f[w],C),A=Ls(f[v],C),N=R,k=I-_[S]-A,H=I/2-_[S]/2+T,W=Dp(N,H,k),B=!c.arrow&&sa(s)!=null&&H!==W&&i.reference[S]/2-(H<N?R:A)-_[S]/2<0,J=B?H<N?H-N:H-k:0;return{[m]:p[m]+J,data:{[m]:W,centerOffset:H-W-J,...B&&{alignmentOffset:J}},reset:B}}}),tN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:_=!0,...E}=kr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Nr(s),v=Zn(a),x=Nr(a)===a,D=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=p||(x||!_?[id(a)]:Gk(a)),M=S!=="none";!p&&M&&O.push(...Xk(a,_,S,D));const I=[a,...O],T=await kl(e,E),C=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&C.push(T[w]),f){const H=qk(s,o,D);C.push(T[H[0]],T[H[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every(H=>H<=0)){var A,N;const H=(((A=i.flip)==null?void 0:A.index)||0)+1,W=I[H];if(W&&(!(f==="alignment"?v!==Zn(W):!1)||R.every(V=>V.overflows[0]>0&&Zn(V.placement)===v)))return{data:{index:H,overflows:R},reset:{placement:W}};let B=(N=R.filter(J=>J.overflows[0]<=0).sort((J,V)=>J.overflows[1]-V.overflows[1])[0])==null?void 0:N.placement;if(!B)switch(m){case"bestFit":{var k;const J=(k=R.filter(V=>{if(M){const F=Zn(V.placement);return F===v||F==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(F=>F>0).reduce((F,Q)=>F+Q,0)]).sort((V,F)=>V[1]-F[1])[0])==null?void 0:k[0];J&&(B=J);break}case"initialPlacement":B=a;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function qw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Gw(t){return $k.some(e=>t[e]>=0)}const nN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=kr(t,e);switch(r){case"referenceHidden":{const i=await kl(e,{...s,elementContext:"reference"}),o=qw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Gw(o)}}}case"escaped":{const i=await kl(e,{...s,altBoundary:!0}),o=qw(i,n.floating);return{data:{escapedOffsets:o,escaped:Gw(o)}}}default:return{}}}}},sT=new Set(["left","top"]);async function rN(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Nr(n),a=sa(n),c=Zn(n)==="y",u=sT.has(o)?-1:1,d=i&&c?-1:1,f=kr(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(m=a==="end"?S*-1:S),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const sN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await rN(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},iN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:w,y:v}=E;return{x:w,y:v}}},...c}=kr(t,e),u={x:n,y:r},d=await kl(e,c),f=Zn(Nr(s)),p=bg(f);let m=u[p],S=u[f];if(i){const E=p==="y"?"top":"left",w=p==="y"?"bottom":"right",v=m+d[E],x=m-d[w];m=Dp(v,m,x)}if(o){const E=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=S+d[E],x=S-d[w];S=Dp(v,S,x)}const _=a.fn({...e,[p]:m,[f]:S});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[p]:i,[f]:o}}}}}},oN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=kr(t,e),d={x:n,y:r},f=Zn(s),p=bg(f);let m=d[p],S=d[f];const _=kr(a,e),E=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const x=p==="y"?"height":"width",D=i.reference[p]-i.floating[x]+E.mainAxis,O=i.reference[p]+i.reference[x]-E.mainAxis;m<D?m=D:m>O&&(m=O)}if(u){var w,v;const x=p==="y"?"width":"height",D=sT.has(Nr(s)),O=i.reference[f]-i.floating[x]+(D&&((w=o.offset)==null?void 0:w[f])||0)+(D?0:E.crossAxis),M=i.reference[f]+i.reference[x]+(D?0:((v=o.offset)==null?void 0:v[f])||0)-(D?E.crossAxis:0);S<O?S=O:S>M&&(S=M)}return{[p]:m,[f]:S}}}},aN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=kr(t,e),d=await kl(e,u),f=Nr(s),p=sa(s),m=Zn(s)==="y",{width:S,height:_}=i.floating;let E,w;f==="top"||f==="bottom"?(E=f,w=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,E=p==="end"?"top":"bottom");const v=_-d.top-d.bottom,x=S-d.left-d.right,D=Ls(_-d[E],v),O=Ls(S-d[w],x),M=!e.middlewareData.shift;let I=D,T=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),M&&!p){const R=Qt(d.left,0),A=Qt(d.right,0),N=Qt(d.top,0),k=Qt(d.bottom,0);m?T=S-2*(R!==0||A!==0?R+A:Qt(d.left,d.right)):I=_-2*(N!==0||k!==0?N+k:Qt(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:I});const C=await o.getDimensions(a.floating);return S!==C.width||_!==C.height?{reset:{rects:!0}}:{}}}};function Kd(){return typeof window<"u"}function ia(t){return iT(t)?(t.nodeName||"").toLowerCase():"#document"}function Zt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dr(t){var e;return(e=(iT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iT(t){return Kd()?t instanceof Node||t instanceof Zt(t).Node:!1}function On(t){return Kd()?t instanceof Element||t instanceof Zt(t).Element:!1}function cr(t){return Kd()?t instanceof HTMLElement||t instanceof Zt(t).HTMLElement:!1}function Kw(t){return!Kd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zt(t).ShadowRoot}const lN=new Set(["inline","contents"]);function sc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ln(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!lN.has(s)}const cN=new Set(["table","td","th"]);function uN(t){return cN.has(ia(t))}const dN=[":popover-open",":modal"];function Qd(t){return dN.some(e=>{try{return t.matches(e)}catch{return!1}})}const hN=["transform","translate","scale","rotate","perspective"],fN=["transform","translate","scale","rotate","perspective","filter"],pN=["paint","layout","strict","content"];function Pg(t){const e=Rg(),n=On(t)?Ln(t):t;return hN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||fN.some(r=>(n.willChange||"").includes(r))||pN.some(r=>(n.contain||"").includes(r))}function mN(t){let e=Ms(t);for(;cr(e)&&!Wo(e);){if(Pg(e))return e;if(Qd(e))return null;e=Ms(e)}return null}function Rg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gN=new Set(["html","body","#document"]);function Wo(t){return gN.has(ia(t))}function Ln(t){return Zt(t).getComputedStyle(t)}function Yd(t){return On(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ms(t){if(ia(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Kw(t)&&t.host||dr(t);return Kw(e)?e.host:e}function oT(t){const e=Ms(t);return Wo(e)?t.ownerDocument?t.ownerDocument.body:t.body:cr(e)&&sc(e)?e:oT(e)}function Nl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Zt(s);if(i){const a=Lp(o);return e.concat(o,o.visualViewport||[],sc(s)?s:[],a&&n?Nl(a):[])}return e.concat(s,Nl(s,[],n))}function Lp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aT(t){const e=Ln(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=cr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=sd(n)!==i||sd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function kg(t){return On(t)?t:t.contextElement}function Eo(t){const e=kg(t);if(!cr(e))return nr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aT(e);let o=(i?sd(n.width):n.width)/r,a=(i?sd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const yN=nr(0);function lT(t){const e=Zt(t);return!Rg()||!e.visualViewport?yN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zt(t)?!1:e}function Ai(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=kg(t);let o=nr(1);e&&(r?On(r)&&(o=Eo(r)):o=Eo(t));const a=vN(i,n,r)?lT(i):nr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=Zt(i),m=r&&On(r)?Zt(r):r;let S=p,_=Lp(S);for(;_&&r&&m!==S;){const E=Eo(_),w=_.getBoundingClientRect(),v=Ln(_),x=w.left+(_.clientLeft+parseFloat(v.paddingLeft))*E.x,D=w.top+(_.clientTop+parseFloat(v.paddingTop))*E.y;c*=E.x,u*=E.y,d*=E.x,f*=E.y,c+=x,u+=D,S=Zt(_),_=Lp(S)}}return od({width:d,height:f,x:c,y:u})}function Ng(t,e){const n=Yd(t).scrollLeft;return e?e.left+n:Ai(dr(t)).left+n}function cT(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Ng(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function wN(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=dr(r),a=e?Qd(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=nr(1);const d=nr(0),f=cr(r);if((f||!f&&!i)&&((ia(r)!=="body"||sc(o))&&(c=Yd(r)),cr(r))){const m=Ai(r);u=Eo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!f&&!i?cT(o,c,!0):nr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function _N(t){return Array.from(t.getClientRects())}function EN(t){const e=dr(t),n=Yd(t),r=t.ownerDocument.body,s=Qt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Qt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ng(t);const a=-n.scrollTop;return Ln(r).direction==="rtl"&&(o+=Qt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function xN(t,e){const n=Zt(t),r=dr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=Rg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const TN=new Set(["absolute","fixed"]);function IN(t,e){const n=Ai(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=cr(t)?Eo(t):nr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function Qw(t,e,n){let r;if(e==="viewport")r=xN(t,n);else if(e==="document")r=EN(dr(t));else if(On(e))r=IN(e,n);else{const s=lT(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return od(r)}function uT(t,e){const n=Ms(t);return n===e||!On(n)||Wo(n)?!1:Ln(n).position==="fixed"||uT(n,e)}function SN(t,e){const n=e.get(t);if(n)return n;let r=Nl(t,[],!1).filter(a=>On(a)&&ia(a)!=="body"),s=null;const i=Ln(t).position==="fixed";let o=i?Ms(t):t;for(;On(o)&&!Wo(o);){const a=Ln(o),c=Pg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&TN.has(s.position)||sc(o)&&!c&&uT(t,o))?r=r.filter(d=>d!==o):s=a,o=Ms(o)}return e.set(t,r),r}function bN(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Qd(e)?[]:SN(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=Qw(e,d,s);return u.top=Qt(f.top,u.top),u.right=Ls(f.right,u.right),u.bottom=Ls(f.bottom,u.bottom),u.left=Qt(f.left,u.left),u},Qw(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function AN(t){const{width:e,height:n}=aT(t);return{width:e,height:n}}function CN(t,e,n){const r=cr(e),s=dr(e),i=n==="fixed",o=Ai(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=nr(0);function u(){c.x=Ng(s)}if(r||!r&&!i)if((ia(e)!=="body"||sc(s))&&(a=Yd(e)),r){const m=Ai(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?cT(s,a):nr(0),f=o.left+a.scrollLeft-c.x-d.x,p=o.top+a.scrollTop-c.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function mf(t){return Ln(t).position==="static"}function Yw(t,e){if(!cr(t)||Ln(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return dr(t)===n&&(n=n.ownerDocument.body),n}function dT(t,e){const n=Zt(t);if(Qd(t))return n;if(!cr(t)){let s=Ms(t);for(;s&&!Wo(s);){if(On(s)&&!mf(s))return s;s=Ms(s)}return n}let r=Yw(t,e);for(;r&&uN(r)&&mf(r);)r=Yw(r,e);return r&&Wo(r)&&mf(r)&&!Pg(r)?n:r||mN(t)||n}const PN=async function(t){const e=this.getOffsetParent||dT,n=this.getDimensions,r=await n(t.floating);return{reference:CN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RN(t){return Ln(t).direction==="rtl"}const kN={convertOffsetParentRelativeRectToViewportRelativeRect:wN,getDocumentElement:dr,getClippingRect:bN,getOffsetParent:dT,getElementRects:PN,getClientRects:_N,getDimensions:AN,getScale:Eo,isElement:On,isRTL:RN};function hT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NN(t,e){let n=null,r;const s=dr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(a||e(),!p||!m)return;const S=eu(f),_=eu(s.clientWidth-(d+p)),E=eu(s.clientHeight-(f+m)),w=eu(d),x={rootMargin:-S+"px "+-_+"px "+-E+"px "+-w+"px",threshold:Qt(0,Ls(1,c))||1};let D=!0;function O(M){const I=M[0].intersectionRatio;if(I!==c){if(!D)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!hT(u,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(O,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),i}function DN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=kg(t),d=s||i?[...u?Nl(u):[],...Nl(e)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&a?NN(u,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let S,_=c?Ai(t):null;c&&E();function E(){const w=Ai(t);_&&!hT(_,w)&&n(),_=w,S=requestAnimationFrame(E)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(S)}}const ON=sN,LN=iN,MN=tN,VN=aN,jN=nN,Xw=eN,FN=oN,UN=(t,e,n)=>{const r=new Map,s={platform:kN,...n},i={...s.platform,_c:r};return Zk(t,e,{...s,platform:i})};var zN=typeof document<"u",$N=function(){},Tu=zN?P.useLayoutEffect:$N;function ad(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ad(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ad(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function fT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Jw(t,e){const n=fT(t);return Math.round(e*n)/n}function gf(t){const e=P.useRef(t);return Tu(()=>{e.current=t}),e}function BN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=P.useState(r);ad(p,r)||m(r);const[S,_]=P.useState(null),[E,w]=P.useState(null),v=P.useCallback(V=>{V!==M.current&&(M.current=V,_(V))},[]),x=P.useCallback(V=>{V!==I.current&&(I.current=V,w(V))},[]),D=i||S,O=o||E,M=P.useRef(null),I=P.useRef(null),T=P.useRef(d),C=c!=null,R=gf(c),A=gf(s),N=gf(u),k=P.useCallback(()=>{if(!M.current||!I.current)return;const V={placement:e,strategy:n,middleware:p};A.current&&(V.platform=A.current),UN(M.current,I.current,V).then(F=>{const Q={...F,isPositioned:N.current!==!1};H.current&&!ad(T.current,Q)&&(T.current=Q,nc.flushSync(()=>{f(Q)}))})},[p,e,n,A,N]);Tu(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const H=P.useRef(!1);Tu(()=>(H.current=!0,()=>{H.current=!1}),[]),Tu(()=>{if(D&&(M.current=D),O&&(I.current=O),D&&O){if(R.current)return R.current(D,O,k);k()}},[D,O,k,R,C]);const W=P.useMemo(()=>({reference:M,floating:I,setReference:v,setFloating:x}),[v,x]),B=P.useMemo(()=>({reference:D,floating:O}),[D,O]),J=P.useMemo(()=>{const V={position:n,left:0,top:0};if(!B.floating)return V;const F=Jw(B.floating,d.x),Q=Jw(B.floating,d.y);return a?{...V,transform:"translate("+F+"px, "+Q+"px)",...fT(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:Q}},[n,a,B.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:k,refs:W,elements:B,floatingStyles:J}),[d,k,W,B,J])}const WN=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Xw({element:r.current,padding:s}).fn(n):{}:r?Xw({element:r,padding:s}).fn(n):{}}}},HN=(t,e)=>({...ON(t),options:[t,e]}),qN=(t,e)=>({...LN(t),options:[t,e]}),GN=(t,e)=>({...FN(t),options:[t,e]}),KN=(t,e)=>({...MN(t),options:[t,e]}),QN=(t,e)=>({...VN(t),options:[t,e]}),YN=(t,e)=>({...jN(t),options:[t,e]}),XN=(t,e)=>({...WN(t),options:[t,e]});var JN="Arrow",pT=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return g.jsx(Ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});pT.displayName=JN;var ZN=pT;function e2(t){const[e,n]=P.useState(void 0);return Os(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var mT="Popper",[gT,yT]=Wd(mT),[S3,vT]=gT(mT),wT="PopperAnchor",_T=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=vT(wT,n),o=P.useRef(null),a=Dn(e,o);return P.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Ht.div,{...s,ref:a})});_T.displayName=wT;var Dg="PopperContent",[t2,n2]=gT(Dg),ET=P.forwardRef((t,e)=>{var ye,jn,gn,hr,Fn,fr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:S,..._}=t,E=vT(Dg,n),[w,v]=P.useState(null),x=Dn(e,rn=>v(rn)),[D,O]=P.useState(null),M=e2(D),I=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,C=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],N=A.length>0,k={padding:R,boundary:A.filter(s2),altBoundary:N},{refs:H,floatingStyles:W,placement:B,isPositioned:J,middlewareData:V}=BN({strategy:"fixed",placement:C,whileElementsMounted:(...rn)=>DN(...rn,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[HN({mainAxis:s+T,alignmentAxis:o}),c&&qN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?GN():void 0,...k}),c&&KN({...k}),QN({...k,apply:({elements:rn,rects:Xs,availableWidth:pa,availableHeight:Fr})=>{const{width:Js,height:Ur}=Xs.reference,Le=rn.floating.style;Le.setProperty("--radix-popper-available-width",`${pa}px`),Le.setProperty("--radix-popper-available-height",`${Fr}px`),Le.setProperty("--radix-popper-anchor-width",`${Js}px`),Le.setProperty("--radix-popper-anchor-height",`${Ur}px`)}}),D&&XN({element:D,padding:a}),i2({arrowWidth:I,arrowHeight:T}),p&&YN({strategy:"referenceHidden",...k})]}),[F,Q]=IT(B),te=Ds(S);Os(()=>{J&&(te==null||te())},[J,te]);const ee=(ye=V.arrow)==null?void 0:ye.x,de=(jn=V.arrow)==null?void 0:jn.y,ce=((gn=V.arrow)==null?void 0:gn.centerOffset)!==0,[De,He]=P.useState();return Os(()=>{w&&He(window.getComputedStyle(w).zIndex)},[w]),g.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:J?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(hr=V.transformOrigin)==null?void 0:hr.x,(Fn=V.transformOrigin)==null?void 0:Fn.y].join(" "),...((fr=V.hide)==null?void 0:fr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(t2,{scope:n,placedSide:F,onArrowChange:O,arrowX:ee,arrowY:de,shouldHideArrow:ce,children:g.jsx(Ht.div,{"data-side":F,"data-align":Q,..._,ref:x,style:{..._.style,animation:J?void 0:"none"}})})})});ET.displayName=Dg;var xT="PopperArrow",r2={top:"bottom",right:"left",bottom:"top",left:"right"},TT=P.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=n2(xT,r),o=r2[i.placedSide];return g.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:g.jsx(ZN,{...s,ref:n,style:{...s.style,display:"block"}})})});TT.displayName=xT;function s2(t){return t!==null}var i2=t=>({name:"transformOrigin",options:t,fn(e){var E,w,v;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=IT(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let S="",_="";return u==="bottom"?(S=o?f:`${p}px`,_=`${-c}px`):u==="top"?(S=o?f:`${p}px`,_=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,_=o?f:`${m}px`):u==="left"&&(S=`${r.floating.width+c}px`,_=o?f:`${m}px`),{data:{x:S,y:_}}}});function IT(t){const[e,n="center"]=t.split("-");return[e,n]}var o2=_T,a2=ET,l2=TT,[Xd,b3]=Wd("Tooltip",[yT]),Og=yT(),ST="TooltipProvider",c2=700,Zw="tooltip.open",[u2,bT]=Xd(ST),AT=t=>{const{__scopeTooltip:e,delayDuration:n=c2,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=P.useRef(!0),a=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx(u2,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:P.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};AT.displayName=ST;var CT="Tooltip",[A3,Jd]=Xd(CT),Mp="TooltipTrigger",d2=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Jd(Mp,n),i=bT(Mp,n),o=Og(n),a=P.useRef(null),c=Dn(e,a,s.onTriggerChange),u=P.useRef(!1),d=P.useRef(!1),f=P.useCallback(()=>u.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.jsx(o2,{asChild:!0,...o,children:g.jsx(Ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:nt(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:nt(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:nt(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:nt(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:nt(t.onBlur,s.onClose),onClick:nt(t.onClick,s.onClose)})})});d2.displayName=Mp;var h2="TooltipPortal",[C3,f2]=Xd(h2,{forceMount:void 0}),Ho="TooltipContent",PT=P.forwardRef((t,e)=>{const n=f2(Ho,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Jd(Ho,t.__scopeTooltip);return g.jsx(wg,{present:r||o.open,children:o.disableHoverableContent?g.jsx(RT,{side:s,...i,ref:e}):g.jsx(p2,{side:s,...i,ref:e})})}),p2=P.forwardRef((t,e)=>{const n=Jd(Ho,t.__scopeTooltip),r=bT(Ho,t.__scopeTooltip),s=P.useRef(null),i=Dn(e,s),[o,a]=P.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,p=P.useCallback(()=>{a(null),f(!1)},[f]),m=P.useCallback((S,_)=>{const E=S.currentTarget,w={x:S.clientX,y:S.clientY},v=w2(w,E.getBoundingClientRect()),x=_2(w,v),D=E2(_.getBoundingClientRect()),O=T2([...x,...D]);a(O),f(!0)},[f]);return P.useEffect(()=>()=>p(),[p]),P.useEffect(()=>{if(c&&d){const S=E=>m(E,d),_=E=>m(E,c);return c.addEventListener("pointerleave",S),d.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",_)}}},[c,d,m,p]),P.useEffect(()=>{if(o){const S=_=>{const E=_.target,w={x:_.clientX,y:_.clientY},v=(c==null?void 0:c.contains(E))||(d==null?void 0:d.contains(E)),x=!x2(w,o);v?p():x&&(p(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,d,o,u,p]),g.jsx(RT,{...t,ref:i})}),[m2,g2]=Xd(CT,{isInside:!1}),y2=TP("TooltipContent"),RT=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Jd(Ho,n),u=Og(n),{onClose:d}=c;return P.useEffect(()=>(document.addEventListener(Zw,d),()=>document.removeEventListener(Zw,d)),[d]),P.useEffect(()=>{if(c.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),g.jsx(vg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:g.jsxs(a2,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(y2,{children:r}),g.jsx(m2,{scope:n,isInside:!0,children:g.jsx(KP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});PT.displayName=Ho;var kT="TooltipArrow",v2=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Og(n);return g2(kT,n).isInside?null:g.jsx(l2,{...s,...r,ref:e})});v2.displayName=kT;function w2(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _2(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function E2(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function x2(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],u=a.x,d=a.y,f=c.x,p=c.y;d>r!=p>r&&n<(f-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function T2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),I2(e)}function I2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var S2=AT,NT=PT;const b2=S2,A2=P.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(NT,{ref:r,sideOffset:e,className:Li("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));A2.displayName=NT.displayName;var Zd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},eh=typeof window>"u"||"Deno"in globalThis;function xn(){}function C2(t,e){return typeof t=="function"?t(e):t}function P2(t){return typeof t=="number"&&t>=0&&t!==1/0}function R2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vp(t,e){return typeof t=="function"?t(e):t}function k2(t,e){return typeof t=="function"?t(e):t}function e0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Lg(o,e.options))return!1}else if(!Ol(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function t0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Dl(e.options.mutationKey)!==Dl(i))return!1}else if(!Ol(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Lg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Dl)(t)}function Dl(t){return JSON.stringify(t,(e,n)=>jp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ol(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ol(t[n],e[n])):!1}function DT(t,e){if(t===e)return t;const n=n0(t)&&n0(e);if(n||jp(t)&&jp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,u++):(a[f]=DT(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function n0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jp(t){if(!r0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!r0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function r0(t){return Object.prototype.toString.call(t)==="[object Object]"}function N2(t){return new Promise(e=>{setTimeout(e,t)})}function D2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DT(t,e):e}function O2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function L2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Mg=Symbol();function OT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Mg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var hi,as,Co,K_,M2=(K_=class extends Zd{constructor(){super();_e(this,hi);_e(this,as);_e(this,Co);le(this,Co,e=>{if(!eh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,as)||this.setEventListener(U(this,Co))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,as))==null||e.call(this),le(this,as,void 0))}setEventListener(e){var n;le(this,Co,e),(n=U(this,as))==null||n.call(this),le(this,as,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,hi)!==e&&(le(this,hi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,hi)=="boolean"?U(this,hi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},hi=new WeakMap,as=new WeakMap,Co=new WeakMap,K_),LT=new M2,Po,ls,Ro,Q_,V2=(Q_=class extends Zd{constructor(){super();_e(this,Po,!0);_e(this,ls);_e(this,Ro);le(this,Ro,e=>{if(!eh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,ls)||this.setEventListener(U(this,Ro))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,ls))==null||e.call(this),le(this,ls,void 0))}setEventListener(e){var n;le(this,Ro,e),(n=U(this,ls))==null||n.call(this),le(this,ls,e(this.setOnline.bind(this)))}setOnline(e){U(this,Po)!==e&&(le(this,Po,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Po)}},Po=new WeakMap,ls=new WeakMap,Ro=new WeakMap,Q_),ld=new V2;function j2(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function F2(t){return Math.min(1e3*2**t,3e4)}function MT(t){return(t??"online")==="online"?ld.isOnline():!0}var VT=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yf(t){return t instanceof VT}function jT(t){let e=!1,n=0,r=!1,s;const i=j2(),o=_=>{var E;r||(p(new VT(_)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>LT.isFocused()&&(t.networkMode==="always"||ld.isOnline())&&t.canRun(),d=()=>MT(t.networkMode)&&t.canRun(),f=_=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,_),s==null||s(),i.resolve(_))},p=_=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,_),s==null||s(),i.reject(_))},m=()=>new Promise(_=>{var E;s=w=>{(r||u())&&_(w)},(E=t.onPause)==null||E.call(t)}).then(()=>{var _;s=void 0,r||(_=t.onContinue)==null||_.call(t)}),S=()=>{if(r)return;let _;const E=n===0?t.initialPromise:void 0;try{_=E??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(f).catch(w=>{var M;if(r)return;const v=t.retry??(eh?0:3),x=t.retryDelay??F2,D=typeof x=="function"?x(n,w):x,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(e||!O){p(w);return}n++,(M=t.onFail)==null||M.call(t,n,w),N2(D).then(()=>u()?void 0:m()).then(()=>{e?p(w):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?S():m().then(S),i)}}var U2=t=>setTimeout(t,0);function z2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=U2;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var kt=z2(),fi,Y_,FT=(Y_=class{constructor(){_e(this,fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),P2(this.gcTime)&&le(this,fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(eh?1/0:5*60*1e3))}clearGcTimeout(){U(this,fi)&&(clearTimeout(U(this,fi)),le(this,fi,void 0))}},fi=new WeakMap,Y_),ko,pi,on,mi,xt,Ql,gi,Tn,yr,X_,$2=(X_=class extends FT{constructor(n){super();_e(this,Tn);_e(this,ko);_e(this,pi);_e(this,on);_e(this,mi);_e(this,xt);_e(this,Ql);_e(this,gi);le(this,gi,!1),le(this,Ql,n.defaultOptions),this.setOptions(n.options),this.observers=[],le(this,mi,n.client),le(this,on,U(this,mi).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,le(this,ko,W2(this.options)),this.state=n.state??U(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,xt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Ql),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,on).remove(this)}setData(n,r){const s=D2(this.state.data,n,this.options);return vt(this,Tn,yr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){vt(this,Tn,yr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,xt))==null?void 0:s.promise;return(i=U(this,xt))==null||i.cancel(n),r?r.then(xn).catch(xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ko))}isActive(){return this.observers.some(n=>k2(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Vp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!R2(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,xt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,xt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,on).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,xt)&&(U(this,gi)?U(this,xt).cancel({revert:!0}):U(this,xt).cancelRetry()),this.scheduleGc()),U(this,on).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,Tn,yr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,xt))return U(this,xt).continueRetry(),U(this,xt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(S=>S.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(le(this,gi,!0),s.signal)})},o=()=>{const m=OT(this.options,r),_=(()=>{const E={client:U(this,mi),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return le(this,gi,!1),this.options.persister?this.options.persister(m,_,this):m(_)},c=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,mi),state:this.state,fetchFn:o};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),le(this,pi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&vt(this,Tn,yr).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=m=>{var S,_,E,w;yf(m)&&m.silent||vt(this,Tn,yr).call(this,{type:"error",error:m}),yf(m)||((_=(S=U(this,on).config).onError)==null||_.call(S,m,this),(w=(E=U(this,on).config).onSettled)==null||w.call(E,this.state.data,m,this)),this.scheduleGc()};return le(this,xt,jT({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var S,_,E,w;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){u(v);return}(_=(S=U(this,on).config).onSuccess)==null||_.call(S,m,this),(w=(E=U(this,on).config).onSettled)==null||w.call(E,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,S)=>{vt(this,Tn,yr).call(this,{type:"failed",failureCount:m,error:S})},onPause:()=>{vt(this,Tn,yr).call(this,{type:"pause"})},onContinue:()=>{vt(this,Tn,yr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),U(this,xt).start()}},ko=new WeakMap,pi=new WeakMap,on=new WeakMap,mi=new WeakMap,xt=new WeakMap,Ql=new WeakMap,gi=new WeakMap,Tn=new WeakSet,yr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...B2(s.data,this.options),fetchMeta:n.meta??null};case"success":return le(this,pi,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return yf(i)&&i.revert&&U(this,pi)?{...U(this,pi),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,on).notify({query:this,type:"updated",action:n})})},X_);function B2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:MT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function W2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qn,J_,H2=(J_=class extends Zd{constructor(e={}){super();_e(this,Qn);this.config=e,le(this,Qn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Lg(s,n);let o=this.get(i);return o||(o=new $2({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Qn).has(e.queryHash)||(U(this,Qn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Qn).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Qn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Qn).get(e)}getAll(){return[...U(this,Qn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>e0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>e0(e,r)):n}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qn=new WeakMap,J_),Yn,Pt,yi,Xn,Jr,Z_,q2=(Z_=class extends FT{constructor(n){super();_e(this,Xn);_e(this,Yn);_e(this,Pt);_e(this,yi);this.mutationId=n.mutationId,le(this,Pt,n.mutationCache),le(this,Yn,[]),this.state=n.state||G2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Yn).includes(n)||(U(this,Yn).push(n),this.clearGcTimeout(),U(this,Pt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){le(this,Yn,U(this,Yn).filter(r=>r!==n)),this.scheduleGc(),U(this,Pt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Yn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Pt).remove(this))}continue(){var n;return((n=U(this,yi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,u,d,f,p,m,S,_,E,w,v,x,D,O,M,I,T,C;const r=()=>{vt(this,Xn,Jr).call(this,{type:"continue"})};le(this,yi,jT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,A)=>{vt(this,Xn,Jr).call(this,{type:"failed",failureCount:R,error:A})},onPause:()=>{vt(this,Xn,Jr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Pt).canRun(this)}));const s=this.state.status==="pending",i=!U(this,yi).canStart();try{if(s)r();else{vt(this,Xn,Jr).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Pt).config).onMutate)==null?void 0:a.call(o,n,this));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));A!==this.state.context&&vt(this,Xn,Jr).call(this,{type:"pending",context:A,variables:n,isPaused:i})}const R=await U(this,yi).start();return await((f=(d=U(this,Pt).config).onSuccess)==null?void 0:f.call(d,R,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,R,n,this.state.context)),await((_=(S=U(this,Pt).config).onSettled)==null?void 0:_.call(S,R,null,this.state.variables,this.state.context,this)),await((w=(E=this.options).onSettled)==null?void 0:w.call(E,R,null,n,this.state.context)),vt(this,Xn,Jr).call(this,{type:"success",data:R}),R}catch(R){try{throw await((x=(v=U(this,Pt).config).onError)==null?void 0:x.call(v,R,n,this.state.context,this)),await((O=(D=this.options).onError)==null?void 0:O.call(D,R,n,this.state.context)),await((I=(M=U(this,Pt).config).onSettled)==null?void 0:I.call(M,void 0,R,this.state.variables,this.state.context,this)),await((C=(T=this.options).onSettled)==null?void 0:C.call(T,void 0,R,n,this.state.context)),R}finally{vt(this,Xn,Jr).call(this,{type:"error",error:R})}}finally{U(this,Pt).runNext(this)}}},Yn=new WeakMap,Pt=new WeakMap,yi=new WeakMap,Xn=new WeakSet,Jr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{U(this,Yn).forEach(s=>{s.onMutationUpdate(n)}),U(this,Pt).notify({mutation:this,type:"updated",action:n})})},Z_);function G2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _r,In,Yl,eE,K2=(eE=class extends Zd{constructor(e={}){super();_e(this,_r);_e(this,In);_e(this,Yl);this.config=e,le(this,_r,new Set),le(this,In,new Map),le(this,Yl,0)}build(e,n,r){const s=new q2({mutationCache:this,mutationId:++Dc(this,Yl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,_r).add(e);const n=tu(e);if(typeof n=="string"){const r=U(this,In).get(n);r?r.push(e):U(this,In).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,_r).delete(e)){const n=tu(e);if(typeof n=="string"){const r=U(this,In).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,In).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=tu(e);if(typeof n=="string"){const r=U(this,In).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=tu(e);if(typeof n=="string"){const s=(r=U(this,In).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{U(this,_r).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,_r).clear(),U(this,In).clear()})}getAll(){return Array.from(U(this,_r))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t0(n,r))}findAll(e={}){return this.getAll().filter(n=>t0(e,n))}notify(e){kt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return kt.batch(()=>Promise.all(e.map(n=>n.continue().catch(xn))))}},_r=new WeakMap,In=new WeakMap,Yl=new WeakMap,eE);function tu(t){var e;return(e=t.options.scope)==null?void 0:e.id}function s0(t){return{onFetch:(e,n)=>{var d,f,p,m,S;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let _=!1;const E=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=OT(e.options,e.fetchOptions),v=async(x,D,O)=>{if(_)return Promise.reject();if(D==null&&x.pages.length)return Promise.resolve(x);const I=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:D,direction:O?"backward":"forward",meta:e.options.meta};return E(A),A})(),T=await w(I),{maxPages:C}=e.options,R=O?L2:O2;return{pages:R(x.pages,T,C),pageParams:R(x.pageParams,D,C)}};if(s&&i.length){const x=s==="backward",D=x?Q2:i0,O={pages:i,pageParams:o},M=D(r,O);a=await v(O,M,x)}else{const x=t??i.length;do{const D=c===0?o[0]??r.initialPageParam:i0(r,a);if(c>0&&D==null)break;a=await v(a,D),c++}while(c<x)}return a};e.options.persister?e.fetchFn=()=>{var _,E;return(E=(_=e.options).persister)==null?void 0:E.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function i0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Q2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ze,cs,us,No,Do,ds,Oo,Lo,tE,Y2=(tE=class{constructor(t={}){_e(this,ze);_e(this,cs);_e(this,us);_e(this,No);_e(this,Do);_e(this,ds);_e(this,Oo);_e(this,Lo);le(this,ze,t.queryCache||new H2),le(this,cs,t.mutationCache||new K2),le(this,us,t.defaultOptions||{}),le(this,No,new Map),le(this,Do,new Map),le(this,ds,0)}mount(){Dc(this,ds)._++,U(this,ds)===1&&(le(this,Oo,LT.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ze).onFocus())})),le(this,Lo,ld.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,ze).onOnline())})))}unmount(){var t,e;Dc(this,ds)._--,U(this,ds)===0&&((t=U(this,Oo))==null||t.call(this),le(this,Oo,void 0),(e=U(this,Lo))==null||e.call(this),le(this,Lo,void 0))}isFetching(t){return U(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,cs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ze).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,ze).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Vp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,ze).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,ze).get(r.queryHash),i=s==null?void 0:s.state.data,o=C2(e,i);if(o!==void 0)return U(this,ze).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return kt.batch(()=>U(this,ze).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,ze).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,ze);kt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,ze);return kt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=kt.batch(()=>U(this,ze).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(xn).catch(xn)}invalidateQueries(t,e={}){return kt.batch(()=>(U(this,ze).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=kt.batch(()=>U(this,ze).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,ze).build(this,e);return n.isStaleByTime(Vp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xn).catch(xn)}fetchInfiniteQuery(t){return t.behavior=s0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xn).catch(xn)}ensureInfiniteQueryData(t){return t.behavior=s0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ld.isOnline()?U(this,cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,ze)}getMutationCache(){return U(this,cs)}getDefaultOptions(){return U(this,us)}setDefaultOptions(t){le(this,us,t)}setQueryDefaults(t,e){U(this,No).set(Dl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,No).values()],n={};return e.forEach(r=>{Ol(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Do).set(Dl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Do).values()],n={};return e.forEach(r=>{Ol(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Mg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,ze).clear(),U(this,cs).clear()}},ze=new WeakMap,cs=new WeakMap,us=new WeakMap,No=new WeakMap,Do=new WeakMap,ds=new WeakMap,Oo=new WeakMap,Lo=new WeakMap,tE),X2=P.createContext(void 0),J2=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(X2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}var ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ps||(ps={}));const o0="popstate";function Z2(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:c=""}=Mi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Fp("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof i=="string"?i:cd(i))}function r(s,i){Vg(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return tD(e,n,r,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eD(){return Math.random().toString(36).substr(2,8)}function a0(t,e){return{usr:t.state,key:t.key,idx:e}}function Fp(t,e,n,r){return n===void 0&&(n=null),Ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mi(e):e,{state:n,key:e&&e.key||r||eD()})}function cd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ps.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Ll({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ps.Pop;let E=d(),w=E==null?null:E-u;u=E,c&&c({action:a,location:_.location,delta:w})}function p(E,w){a=ps.Push;let v=Fp(_.location,E,w);n&&n(v,E),u=d()+1;let x=a0(v,u),D=_.createHref(v);try{o.pushState(x,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(D)}i&&c&&c({action:a,location:_.location,delta:1})}function m(E,w){a=ps.Replace;let v=Fp(_.location,E,w);n&&n(v,E),u=d();let x=a0(v,u),D=_.createHref(v);o.replaceState(x,"",D),i&&c&&c({action:a,location:_.location,delta:0})}function S(E){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:cd(E);return v=v.replace(/ $/,"%20"),Xe(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let _={get action(){return a},get location(){return t(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(o0,f),c=E,()=>{s.removeEventListener(o0,f),c=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let w=S(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(E){return o.go(E)}};return _}var l0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(l0||(l0={}));function nD(t,e,n){return n===void 0&&(n="/"),rD(t,e,n,!1)}function rD(t,e,n,r){let s=typeof e=="string"?Mi(e):e,i=jg(s.pathname||"/",n);if(i==null)return null;let o=UT(t);sD(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=mD(i);a=fD(o[c],u,r)}return a}function UT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Xe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Is([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UT(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:dD(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of zT(i.path))s(i,o,c)}),e}function zT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function sD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iD=/^:[\w-]+$/,oD=3,aD=2,lD=1,cD=10,uD=-2,c0=t=>t==="*";function dD(t,e){let n=t.split("/"),r=n.length;return n.some(c0)&&(r+=uD),e&&(r+=aD),n.filter(s=>!c0(s)).reduce((s,i)=>s+(iD.test(i)?oD:i===""?lD:cD),r)}function hD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fD(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=u0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=u0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Is([i,f.pathname]),pathnameBase:wD(Is([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Is([i,f.pathnameBase]))}return o}function u0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let _=a[f]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const S=a[f];return m&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function pD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Mi(t):t;return{pathname:n?n.startsWith("/")?n:yD(n,e):e,search:_D(r),hash:ED(s)}}function yD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $T(t,e){let n=vD(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function BT(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Mi(t):(s=Ll({},t),Xe(!s.pathname||!s.pathname.includes("?"),vf("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),vf("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),vf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=gD(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Is=t=>t.join("/").replace(/\/\/+/g,"/"),wD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_D=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ED=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WT=["post","put","patch","delete"];new Set(WT);const TD=["get",...WT];new Set(TD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}const Fg=P.createContext(null),ID=P.createContext(null),Vi=P.createContext(null),th=P.createContext(null),ji=P.createContext({outlet:null,matches:[],isDataRoute:!1}),HT=P.createContext(null);function SD(t,e){let{relative:n}=e===void 0?{}:e;ic()||Xe(!1);let{basename:r,navigator:s}=P.useContext(Vi),{hash:i,pathname:o,search:a}=KT(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Is([r,o])),s.createHref({pathname:c,search:a,hash:i})}function ic(){return P.useContext(th)!=null}function oc(){return ic()||Xe(!1),P.useContext(th).location}function qT(t){P.useContext(Vi).static||P.useLayoutEffect(t)}function GT(){let{isDataRoute:t}=P.useContext(ji);return t?jD():bD()}function bD(){ic()||Xe(!1);let t=P.useContext(Fg),{basename:e,future:n,navigator:r}=P.useContext(Vi),{matches:s}=P.useContext(ji),{pathname:i}=oc(),o=JSON.stringify($T(s,n.v7_relativeSplatPath)),a=P.useRef(!1);return qT(()=>{a.current=!0}),P.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=BT(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Is([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function KT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(Vi),{matches:s}=P.useContext(ji),{pathname:i}=oc(),o=JSON.stringify($T(s,r.v7_relativeSplatPath));return P.useMemo(()=>BT(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function AD(t,e){return CD(t,e)}function CD(t,e,n,r){ic()||Xe(!1);let{navigator:s}=P.useContext(Vi),{matches:i}=P.useContext(ji),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=oc(),d;if(e){var f;let E=typeof e=="string"?Mi(e):e;c==="/"||(f=E.pathname)!=null&&f.startsWith(c)||Xe(!1),d=E}else d=u;let p=d.pathname||"/",m=p;if(c!=="/"){let E=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=nD(t,{pathname:m}),_=DD(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Is([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Is([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&_?P.createElement(th.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ps.Pop}},_):_}function PD(){let t=VD(),e=xD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,null)}const RD=P.createElement(PD,null);class kD extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(ji.Provider,{value:this.props.routeContext},P.createElement(HT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ND(t){let{routeContext:e,match:n,children:r}=t,s=P.useContext(Fg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(ji.Provider,{value:e},r)}function DD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Xe(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:m}=n,S=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||S){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let m,S=!1,_=null,E=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||RD,c&&(u<0&&p===0?(S=!0,E=null):u===p&&(S=!0,E=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),v=()=>{let x;return m?x=_:S?x=E:f.route.Component?x=P.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,P.createElement(ND,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?P.createElement(kD,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var QT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QT||{}),ud=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ud||{});function OD(t){let e=P.useContext(Fg);return e||Xe(!1),e}function LD(t){let e=P.useContext(ID);return e||Xe(!1),e}function MD(t){let e=P.useContext(ji);return e||Xe(!1),e}function YT(t){let e=MD(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function VD(){var t;let e=P.useContext(HT),n=LD(ud.UseRouteError),r=YT(ud.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jD(){let{router:t}=OD(QT.UseNavigateStable),e=YT(ud.UseNavigateStable),n=P.useRef(!1);return qT(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ml({fromRouteId:e},i)))},[t,e])}function FD(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Qi(t){Xe(!1)}function UD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ps.Pop,navigator:i,static:o=!1,future:a}=t;ic()&&Xe(!1);let c=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:c,navigator:i,static:o,future:Ml({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Mi(r));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:S="default"}=r,_=P.useMemo(()=>{let E=jg(d,c);return E==null?null:{location:{pathname:E,search:f,hash:p,state:m,key:S},navigationType:s}},[c,d,f,p,m,S,s]);return _==null?null:P.createElement(Vi.Provider,{value:u},P.createElement(th.Provider,{children:n,value:_}))}function zD(t){let{children:e,location:n}=t;return AD(Up(e),n)}new Promise(()=>{});function Up(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,Up(r.props.children,i));return}r.type!==Qi&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Up(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function $D(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WD(t,e){return t.button===0&&(!e||e==="_self")&&!BD(t)}const HD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qD="6";try{window.__reactRouterVersion=qD}catch{}const GD="startTransition",d0=fE[GD];function KD(t){let{basename:e,children:n,future:r,window:s}=t,i=P.useRef();i.current==null&&(i.current=Z2({window:s,v5Compat:!0}));let o=i.current,[a,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=P.useCallback(f=>{u&&d0?d0(()=>c(f)):c(f)},[c,u]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.useEffect(()=>FD(r),[r]),P.createElement(UD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const QD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$p=P.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,p=$D(e,HD),{basename:m}=P.useContext(Vi),S,_=!1;if(typeof u=="string"&&YD.test(u)&&(S=u,QD))try{let x=new URL(window.location.href),D=u.startsWith("//")?new URL(x.protocol+u):new URL(u),O=jg(D.pathname,m);D.origin===x.origin&&O!=null?u=O+D.search+D.hash:_=!0}catch{}let E=SD(u,{relative:s}),w=XD(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(x){r&&r(x),x.defaultPrevented||w(x)}return P.createElement("a",zp({},p,{href:S||E,onClick:_||i?r:v,ref:n,target:c}))});var h0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h0||(h0={}));var f0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(f0||(f0={}));function XD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=GT(),u=oc(),d=KT(t,{relative:o});return P.useCallback(f=>{if(WD(f,n)){f.preventDefault();let p=r!==void 0?r:cd(u)===cd(d);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,r,s,n,t,i,o,a])}const JD=()=>{};var p0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ZD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new eO;const p=i<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tO=function(t){const e=XT(t);return JT.encodeByteArray(e,!0)},dd=function(t){return tO(t).replace(/\./g,"")},ZT=function(t){try{return JT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=()=>nO().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof p0>"u")return;const t=p0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZT(t[1]);return e&&JSON.parse(e)},nh=()=>{try{return JD()||rO()||sO()||iO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eI=t=>{var e,n;return(n=(e=nh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},oO=t=>{const e=eI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tI=()=>{var t;return(t=nh())==null?void 0:t.config},nI=t=>{var e;return(e=nh())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dd(JSON.stringify(n)),dd(JSON.stringify(o)),""].join(".")}const al={};function cO(){const t={prod:[],emulator:[]};for(const e of Object.keys(al))al[e]?t.emulator.push(e):t.prod.push(e);return t}function uO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let m0=!1;function sI(t,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||al[t]===e||al[t]||m0)return;al[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=cO().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{m0=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=uO(r),m=n("text"),S=document.getElementById(m)||document.createElement("span"),_=n("learnmore"),E=document.getElementById(_)||document.createElement("a"),w=n("preprendIcon"),v=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;a(x),d(E,_);const D=u();c(v,w),x.append(v,S,E,D),document.body.appendChild(x)}i?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function hO(){var e;const t=(e=nh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){const t=At();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yO(){return!hO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vO(){try{return typeof indexedDB=="object"}catch{return!1}}function wO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="FirebaseError";class jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_O,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?EO(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new jr(s,a,r)}}function EO(t,e){return t.replace(xO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xO=/\{\$([^}]+)}/g;function TO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ci(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(g0(i)&&g0(o)){if(!Ci(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function g0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ha(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function IO(t,e){const n=new SO(t,e);return n.subscribe.bind(n)}class SO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wf),s.error===void 0&&(s.error=wf),s.complete===void 0&&(s.complete=wf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class Pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PO(e))try{this.getOrInitializeService({instanceIdentifier:ai})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ai){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ai){return this.instances.has(e)}getOptions(e=ai){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ai){return this.component?this.component.multipleInstances?e:ai:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CO(t){return t===ai?void 0:t}function PO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const kO={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},NO=pe.INFO,DO={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},OO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=DO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ug{constructor(e){this.name=e,this._logLevel=NO,this._logHandler=OO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const LO=(t,e)=>e.some(n=>t instanceof n);let y0,v0;function MO(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iI=new WeakMap,Bp=new WeakMap,oI=new WeakMap,_f=new WeakMap,zg=new WeakMap;function jO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ss(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iI.set(n,t)}).catch(()=>{}),zg.set(e,t),e}function FO(t){if(Bp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bp.set(t,e)}let Wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UO(t){Wp=t(Wp)}function zO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ef(this),e,...n);return oI.set(r,e.sort?e.sort():[e]),Ss(r)}:VO().includes(t)?function(...e){return t.apply(Ef(this),e),Ss(iI.get(this))}:function(...e){return Ss(t.apply(Ef(this),e))}}function $O(t){return typeof t=="function"?zO(t):(t instanceof IDBTransaction&&FO(t),LO(t,MO())?new Proxy(t,Wp):t)}function Ss(t){if(t instanceof IDBRequest)return jO(t);if(_f.has(t))return _f.get(t);const e=$O(t);return e!==t&&(_f.set(t,e),zg.set(e,t)),e}const Ef=t=>zg.get(t);function BO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ss(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ss(o.result),c.oldVersion,c.newVersion,Ss(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const WO=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],xf=new Map;function w0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=HO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return xf.set(e,i),i}UO(t=>({...t,get:(e,n,r)=>w0(e,n)||t.get(e,n,r),has:(e,n)=>!!w0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hp="@firebase/app",_0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Ug("@firebase/app"),KO="@firebase/app-compat",QO="@firebase/analytics-compat",YO="@firebase/analytics",XO="@firebase/app-check-compat",JO="@firebase/app-check",ZO="@firebase/auth",eL="@firebase/auth-compat",tL="@firebase/database",nL="@firebase/data-connect",rL="@firebase/database-compat",sL="@firebase/functions",iL="@firebase/functions-compat",oL="@firebase/installations",aL="@firebase/installations-compat",lL="@firebase/messaging",cL="@firebase/messaging-compat",uL="@firebase/performance",dL="@firebase/performance-compat",hL="@firebase/remote-config",fL="@firebase/remote-config-compat",pL="@firebase/storage",mL="@firebase/storage-compat",gL="@firebase/firestore",yL="@firebase/ai",vL="@firebase/firestore-compat",wL="firebase",_L="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",EL={[Hp]:"fire-core",[KO]:"fire-core-compat",[YO]:"fire-analytics",[QO]:"fire-analytics-compat",[JO]:"fire-app-check",[XO]:"fire-app-check-compat",[ZO]:"fire-auth",[eL]:"fire-auth-compat",[tL]:"fire-rtdb",[nL]:"fire-data-connect",[rL]:"fire-rtdb-compat",[sL]:"fire-fn",[iL]:"fire-fn-compat",[oL]:"fire-iid",[aL]:"fire-iid-compat",[lL]:"fire-fcm",[cL]:"fire-fcm-compat",[uL]:"fire-perf",[dL]:"fire-perf-compat",[hL]:"fire-rc",[fL]:"fire-rc-compat",[pL]:"fire-gcs",[mL]:"fire-gcs-compat",[gL]:"fire-fst",[vL]:"fire-fst-compat",[yL]:"fire-vertex","fire-js":"fire-js",[wL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,xL=new Map,Gp=new Map;function E0(t,e){try{t.container.addComponent(e)}catch(n){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(Gp.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,t);for(const n of hd.values())E0(n,t);for(const n of xL.values())E0(n,t);return!0}function $g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new ac("app","Firebase",TL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=_L;function aI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw bs.create("bad-app-name",{appName:String(s)});if(n||(n=tI()),!n)throw bs.create("no-options");const i=hd.get(s);if(i){if(Ci(n,i.options)&&Ci(r,i.config))return i;throw bs.create("duplicate-app",{appName:s})}const o=new RO(s);for(const c of Gp.values())o.addComponent(c);const a=new IL(n,r,o);return hd.set(s,a),a}function lI(t=qp){const e=hd.get(t);if(!e&&t===qp&&tI())return aI();if(!e)throw bs.create("no-app",{appName:t});return e}function As(t,e,n){let r=EL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(o.join(" "));return}qo(new Pi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="firebase-heartbeat-database",bL=1,Vl="firebase-heartbeat-store";let Tf=null;function cI(){return Tf||(Tf=BO(SL,bL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(t=>{throw bs.create("idb-open",{originalErrorMessage:t.message})})),Tf}async function AL(t){try{const n=(await cI()).transaction(Vl),r=await n.objectStore(Vl).get(uI(t));return await n.done,r}catch(e){if(e instanceof jr)Dr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(n.message)}}}async function x0(t,e){try{const r=(await cI()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(e,uI(t)),await r.done}catch(n){if(n instanceof jr)Dr.warn(n.message);else{const r=bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Dr.warn(r.message)}}}function uI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=1024,PL=30;class RL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=T0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>PL){const o=DL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=T0(),{heartbeatsToSend:r,unsentEntries:s}=kL(this._heartbeatsCache.heartbeats),i=dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Dr.warn(n),""}}}function T0(){return new Date().toISOString().substring(0,10)}function kL(t,e=CL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),I0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),I0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vO()?wO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return x0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I0(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}function DL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){qo(new Pi("platform-logger",e=>new qO(e),"PRIVATE")),qo(new Pi("heartbeat",e=>new RL(e),"PRIVATE")),As(Hp,_0,t),As(Hp,_0,"esm2020"),As("fire-js","")}OL("");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,dI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function C(){}C.prototype=T.prototype,I.F=T.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(R,A,N){for(var k=Array(arguments.length-2),H=2;H<arguments.length;H++)k[H-2]=arguments[H];return T.prototype[A].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,T,C){C||(C=0);const R=Array(16);if(typeof T=="string")for(var A=0;A<16;++A)R[A]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(A=0;A<16;++A)R[A]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=I.g[0],C=I.g[1],A=I.g[2];let N=I.g[3],k;k=T+(N^C&(A^N))+R[0]+3614090360&4294967295,T=C+(k<<7&4294967295|k>>>25),k=N+(A^T&(C^A))+R[1]+3905402710&4294967295,N=T+(k<<12&4294967295|k>>>20),k=A+(C^N&(T^C))+R[2]+606105819&4294967295,A=N+(k<<17&4294967295|k>>>15),k=C+(T^A&(N^T))+R[3]+3250441966&4294967295,C=A+(k<<22&4294967295|k>>>10),k=T+(N^C&(A^N))+R[4]+4118548399&4294967295,T=C+(k<<7&4294967295|k>>>25),k=N+(A^T&(C^A))+R[5]+1200080426&4294967295,N=T+(k<<12&4294967295|k>>>20),k=A+(C^N&(T^C))+R[6]+2821735955&4294967295,A=N+(k<<17&4294967295|k>>>15),k=C+(T^A&(N^T))+R[7]+4249261313&4294967295,C=A+(k<<22&4294967295|k>>>10),k=T+(N^C&(A^N))+R[8]+1770035416&4294967295,T=C+(k<<7&4294967295|k>>>25),k=N+(A^T&(C^A))+R[9]+2336552879&4294967295,N=T+(k<<12&4294967295|k>>>20),k=A+(C^N&(T^C))+R[10]+4294925233&4294967295,A=N+(k<<17&4294967295|k>>>15),k=C+(T^A&(N^T))+R[11]+2304563134&4294967295,C=A+(k<<22&4294967295|k>>>10),k=T+(N^C&(A^N))+R[12]+1804603682&4294967295,T=C+(k<<7&4294967295|k>>>25),k=N+(A^T&(C^A))+R[13]+4254626195&4294967295,N=T+(k<<12&4294967295|k>>>20),k=A+(C^N&(T^C))+R[14]+2792965006&4294967295,A=N+(k<<17&4294967295|k>>>15),k=C+(T^A&(N^T))+R[15]+1236535329&4294967295,C=A+(k<<22&4294967295|k>>>10),k=T+(A^N&(C^A))+R[1]+4129170786&4294967295,T=C+(k<<5&4294967295|k>>>27),k=N+(C^A&(T^C))+R[6]+3225465664&4294967295,N=T+(k<<9&4294967295|k>>>23),k=A+(T^C&(N^T))+R[11]+643717713&4294967295,A=N+(k<<14&4294967295|k>>>18),k=C+(N^T&(A^N))+R[0]+3921069994&4294967295,C=A+(k<<20&4294967295|k>>>12),k=T+(A^N&(C^A))+R[5]+3593408605&4294967295,T=C+(k<<5&4294967295|k>>>27),k=N+(C^A&(T^C))+R[10]+38016083&4294967295,N=T+(k<<9&4294967295|k>>>23),k=A+(T^C&(N^T))+R[15]+3634488961&4294967295,A=N+(k<<14&4294967295|k>>>18),k=C+(N^T&(A^N))+R[4]+3889429448&4294967295,C=A+(k<<20&4294967295|k>>>12),k=T+(A^N&(C^A))+R[9]+568446438&4294967295,T=C+(k<<5&4294967295|k>>>27),k=N+(C^A&(T^C))+R[14]+3275163606&4294967295,N=T+(k<<9&4294967295|k>>>23),k=A+(T^C&(N^T))+R[3]+4107603335&4294967295,A=N+(k<<14&4294967295|k>>>18),k=C+(N^T&(A^N))+R[8]+1163531501&4294967295,C=A+(k<<20&4294967295|k>>>12),k=T+(A^N&(C^A))+R[13]+2850285829&4294967295,T=C+(k<<5&4294967295|k>>>27),k=N+(C^A&(T^C))+R[2]+4243563512&4294967295,N=T+(k<<9&4294967295|k>>>23),k=A+(T^C&(N^T))+R[7]+1735328473&4294967295,A=N+(k<<14&4294967295|k>>>18),k=C+(N^T&(A^N))+R[12]+2368359562&4294967295,C=A+(k<<20&4294967295|k>>>12),k=T+(C^A^N)+R[5]+4294588738&4294967295,T=C+(k<<4&4294967295|k>>>28),k=N+(T^C^A)+R[8]+2272392833&4294967295,N=T+(k<<11&4294967295|k>>>21),k=A+(N^T^C)+R[11]+1839030562&4294967295,A=N+(k<<16&4294967295|k>>>16),k=C+(A^N^T)+R[14]+4259657740&4294967295,C=A+(k<<23&4294967295|k>>>9),k=T+(C^A^N)+R[1]+2763975236&4294967295,T=C+(k<<4&4294967295|k>>>28),k=N+(T^C^A)+R[4]+1272893353&4294967295,N=T+(k<<11&4294967295|k>>>21),k=A+(N^T^C)+R[7]+4139469664&4294967295,A=N+(k<<16&4294967295|k>>>16),k=C+(A^N^T)+R[10]+3200236656&4294967295,C=A+(k<<23&4294967295|k>>>9),k=T+(C^A^N)+R[13]+681279174&4294967295,T=C+(k<<4&4294967295|k>>>28),k=N+(T^C^A)+R[0]+3936430074&4294967295,N=T+(k<<11&4294967295|k>>>21),k=A+(N^T^C)+R[3]+3572445317&4294967295,A=N+(k<<16&4294967295|k>>>16),k=C+(A^N^T)+R[6]+76029189&4294967295,C=A+(k<<23&4294967295|k>>>9),k=T+(C^A^N)+R[9]+3654602809&4294967295,T=C+(k<<4&4294967295|k>>>28),k=N+(T^C^A)+R[12]+3873151461&4294967295,N=T+(k<<11&4294967295|k>>>21),k=A+(N^T^C)+R[15]+530742520&4294967295,A=N+(k<<16&4294967295|k>>>16),k=C+(A^N^T)+R[2]+3299628645&4294967295,C=A+(k<<23&4294967295|k>>>9),k=T+(A^(C|~N))+R[0]+4096336452&4294967295,T=C+(k<<6&4294967295|k>>>26),k=N+(C^(T|~A))+R[7]+1126891415&4294967295,N=T+(k<<10&4294967295|k>>>22),k=A+(T^(N|~C))+R[14]+2878612391&4294967295,A=N+(k<<15&4294967295|k>>>17),k=C+(N^(A|~T))+R[5]+4237533241&4294967295,C=A+(k<<21&4294967295|k>>>11),k=T+(A^(C|~N))+R[12]+1700485571&4294967295,T=C+(k<<6&4294967295|k>>>26),k=N+(C^(T|~A))+R[3]+2399980690&4294967295,N=T+(k<<10&4294967295|k>>>22),k=A+(T^(N|~C))+R[10]+4293915773&4294967295,A=N+(k<<15&4294967295|k>>>17),k=C+(N^(A|~T))+R[1]+2240044497&4294967295,C=A+(k<<21&4294967295|k>>>11),k=T+(A^(C|~N))+R[8]+1873313359&4294967295,T=C+(k<<6&4294967295|k>>>26),k=N+(C^(T|~A))+R[15]+4264355552&4294967295,N=T+(k<<10&4294967295|k>>>22),k=A+(T^(N|~C))+R[6]+2734768916&4294967295,A=N+(k<<15&4294967295|k>>>17),k=C+(N^(A|~T))+R[13]+1309151649&4294967295,C=A+(k<<21&4294967295|k>>>11),k=T+(A^(C|~N))+R[4]+4149444226&4294967295,T=C+(k<<6&4294967295|k>>>26),k=N+(C^(T|~A))+R[11]+3174756917&4294967295,N=T+(k<<10&4294967295|k>>>22),k=A+(T^(N|~C))+R[2]+718787259&4294967295,A=N+(k<<15&4294967295|k>>>17),k=C+(N^(A|~T))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.v=function(I,T){T===void 0&&(T=I.length);const C=T-this.blockSize,R=this.C;let A=this.h,N=0;for(;N<T;){if(A==0)for(;N<=C;)s(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<T;)if(R[A++]=I.charCodeAt(N++),A==this.blockSize){s(this,R),A=0;break}}else for(;N<T;)if(R[A++]=I[N++],A==this.blockSize){s(this,R),A=0;break}}this.h=A,this.o+=T},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;T=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=T&255,T/=256;for(this.v(I),I=Array(16),T=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)I[T++]=this.g[C]>>>R&255;return I};function i(I,T){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=T(I)}function o(I,T){this.h=T;const C=[];let R=!0;for(let A=I.length-1;A>=0;A--){const N=I[A]|0;R&&N==T||(C[A]=N,R=!1)}this.g=C}var a={};function c(I){return-128<=I&&I<128?i(I,function(T){return new o([T|0],T<0?-1:0)}):new o([I|0],I<0?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return E(u(-I));const T=[];let C=1;for(let R=0;I>=C;R++)T[R]=I/C|0,C*=4294967296;return new o(T,0)}function d(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return E(d(I.substring(1),T));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(T,8));let R=f;for(let N=0;N<I.length;N+=8){var A=Math.min(8,I.length-N);const k=parseInt(I.substring(N,N+A),T);A<8?(A=u(Math.pow(T,A)),R=R.j(A).add(u(k))):(R=R.j(C),R=R.add(u(k)))}return R}var f=c(0),p=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-E(this).m();let I=0,T=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);I+=(R>=0?R:4294967296+R)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(_(this))return"-"+E(this).toString(I);const T=u(Math.pow(I,6));var C=this;let R="";for(;;){const A=D(C,T).g;C=w(C,A.j(T));let N=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=A,S(C))return N+R;for(;N.length<6;)N="0"+N;R=N+R}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(let T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function _(I){return I.h==-1}t.l=function(I){return I=w(this,I),_(I)?-1:S(I)?0:1};function E(I){const T=I.g.length,C=[];for(let R=0;R<T;R++)C[R]=~I.g[R];return new o(C,~I.h).add(p)}t.abs=function(){return _(this)?E(this):this},t.add=function(I){const T=Math.max(this.g.length,I.g.length),C=[];let R=0;for(let A=0;A<=T;A++){let N=R+(this.i(A)&65535)+(I.i(A)&65535),k=(N>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);R=k>>>16,N&=65535,k&=65535,C[A]=k<<16|N}return new o(C,C[C.length-1]&-2147483648?-1:0)};function w(I,T){return I.add(E(T))}t.j=function(I){if(S(this)||S(I))return f;if(_(this))return _(I)?E(this).j(E(I)):E(E(this).j(I));if(_(I))return E(this.j(E(I)));if(this.l(m)<0&&I.l(m)<0)return u(this.m()*I.m());const T=this.g.length+I.g.length,C=[];for(var R=0;R<2*T;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let A=0;A<I.g.length;A++){const N=this.i(R)>>>16,k=this.i(R)&65535,H=I.i(A)>>>16,W=I.i(A)&65535;C[2*R+2*A]+=k*W,v(C,2*R+2*A),C[2*R+2*A+1]+=N*W,v(C,2*R+2*A+1),C[2*R+2*A+1]+=k*H,v(C,2*R+2*A+1),C[2*R+2*A+2]+=N*H,v(C,2*R+2*A+2)}for(I=0;I<T;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=T;I<2*T;I++)C[I]=0;return new o(C,0)};function v(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function x(I,T){this.g=I,this.h=T}function D(I,T){if(S(T))throw Error("division by zero");if(S(I))return new x(f,f);if(_(I))return T=D(E(I),T),new x(E(T.g),E(T.h));if(_(T))return T=D(I,E(T)),new x(E(T.g),T.h);if(I.g.length>30){if(_(I)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var C=p,R=T;R.l(I)<=0;)C=O(C),R=O(R);var A=M(C,1),N=M(R,1);for(R=M(R,2),C=M(C,2);!S(R);){var k=N.add(R);k.l(I)<=0&&(A=A.add(C),N=k),R=M(R,1),C=M(C,1)}return T=w(I,A.j(T)),new x(A,T)}for(A=f;I.l(T)>=0;){for(C=Math.max(1,Math.floor(I.m()/T.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),N=u(C),k=N.j(T);_(k)||k.l(I)>0;)C-=R,N=u(C),k=N.j(T);S(N)&&(N=p),A=A.add(N),I=w(I,k)}return new x(A,I)}t.B=function(I){return D(this,I).h},t.and=function(I){const T=Math.max(this.g.length,I.g.length),C=[];for(let R=0;R<T;R++)C[R]=this.i(R)&I.i(R);return new o(C,this.h&I.h)},t.or=function(I){const T=Math.max(this.g.length,I.g.length),C=[];for(let R=0;R<T;R++)C[R]=this.i(R)|I.i(R);return new o(C,this.h|I.h)},t.xor=function(I){const T=Math.max(this.g.length,I.g.length),C=[];for(let R=0;R<T;R++)C[R]=this.i(R)^I.i(R);return new o(C,this.h^I.h)};function O(I){const T=I.g.length+1,C=[];for(let R=0;R<T;R++)C[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(C,I.h)}function M(I,T){const C=T>>5;T%=32;const R=I.g.length-C,A=[];for(let N=0;N<R;N++)A[N]=T>0?I.i(N+C)>>>T|I.i(N+C+1)<<32-T:I.i(N+C);return new o(A,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Cs=o}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hI,Ga,fI,Iu,Kp,pI,mI,gI;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof nu=="object"&&nu];for(var h=0;h<l.length;++h){var y=l[h];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var y=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var L=l[b];if(!(L in y))break e;y=y[L]}l=l[l.length-1],b=y[l],h=h(b),h!=b&&h!=null&&e(y,l,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(l){return l||function(h){var y=[],b;for(b in h)Object.prototype.hasOwnProperty.call(h,b)&&y.push([b,h[b]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function c(l,h,y){return l.call.apply(l.bind,arguments)}function u(l,h,y){return u=c,u.apply(null,arguments)}function d(l,h){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function f(l,h){function y(){}y.prototype=h.prototype,l.Z=h.prototype,l.prototype=new y,l.prototype.constructor=l,l.Ob=function(b,L,j){for(var K=Array(arguments.length-2),he=2;he<arguments.length;he++)K[he-2]=arguments[he];return h.prototype[L].apply(b,K)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function m(l){const h=l.length;if(h>0){const y=Array(h);for(let b=0;b<h;b++)y[b]=l[b];return y}return[]}function S(l,h){for(let b=1;b<arguments.length;b++){const L=arguments[b];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=l.length||0;const j=L.length||0;l.length=y+j;for(let K=0;K<j;K++)l[y+K]=L[K]}else l.push(L)}}class _{constructor(h,y){this.i=h,this.j=y,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(l){o.setTimeout(()=>{throw l},0)}function w(){var l=I;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,y){const b=x.get();b.set(h,y),this.h?this.h.next=b:this.g=b,this.h=b}}var x=new _(()=>new D,l=>l.reset());class D{constructor(){this.next=this.g=this.h=null}set(h,y){this.h=h,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let O,M=!1,I=new v,T=()=>{const l=Promise.resolve(void 0);O=()=>{l.then(C)}};function C(){for(var l;l=w();){try{l.h.call(l.g)}catch(y){E(y)}var h=x;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};o.addEventListener("test",y,h),o.removeEventListener("test",y,h)}catch{}return l}();function k(l){return/^[\s\xa0]*$/.test(l)}function H(l,h){A.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}f(H,A),H.prototype.init=function(l,h){const y=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(y=="mouseover"?h=l.fromElement:y=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&H.Z.h.call(this)},H.prototype.h=function(){H.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),B=0;function J(l,h,y,b,L){this.listener=l,this.proxy=null,this.src=h,this.type=y,this.capture=!!b,this.ha=L,this.key=++B,this.da=this.fa=!1}function V(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function F(l,h,y){for(const b in l)h.call(y,l[b],b,l)}function Q(l,h){for(const y in l)h.call(void 0,l[y],y,l)}function te(l){const h={};for(const y in l)h[y]=l[y];return h}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(l,h){let y,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(y in b)l[y]=b[y];for(let j=0;j<ee.length;j++)y=ee[j],Object.prototype.hasOwnProperty.call(b,y)&&(l[y]=b[y])}}function ce(l){this.src=l,this.g={},this.h=0}ce.prototype.add=function(l,h,y,b,L){const j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);const K=He(l,h,b,L);return K>-1?(h=l[K],y||(h.fa=!1)):(h=new J(h,this.src,j,!!b,L),h.fa=y,l.push(h)),h};function De(l,h){const y=h.type;if(y in l.g){var b=l.g[y],L=Array.prototype.indexOf.call(b,h,void 0),j;(j=L>=0)&&Array.prototype.splice.call(b,L,1),j&&(V(h),l.g[y].length==0&&(delete l.g[y],l.h--))}}function He(l,h,y,b){for(let L=0;L<l.length;++L){const j=l[L];if(!j.da&&j.listener==h&&j.capture==!!y&&j.ha==b)return L}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),jn={};function gn(l,h,y,b,L){if(Array.isArray(h)){for(let j=0;j<h.length;j++)gn(l,h[j],y,b,L);return null}return y=Ur(y),l&&l[W]?l.J(h,y,a(b)?!!b.capture:!!b,L):hr(l,h,y,!1,b,L)}function hr(l,h,y,b,L,j){if(!h)throw Error("Invalid event type");const K=a(L)?!!L.capture:!!L;let he=Fr(l);if(he||(l[ye]=he=new ce(l)),y=he.add(h,y,b,K,j),y.proxy)return y;if(b=Fn(),y.proxy=b,b.src=l,b.listener=y,l.addEventListener)N||(L=K),L===void 0&&(L=!1),l.addEventListener(h.toString(),b,L);else if(l.attachEvent)l.attachEvent(Xs(h.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Fn(){function l(y){return h.call(l.src,l.listener,y)}const h=pa;return l}function fr(l,h,y,b,L){if(Array.isArray(h))for(var j=0;j<h.length;j++)fr(l,h[j],y,b,L);else b=a(b)?!!b.capture:!!b,y=Ur(y),l&&l[W]?(l=l.i,j=String(h).toString(),j in l.g&&(h=l.g[j],y=He(h,y,b,L),y>-1&&(V(h[y]),Array.prototype.splice.call(h,y,1),h.length==0&&(delete l.g[j],l.h--)))):l&&(l=Fr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=He(h,y,b,L)),(y=l>-1?h[l]:null)&&rn(y))}function rn(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[W])De(h.i,l);else{var y=l.type,b=l.proxy;h.removeEventListener?h.removeEventListener(y,b,l.capture):h.detachEvent?h.detachEvent(Xs(y),b):h.addListener&&h.removeListener&&h.removeListener(b),(y=Fr(h))?(De(y,l),y.h==0&&(y.src=null,h[ye]=null)):V(l)}}}function Xs(l){return l in jn?jn[l]:jn[l]="on"+l}function pa(l,h){if(l.da)l=!0;else{h=new H(h,this);const y=l.listener,b=l.ha||l.src;l.fa&&rn(l),l=y.call(b,h)}return l}function Fr(l){return l=l[ye],l instanceof ce?l:null}var Js="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ur(l){return typeof l=="function"?l:(l[Js]||(l[Js]=function(h){return l.handleEvent(h)}),l[Js])}function Le(){R.call(this),this.i=new ce(this),this.M=this,this.G=null}f(Le,R),Le.prototype[W]=!0,Le.prototype.removeEventListener=function(l,h,y,b){fr(this,l,h,y,b)};function ot(l,h){var y,b=l.G;if(b)for(y=[];b;b=b.G)y.push(b);if(l=l.M,b=h.type||h,typeof h=="string")h=new A(h,l);else if(h instanceof A)h.target=h.target||l;else{var L=h;h=new A(b,l),de(h,L)}L=!0;let j,K;if(y)for(K=y.length-1;K>=0;K--)j=h.g=y[K],L=Un(j,b,!0,h)&&L;if(j=h.g=l,L=Un(j,b,!0,h)&&L,L=Un(j,b,!1,h)&&L,y)for(K=0;K<y.length;K++)j=h.g=y[K],L=Un(j,b,!1,h)&&L}Le.prototype.N=function(){if(Le.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const y=l.g[h];for(let b=0;b<y.length;b++)V(y[b]);delete l.g[h],l.h--}}this.G=null},Le.prototype.J=function(l,h,y,b){return this.i.add(String(l),h,!1,y,b)},Le.prototype.K=function(l,h,y,b){return this.i.add(String(l),h,!0,y,b)};function Un(l,h,y,b){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let L=!0;for(let j=0;j<h.length;++j){const K=h[j];if(K&&!K.da&&K.capture==y){const he=K.listener,et=K.ha||K.src;K.fa&&De(l.i,K),L=he.call(et,b)!==!1&&L}}return L&&!b.defaultPrevented}function _c(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:o.setTimeout(l,h||0)}function zn(l){l.g=_c(()=>{l.g=null,l.i&&(l.i=!1,zn(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Eh extends R{constructor(h,y){super(),this.m=h,this.l=y,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(l){R.call(this),this.h=l,this.g={}}f(Zs,R);var Ct=[];function pr(l){F(l.g,function(h,y){this.g.hasOwnProperty(y)&&rn(h)},l),l.g={}}Zs.prototype.N=function(){Zs.Z.N.call(this),pr(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ma=o.JSON.stringify,xh=o.JSON.parse,Bi=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Ec(){}function ga(){}var mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $n(){A.call(this,"d")}f($n,A);function Wi(){A.call(this,"c")}f(Wi,A);var Lt={},xc=null;function Hi(){return xc=xc||new Le}Lt.Ia="serverreachability";function ya(l){A.call(this,Lt.Ia,l)}f(ya,A);function zr(l){const h=Hi();ot(h,new ya(h))}Lt.STAT_EVENT="statevent";function Tc(l,h){A.call(this,Lt.STAT_EVENT,l),this.stat=h}f(Tc,A);function Ze(l){const h=Hi();ot(h,new Tc(h,l))}Lt.Ja="timingevent";function yn(l,h){A.call(this,Lt.Ja,l),this.size=h}f(yn,A);function ei(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},h)}function re(){this.g=!0}re.prototype.ua=function(){this.g=!1};function Ee(l,h,y,b,L,j){l.info(function(){if(l.g)if(j){var K="",he=j.split("&");for(let Ie=0;Ie<he.length;Ie++){var et=he[Ie].split("=");if(et.length>1){const lt=et[0];et=et[1];const Hn=lt.split("_");K=Hn.length>=2&&Hn[1]=="type"?K+(lt+"="+et+"&"):K+(lt+"=redacted&")}}}else K=null;else K=j;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+h+`
`+y+`
`+K})}function Se(l,h,y,b,L,j,K){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+h+`
`+y+`
`+j+" "+K})}function at(l,h,y,b){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Bn(l,y)+(b?" "+b:"")})}function qt(l,h){l.info(function(){return"TIMEOUT: "+h})}re.prototype.info=function(){};function Bn(l,h){if(!l.g)return h;if(!h)return null;try{const j=JSON.parse(h);if(j){for(l=0;l<j.length;l++)if(Array.isArray(j[l])){var y=j[l];if(!(y.length<2)){var b=y[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let K=1;K<b.length;K++)b[K]=""}}}}return ma(j)}catch{return h}}var sn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vn;function Th(){}f(Th,Ec),Th.prototype.g=function(){return new XMLHttpRequest},vn=new Th;function va(l){return encodeURIComponent(String(l))}function Sb(l){var h=1;l=l.split(":");const y=[];for(;h>0&&l.length;)y.push(l.shift()),h--;return l.length&&y.push(l.join(":")),y}function $r(l,h,y,b){this.j=l,this.i=h,this.l=y,this.S=b||1,this.V=new Zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vy}function Vy(){this.i=null,this.g="",this.h=!1}var jy={},Ih={};function Sh(l,h,y){l.M=1,l.A=Sc(Wn(h)),l.u=y,l.R=!0,Fy(l,null)}function Fy(l,h){l.F=Date.now(),Ic(l),l.B=Wn(l.A);var y=l.B,b=l.S;Array.isArray(b)||(b=[String(b)]),Jy(y.i,"t",b),l.C=0,y=l.j.L,l.h=new Vy,l.g=gv(l.j,y?h:null,!l.u),l.P>0&&(l.O=new Eh(u(l.Y,l,l.g),l.P)),h=l.V,y=l.g,b=l.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ct[0]=L.toString()),L=Ct);for(let j=0;j<L.length;j++){const K=gn(y,L[j],b||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=l.J?te(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),zr(),Ee(l.i,l.v,l.B,l.l,l.S,l.u)}$r.prototype.ba=function(l){l=l.target;const h=this.O;h&&Hr(l)==3?h.j():this.Y(l)},$r.prototype.Y=function(l){try{if(l==this.g)e:{const he=Hr(this.g),et=this.g.ya(),Ie=this.g.ca();if(!(he<3)&&(he!=3||this.g&&(this.h.h||this.g.la()||iv(this.g)))){this.K||he!=4||et==7||(et==8||Ie<=0?zr(3):zr(2)),bh(this);var h=this.g.ca();this.X=h;var y=bb(this);if(this.o=h==200,Se(this.i,this.v,this.B,this.l,this.S,he,h),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(b)){var j=b;break t}}j=null}if(l=j)at(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ah(this,l);else{this.o=!1,this.m=3,Ze(12),ti(this),wa(this);break e}}if(this.R){l=!0;let lt;for(;!this.K&&this.C<y.length;)if(lt=Ab(this,y),lt==Ih){he==4&&(this.m=4,Ze(14),l=!1),at(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==jy){this.m=4,Ze(15),at(this.i,this.l,y,"[Invalid Chunk]"),l=!1;break}else at(this.i,this.l,lt,null),Ah(this,lt);if(Uy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||y.length!=0||this.h.h||(this.m=1,Ze(16),l=!1),this.o=this.o&&l,!l)at(this.i,this.l,y,"[Invalid Chunked Response]"),ti(this),wa(this);else if(y.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Lh(K),K.P=!0,Ze(11))}}else at(this.i,this.l,y,null),Ah(this,y);he==4&&ti(this),this.o&&!this.K&&(he==4?hv(this.j,this):(this.o=!1,Ic(this)))}else zb(this.g),h==400&&y.indexOf("Unknown SID")>0?(this.m=3,Ze(12)):(this.m=0,Ze(13)),ti(this),wa(this)}}}catch{}finally{}};function bb(l){if(!Uy(l))return l.g.la();const h=iv(l.g);if(h==="")return"";let y="";const b=h.length,L=Hr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return ti(l),wa(l),"";l.h.i=new o.TextDecoder}for(let j=0;j<b;j++)l.h.h=!0,y+=l.h.i.decode(h[j],{stream:!(L&&j==b-1)});return h.length=0,l.h.g+=y,l.C=0,l.h.g}function Uy(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Ab(l,h){var y=l.C,b=h.indexOf(`
`,y);return b==-1?Ih:(y=Number(h.substring(y,b)),isNaN(y)?jy:(b+=1,b+y>h.length?Ih:(h=h.slice(b,b+y),l.C=b+y,h)))}$r.prototype.cancel=function(){this.K=!0,ti(this)};function Ic(l){l.T=Date.now()+l.H,zy(l,l.H)}function zy(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=ei(u(l.aa,l),h)}function bh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}$r.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(qt(this.i,this.B),this.M!=2&&(zr(),Ze(17)),ti(this),this.m=2,wa(this)):zy(this,this.T-l)};function wa(l){l.j.I==0||l.K||hv(l.j,l)}function ti(l){bh(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,pr(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Ah(l,h){try{var y=l.j;if(y.I!=0&&(y.g==l||Ch(y.h,l))){if(!l.L&&Ch(y.h,l)&&y.I==3){try{var b=y.Ba.g.parse(h)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<l.F)Rc(y),Cc(y);else break e;Oh(y),Ze(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ei(u(y.Va,y),6e3));Wy(y.h)<=1&&y.ta&&(y.ta=void 0)}else ri(y,11)}else if((l.L||y.g==l)&&Rc(y),!k(h))for(L=y.Ba.g.parse(h),h=0;h<L.length;h++){let Ie=L[h];const lt=Ie[0];if(!(lt<=y.K))if(y.K=lt,Ie=Ie[1],y.I==2)if(Ie[0]=="c"){y.M=Ie[1],y.ba=Ie[2];const Hn=Ie[3];Hn!=null&&(y.ka=Hn,y.j.info("VER="+y.ka));const si=Ie[4];si!=null&&(y.za=si,y.j.info("SVER="+y.za));const qr=Ie[5];qr!=null&&typeof qr=="number"&&qr>0&&(b=1.5*qr,y.O=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const Gr=l.g;if(Gr){const Nc=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nc){var j=b.h;j.g||Nc.indexOf("spdy")==-1&&Nc.indexOf("quic")==-1&&Nc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ph(j,j.h),j.h=null))}if(b.G){const Mh=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(b.wa=Mh,Ce(b.J,b.G,Mh))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-l.F,y.j.info("Handshake RTT: "+y.T+"ms")),b=y;var K=l;if(b.na=mv(b,b.L?b.ba:null,b.W),K.L){Hy(b.h,K);var he=K,et=b.O;et&&(he.H=et),he.D&&(bh(he),Ic(he)),b.g=K}else uv(b);y.i.length>0&&Pc(y)}else Ie[0]!="stop"&&Ie[0]!="close"||ri(y,7);else y.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?ri(y,7):Dh(y):Ie[0]!="noop"&&y.l&&y.l.qa(Ie),y.A=0)}}zr(4)}catch{}}var Cb=class{constructor(l,h){this.g=l,this.map=h}};function $y(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function By(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Wy(l){return l.h?1:l.g?l.g.size:0}function Ch(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ph(l,h){l.g?l.g.add(h):l.h=h}function Hy(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}$y.prototype.cancel=function(){if(this.i=qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function qy(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const y of l.g.values())h=h.concat(y.G);return h}return m(l.i)}var Gy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pb(l,h){if(l){l=l.split("&");for(let y=0;y<l.length;y++){const b=l[y].indexOf("=");let L,j=null;b>=0?(L=l[y].substring(0,b),j=l[y].substring(b+1)):L=l[y],h(L,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Br(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Br?(this.l=l.l,_a(this,l.j),this.o=l.o,this.g=l.g,Ea(this,l.u),this.h=l.h,Rh(this,Zy(l.i)),this.m=l.m):l&&(h=String(l).match(Gy))?(this.l=!1,_a(this,h[1]||"",!0),this.o=xa(h[2]||""),this.g=xa(h[3]||"",!0),Ea(this,h[4]),this.h=xa(h[5]||"",!0),Rh(this,h[6]||"",!0),this.m=xa(h[7]||"")):(this.l=!1,this.i=new Ia(null,this.l))}Br.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Ta(h,Ky,!0),":");var y=this.g;return(y||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Ta(h,Ky,!0),"@"),l.push(va(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&l.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Ta(y,y.charAt(0)=="/"?Nb:kb,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Ta(y,Ob)),l.join("")},Br.prototype.resolve=function(l){const h=Wn(this);let y=!!l.j;y?_a(h,l.j):y=!!l.o,y?h.o=l.o:y=!!l.g,y?h.g=l.g:y=l.u!=null;var b=l.h;if(y)Ea(h,l.u);else if(y=!!l.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=h.h.lastIndexOf("/");L!=-1&&(b=h.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const j=[];for(let K=0;K<L.length;){const he=L[K++];he=="."?b&&K==L.length&&j.push(""):he==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),b&&K==L.length&&j.push("")):(j.push(he),b=!0)}b=j.join("/")}else b=L}return y?h.h=b:y=l.i.toString()!=="",y?Rh(h,Zy(l.i)):y=!!l.m,y&&(h.m=l.m),h};function Wn(l){return new Br(l)}function _a(l,h,y){l.j=y?xa(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ea(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Rh(l,h,y){h instanceof Ia?(l.i=h,Lb(l.i,l.l)):(y||(h=Ta(h,Db)),l.i=new Ia(h,l.l))}function Ce(l,h,y){l.i.set(h,y)}function Sc(l){return Ce(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function xa(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ta(l,h,y){return typeof l=="string"?(l=encodeURI(l).replace(h,Rb),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Rb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ky=/[#\/\?@]/g,kb=/[#\?:]/g,Nb=/[#\?]/g,Db=/[#\?@]/g,Ob=/#/g;function Ia(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ni(l){l.g||(l.g=new Map,l.h=0,l.i&&Pb(l.i,function(h,y){l.add(decodeURIComponent(h.replace(/\+/g," ")),y)}))}t=Ia.prototype,t.add=function(l,h){ni(this),this.i=null,l=qi(this,l);let y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(h),this.h+=1,this};function Qy(l,h){ni(l),h=qi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Yy(l,h){return ni(l),h=qi(l,h),l.g.has(h)}t.forEach=function(l,h){ni(this),this.g.forEach(function(y,b){y.forEach(function(L){l.call(h,L,b,this)},this)},this)};function Xy(l,h){ni(l);let y=[];if(typeof h=="string")Yy(l,h)&&(y=y.concat(l.g.get(qi(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)y=y.concat(l[h]);return y}t.set=function(l,h){return ni(this),this.i=null,l=qi(this,l),Yy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=Xy(this,l),l.length>0?String(l[0]):h):h};function Jy(l,h,y){Qy(l,h),y.length>0&&(l.i=null,l.g.set(qi(l,h),m(y)),l.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let b=0;b<h.length;b++){var y=h[b];const L=va(y);y=Xy(this,y);for(let j=0;j<y.length;j++){let K=L;y[j]!==""&&(K+="="+va(y[j])),l.push(K)}}return this.i=l.join("&")};function Zy(l){const h=new Ia;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function qi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Lb(l,h){h&&!l.j&&(ni(l),l.i=null,l.g.forEach(function(y,b){const L=b.toLowerCase();b!=L&&(Qy(this,b),Jy(this,L,y))},l)),l.j=h}function Mb(l,h){const y=new re;if(o.Image){const b=new Image;b.onload=d(Wr,y,"TestLoadImage: loaded",!0,h,b),b.onerror=d(Wr,y,"TestLoadImage: error",!1,h,b),b.onabort=d(Wr,y,"TestLoadImage: abort",!1,h,b),b.ontimeout=d(Wr,y,"TestLoadImage: timeout",!1,h,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else h(!1)}function Vb(l,h){const y=new re,b=new AbortController,L=setTimeout(()=>{b.abort(),Wr(y,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:b.signal}).then(j=>{clearTimeout(L),j.ok?Wr(y,"TestPingServer: ok",!0,h):Wr(y,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Wr(y,"TestPingServer: error",!1,h)})}function Wr(l,h,y,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(y)}catch{}}function jb(){this.g=new Bi}function kh(l){this.i=l.Sb||null,this.h=l.ab||!1}f(kh,Ec),kh.prototype.g=function(){return new bc(this.i,this.h)};function bc(l,h){Le.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(bc,Le),t=bc.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,ba(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||o).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sa(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ev(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function ev(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Sa(this):ba(this),this.readyState==3&&ev(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Sa(this))},t.Na=function(l){this.g&&(this.response=l,Sa(this))},t.ga=function(){this.g&&Sa(this)};function Sa(l){l.readyState=4,l.l=null,l.j=null,l.B=null,ba(l)}t.setRequestHeader=function(l,h){this.A.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var y=h.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=h.next();return l.join(`\r
`)};function ba(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tv(l){let h="";return F(l,function(y,b){h+=b,h+=":",h+=y,h+=`\r
`}),h}function Nh(l,h,y){e:{for(b in y){var b=!1;break e}b=!0}b||(y=tv(y),typeof l=="string"?y!=null&&va(y):Ce(l,h,y))}function Ue(l){Le.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ue,Le);var Fb=/^https?$/i,Ub=["POST","PUT"];t=Ue.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,h,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vn.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){nv(this,j);return}if(l=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)y.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())y.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),L=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(Ub,h,void 0)>=0)||b||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of y)this.g.setRequestHeader(j,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(j){nv(this,j)}};function nv(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,rv(l),Ac(l)}function rv(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,ot(this,"complete"),ot(this,"abort"),Ac(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ac(this,!0)),Ue.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sv(this):this.Xa())},t.Xa=function(){sv(this)};function sv(l){if(l.h&&typeof i<"u"){if(l.v&&Hr(l)==4)setTimeout(l.Ca.bind(l),0);else if(ot(l,"readystatechange"),Hr(l)==4){l.h=!1;try{const j=l.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var y;if(!(y=h)){var b;if(b=j===0){let K=String(l.D).match(Gy)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),b=!Fb.test(K?K.toLowerCase():"")}y=b}if(y)ot(l,"complete"),ot(l,"success");else{l.o=6;try{var L=Hr(l)>2?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.ca()+"]",rv(l)}}finally{Ac(l)}}}}function Ac(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const y=l.g;l.g=null,h||ot(l,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Hr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),xh(h)}};function iv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function zb(l){const h={};l=(l.g&&Hr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(k(l[b]))continue;var y=Sb(l[b]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=h[L]||[];h[L]=j,j.push(y)}Q(h,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(l,h,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||h}function ov(l){this.za=0,this.i=[],this.j=new re,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Aa("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Aa("baseRetryDelayMs",5e3,l),this.Za=Aa("retryDelaySeedMs",1e4,l),this.Ta=Aa("forwardChannelMaxRetries",2,l),this.va=Aa("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new $y(l&&l.concurrentRequestLimit),this.Ba=new jb,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ov.prototype,t.ka=8,t.I=1,t.connect=function(l,h,y,b){Ze(0),this.W=l,this.H=h||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.J=mv(this,null,this.W),Pc(this)};function Dh(l){if(av(l),l.I==3){var h=l.V++,y=Wn(l.J);if(Ce(y,"SID",l.M),Ce(y,"RID",h),Ce(y,"TYPE","terminate"),Ca(l,y),h=new $r(l,l.j,h),h.M=2,h.A=Sc(Wn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(h.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=h.A,y=!0),y||(h.g=gv(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Ic(h)}pv(l)}function Cc(l){l.g&&(Lh(l),l.g.cancel(),l.g=null)}function av(l){Cc(l),l.v&&(o.clearTimeout(l.v),l.v=null),Rc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Pc(l){if(!By(l.h)&&!l.m){l.m=!0;var h=l.Ea;O||T(),M||(O(),M=!0),I.add(h,l),l.D=0}}function $b(l,h){return Wy(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=ei(u(l.Ea,l,h),fv(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const L=new $r(this,this.j,l);let j=this.o;if(this.U&&(j?(j=te(j),de(j,this.U)):j=this.U),this.u!==null||this.R||(L.J=j,j=null),this.S)e:{for(var h=0,y=0;y<this.i.length;y++){t:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(h+=b,h>4096){h=y;break e}if(h===4096||y===this.i.length-1){h=y+1;break e}}h=1e3}else h=1e3;h=cv(this,L,h),y=Wn(this.J),Ce(y,"RID",l),Ce(y,"CVER",22),this.G&&Ce(y,"X-HTTP-Session-Id",this.G),Ca(this,y),j&&(this.R?h="headers="+va(tv(j))+"&"+h:this.u&&Nh(y,this.u,j)),Ph(this.h,L),this.Ra&&Ce(y,"TYPE","init"),this.S?(Ce(y,"$req",h),Ce(y,"SID","null"),L.U=!0,Sh(L,y,null)):Sh(L,y,h),this.I=2}}else this.I==3&&(l?lv(this,l):this.i.length==0||By(this.h)||lv(this))};function lv(l,h){var y;h?y=h.l:y=l.V++;const b=Wn(l.J);Ce(b,"SID",l.M),Ce(b,"RID",y),Ce(b,"AID",l.K),Ca(l,b),l.u&&l.o&&Nh(b,l.u,l.o),y=new $r(l,l.j,y,l.D+1),l.u===null&&(y.J=l.o),h&&(l.i=h.G.concat(l.i)),h=cv(l,y,1e3),y.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Ph(l.h,y),Sh(y,b,h)}function Ca(l,h){l.H&&F(l.H,function(y,b){Ce(h,b,y)}),l.l&&F({},function(y,b){Ce(h,b,y)})}function cv(l,h,y){y=Math.min(l.i.length,y);const b=l.l?u(l.l.Ka,l.l,l):null;e:{var L=l.i;let he=-1;for(;;){const et=["count="+y];he==-1?y>0?(he=L[0].g,et.push("ofs="+he)):he=0:et.push("ofs="+he);let Ie=!0;for(let lt=0;lt<y;lt++){var j=L[lt].g;const Hn=L[lt].map;if(j-=he,j<0)he=Math.max(0,L[lt].g-100),Ie=!1;else try{j="req"+j+"_"||"";try{var K=Hn instanceof Map?Hn:Object.entries(Hn);for(const[si,qr]of K){let Gr=qr;a(qr)&&(Gr=ma(qr)),et.push(j+si+"="+encodeURIComponent(Gr))}}catch(si){throw et.push(j+"type="+encodeURIComponent("_badmap")),si}}catch{b&&b(Hn)}}if(Ie){K=et.join("&");break e}}K=void 0}return l=l.i.splice(0,y),h.G=l,K}function uv(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;O||T(),M||(O(),M=!0),I.add(h,l),l.A=0}}function Oh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=ei(u(l.Da,l),fv(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,dv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=ei(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ze(10),Cc(this),dv(this))};function Lh(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function dv(l){l.g=new $r(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=Wn(l.na);Ce(h,"RID","rpc"),Ce(h,"SID",l.M),Ce(h,"AID",l.K),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ce(h,"TO",l.ia),Ce(h,"TYPE","xmlhttp"),Ca(l,h),l.u&&l.o&&Nh(h,l.u,l.o),l.O&&(l.g.H=l.O);var y=l.g;l=l.ba,y.M=1,y.A=Sc(Wn(h)),y.u=null,y.R=!0,Fy(y,l)}t.Va=function(){this.C!=null&&(this.C=null,Cc(this),Oh(this),Ze(19))};function Rc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function hv(l,h){var y=null;if(l.g==h){Rc(l),Lh(l),l.g=null;var b=2}else if(Ch(l.h,h))y=h.G,Hy(l.h,h),b=1;else return;if(l.I!=0){if(h.o)if(b==1){y=h.u?h.u.length:0,h=Date.now()-h.F;var L=l.D;b=Hi(),ot(b,new yn(b,y)),Pc(l)}else uv(l);else if(L=h.m,L==3||L==0&&h.X>0||!(b==1&&$b(l,h)||b==2&&Oh(l)))switch(y&&y.length>0&&(h=l.h,h.i=h.i.concat(y)),L){case 1:ri(l,5);break;case 4:ri(l,10);break;case 3:ri(l,6);break;default:ri(l,2)}}}function fv(l,h){let y=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(y*=2),y*h}function ri(l,h){if(l.j.info("Error code "+h),h==2){var y=u(l.bb,l),b=l.Ua;const L=!b;b=new Br(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||_a(b,"https"),Sc(b),L?Mb(b.toString(),y):Vb(b.toString(),y)}else Ze(2);l.I=0,l.l&&l.l.pa(h),pv(l),av(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function pv(l){if(l.I=0,l.ja=[],l.l){const h=qy(l.h);(h.length!=0||l.i.length!=0)&&(S(l.ja,h),S(l.ja,l.i),l.h.i.length=0,m(l.i),l.i.length=0),l.l.oa()}}function mv(l,h,y){var b=y instanceof Br?Wn(y):new Br(y);if(b.g!="")h&&(b.g=h+"."+b.g),Ea(b,b.u);else{var L=o.location;b=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;const j=new Br(null);b&&_a(j,b),h&&(j.g=h),L&&Ea(j,L),y&&(j.h=y),b=j}return y=l.G,h=l.wa,y&&h&&Ce(b,y,h),Ce(b,"VER",l.ka),Ca(l,b),b}function gv(l,h,y){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Ue(new kh({ab:y})):new Ue(l.ma),h.Fa(l.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yv(){}t=yv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function kc(){}kc.prototype.g=function(l,h){return new Gt(l,h)};function Gt(l,h){Le.call(this),this.g=new ov(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!k(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!k(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Gi(this)}f(Gt,Le),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Dh(this.g)},Gt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.v&&(y={},y.__data__=ma(l),l=y);h.i.push(new Cb(h.Ya++,l)),h.I==3&&Pc(h)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Dh(this.g),delete this.g,Gt.Z.N.call(this)};function vv(l){$n.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const y in h){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}f(vv,$n);function wv(){Wi.call(this),this.status=1}f(wv,Wi);function Gi(l){this.g=l}f(Gi,yv),Gi.prototype.ra=function(){ot(this.g,"a")},Gi.prototype.qa=function(l){ot(this.g,new vv(l))},Gi.prototype.pa=function(l){ot(this.g,new wv)},Gi.prototype.oa=function(){ot(this.g,"b")},kc.prototype.createWebChannel=kc.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,gI=function(){return new kc},mI=function(){return Hi()},pI=Lt,Kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},sn.NO_ERROR=0,sn.TIMEOUT=8,sn.HTTP_ERROR=6,Iu=sn,Mt.COMPLETE="complete",fI=Mt,ga.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",Le.prototype.listen=Le.prototype.J,Ga=ga,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,hI=Ue}).apply(typeof nu<"u"?nu:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",A0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=new Ug("@firebase/firestore");function Yi(){return Ri.logLevel}function X(t,...e){if(Ri.logLevel<=pe.DEBUG){const n=e.map(Bg);Ri.debug(`Firestore (${la}): ${t}`,...n)}}function Or(t,...e){if(Ri.logLevel<=pe.ERROR){const n=e.map(Bg);Ri.error(`Firestore (${la}): ${t}`,...n)}}function Go(t,...e){if(Ri.logLevel<=pe.WARN){const n=e.map(Bg);Ri.warn(`Firestore (${la}): ${t}`,...n)}}function Bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yI(t,r,n)}function yI(t,e,n){let r=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Or(r),new Error(r)}function xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||yI(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class ML{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VL{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _i,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _i)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new vI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}}class jL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new jL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new C0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new C0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Qp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return If(s)===If(i)?me(s,i):If(s)?1:-1}return me(t.length,e.length)}const $L=55296,BL=57343;function If(t){const e=t.charCodeAt(0);return e>=$L&&e<=BL}function Ko(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class Kn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Kn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=Kn.isNumericId(e),s=Kn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Kn.extractNumericId(e).compare(Kn.extractNumericId(n)):Qp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class be extends Kn{construct(e,n,r){return new be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new be(n)}static emptyPath(){return new be([])}}const WL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Kn{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return WL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new pt([P0])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(be.fromString(e))}static fromName(e){return new ne(be.fromString(e).popFirst(5))}static empty(){return new ne(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HL(t,e,n,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R0(t){if(!ne.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k0(t){if(ne.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _I(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rh(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){const n={typeString:t};return e&&(n.value=e),n}function cc(t,e){if(!_I(t))throw new Y(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-62135596800,D0=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*D0);return new ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N0)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D0}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(cc(e,ke._jsonSchema))return new ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-N0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ke._jsonSchemaVersion="firestore/timestamp/1.0",ke._jsonSchema={type:Qe("string",ke._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new ke(0,0))}static max(){return new oe(new ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function qL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new Vs(s,ne.empty(),e)}function GL(t){return new Vs(t.readTime,t.key,jl)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(oe.min(),ne.empty(),jl)}static max(){return new Vs(oe.max(),ne.empty(),jl)}}function KL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==QL)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function XL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ua(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=-1;function ih(t){return t==null}function fd(t){return t===0&&1/t==-1/0}function JL(t){return typeof t=="number"&&Number.isInteger(t)&&!fd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="";function ZL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=O0(e)),e=eM(t.get(n),e);return O0(e)}function eM(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case EI:n+="";break;default:n+=i}}return n}function O0(t){return t+EI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ru(this.root,e,this.comparator,!0)}}class ru{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ft.RED,this.left=s??ft.EMPTY,this.right=i??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ft(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ft.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(e){return new M0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof st)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new st(this.comparator);return n.data=e,n}}class M0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new st(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TI("Invalid base64 string: "+i):i}}(e);return new yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const tM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function js(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=tM.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="server_timestamp",SI="__type__",bI="__previous_value__",AI="__local_write_time__";function qg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SI])==null?void 0:r.stringValue)===II}function oh(t){const e=t.mapValue.fields[bI];return qg(e)?oh(e):e}function Fl(t){const e=js(t.mapValue.fields[AI].timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n,r,s,i,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const pd="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||pd}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===pd}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="__type__",PI="__max__",su={mapValue:{fields:{__type__:{stringValue:PI}}}},RI="__vector__",md="value";function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qg(t)?4:sM(t)?9007199254740991:rM(t)?10:11:ie(28295,{value:t})}function ur(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fl(t).isEqual(Fl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=js(s.timestampValue),a=js(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fs(s.bytesValue).isEqual(Fs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Be(s.doubleValue),a=Be(i.doubleValue);return o===a?fd(o)===fd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ko(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(L0(o)!==L0(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ur(o[c],a[c])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function zl(t,e){return(t.values||[]).find(n=>ur(n,e))!==void 0}function Qo(t,e){if(t===e)return 0;const n=Us(t),r=Us(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Be(i.integerValue||i.doubleValue),c=Be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return V0(t.timestampValue,e.timestampValue);case 4:return V0(Fl(t),Fl(e));case 5:return Qp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Fs(i),c=Fs(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=me(a[u],c[u]);if(d!==0)return d}return me(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=me(Be(i.latitude),Be(o.latitude));return a!==0?a:me(Be(i.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,S,_;const a=i.fields||{},c=o.fields||{},u=(p=a[md])==null?void 0:p.arrayValue,d=(m=c[md])==null?void 0:m.arrayValue,f=me(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((_=d==null?void 0:d.values)==null?void 0:_.length)||0);return f!==0?f:j0(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===su.mapValue&&o===su.mapValue)return 0;if(i===su.mapValue)return 1;if(o===su.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=Qp(c[f],d[f]);if(p!==0)return p;const m=Qo(a[c[f]],u[d[f]]);if(m!==0)return m}return me(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function V0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=js(t),r=js(e),s=me(n.seconds,r.seconds);return s!==0?s:me(n.nanos,r.nanos)}function j0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qo(n[s],r[s]);if(i)return i}return me(n.length,r.length)}function Yo(t){return Yp(t)}function Yp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=js(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Yp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Yp(n.fields[o])}`;return s+"}"}(t.mapValue):ie(61005,{value:t})}function Su(t){switch(Us(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(t);return e?16+Su(e):16;case 5:return 2*t.stringValue.length;case 6:return Fs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Su(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Gs(r.fields,(i,o)=>{s+=i.length+Su(o)}),s}(t.mapValue);default:throw ie(13486,{value:t})}}function F0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xp(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function U0(t){return!!t&&"nullValue"in t}function z0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bu(t){return!!t&&"mapValue"in t}function rM(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CI])==null?void 0:r.stringValue)===RI}function ll(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ll(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ll(t.arrayValue.values[n]);return e}return{...t}}function sM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(n)}setAll(e){let n=pt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ll(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());bu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ut(ll(this.value))}}function kI(t){const e=[];return Gs(t.fields,(n,r)=>{const s=new pt([n]);if(bu(r)){const i=kI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,oe.min(),oe.min(),oe.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,oe.min(),oe.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,oe.min(),oe.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){this.position=e,this.inclusive=n}}function $0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Qo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function B0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function iM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{}class Ke extends NI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aM(e,n,r):n==="array-contains"?new uM(e,r):n==="in"?new dM(e,r):n==="not-in"?new hM(e,r):n==="array-contains-any"?new fM(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lM(e,r):new cM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends NI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mn(e,n)}matches(e){return DI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DI(t){return t.op==="and"}function OI(t){return oM(t)&&DI(t)}function oM(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function Jp(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(OI(t))return t.filters.map(e=>Jp(e)).join(",");{const e=t.filters.map(n=>Jp(n)).join(",");return`${t.op}(${e})`}}function LI(t,e){return t instanceof Ke?function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&ur(r.value,s.value)}(t,e):t instanceof Mn?function(r,s){return s instanceof Mn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&LI(o,s.filters[a]),!0):!1}(t,e):void ie(19439)}function MI(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(MI).join(" ,")+"}"}(t):"Filter"}class aM extends Ke{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class lM extends Ke{constructor(e,n){super(e,"in",n),this.keys=VI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cM extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=VI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class uM extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&zl(n.arrayValue,this.value)}}class dM extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class hM extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class fM extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function W0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new pM(t,e,n,r,s,i,o)}function Kg(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Yo(r)).join(",")),e.Te=n}return e.Te}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B0(t.startAt,e.startAt)&&B0(t.endAt,e.endAt)}function Zp(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mM(t,e,n,r,s,i,o,a){return new da(t,e,n,r,s,i,o,a)}function Yg(t){return new da(t)}function H0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jI(t){return t.collectionGroup!==null}function cl(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new st(pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new $l(i,r))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new $l(pt.keyField(),r))}return e.Ie}function rr(t){const e=ae(t);return e.Ee||(e.Ee=gM(e,cl(t))),e.Ee}function gM(t,e){if(t.limitType==="F")return W0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new $l(s.field,i)});const n=t.endAt?new gd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gd(t.startAt.position,t.startAt.inclusive):null;return W0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function em(t,e){const n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tm(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ah(t,e){return Qg(rr(t),rr(e))&&t.limitType===e.limitType}function FI(t){return`${Kg(rr(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>MI(s)).join(", ")}]`),ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Yo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Yo(s)).join(",")),`Target(${r})`}(rr(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of cl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=$0(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,cl(r),s)||r.endAt&&!function(o,a,c){const u=$0(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,cl(r),s))}(t,e)}function yM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UI(t){return(e,n)=>{let r=!1;for(const s of cl(t)){const i=vM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function vM(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Qo(c,u):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return xI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=new Fe(ne.comparator);function Lr(){return wM}const zI=new Fe(ne.comparator);function Ka(...t){let e=zI;for(const n of t)e=e.insert(n.key,n);return e}function $I(t){let e=zI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function di(){return ul()}function BI(){return ul()}function ul(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const _M=new Fe(ne.comparator),EM=new st(ne.comparator);function ge(...t){let e=EM;for(const n of t)e=e.add(n);return e}const xM=new st(me);function TM(){return xM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function WI(t){return{integerValue:""+t}}function HI(t,e){return JL(e)?WI(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function IM(t,e,n){return t instanceof Bl?function(s,i){const o={fields:{[SI]:{stringValue:II},[AI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&qg(i)&&(i=oh(i)),i&&(o.fields[bI]=i),{mapValue:o}}(n,e):t instanceof Wl?GI(t,e):t instanceof Hl?KI(t,e):function(s,i){const o=qI(s,i),a=q0(o)+q0(s.Ae);return Xp(o)&&Xp(s.Ae)?WI(a):Xg(s.serializer,a)}(t,e)}function SM(t,e,n){return t instanceof Wl?GI(t,e):t instanceof Hl?KI(t,e):n}function qI(t,e){return t instanceof ql?function(r){return Xp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Bl extends ch{}class Wl extends ch{constructor(e){super(),this.elements=e}}function GI(t,e){const n=QI(e);for(const r of t.elements)n.some(s=>ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class Hl extends ch{constructor(e){super(),this.elements=e}}function KI(t,e){let n=QI(e);for(const r of t.elements)n=n.filter(s=>!ur(s,r));return{arrayValue:{values:n}}}class ql extends ch{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q0(t){return Be(t.integerValue||t.doubleValue)}function QI(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.field=e,this.transform=n}}function bM(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Wl&&s instanceof Wl||r instanceof Hl&&s instanceof Hl?Ko(r.elements,s.elements,ur):r instanceof ql&&s instanceof ql?ur(r.Ae,s.Ae):r instanceof Bl&&s instanceof Bl}(t.transform,e.transform)}class AM{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uh{}function XI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jg(t.key,kn.none()):new uc(t.key,t.data,kn.none());{const n=t.data,r=Ut.empty();let s=new st(pt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ks(t.key,r,new Xt(s.toArray()),kn.none())}}function CM(t,e,n){t instanceof uc?function(s,i,o){const a=s.value.clone(),c=K0(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(s,i,o){if(!Au(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=K0(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(JI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function dl(t,e,n,r){return t instanceof uc?function(i,o,a,c){if(!Au(i.precondition,o))return a;const u=i.value.clone(),d=Q0(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ks?function(i,o,a,c){if(!Au(i.precondition,o))return a;const u=Q0(i.fieldTransforms,c,o),d=o.data;return d.setAll(JI(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Au(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function PM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=qI(r.transform,s||null);i!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,i))}return n||null}function G0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ko(r,s,(i,o)=>bM(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uc extends uh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ks extends uh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function K0(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,SM(o,a,n[s]))}return r}function Q0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,IM(i,o,e))}return r}class Jg extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RM extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&CM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=XI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(n,r)=>G0(n,r))&&Ko(this.baseMutations,e.baseMutations,(n,r)=>G0(n,r))}}class Zg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return _M}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Zg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ve;function OM(t){switch(t){case z.OK:return ie(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function ZI(t){if(t===void 0)return Or("GRPC error has no .code"),z.UNKNOWN;switch(t){case qe.OK:return z.OK;case qe.CANCELLED:return z.CANCELLED;case qe.UNKNOWN:return z.UNKNOWN;case qe.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case qe.INTERNAL:return z.INTERNAL;case qe.UNAVAILABLE:return z.UNAVAILABLE;case qe.UNAUTHENTICATED:return z.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case qe.NOT_FOUND:return z.NOT_FOUND;case qe.ALREADY_EXISTS:return z.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return z.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case qe.ABORTED:return z.ABORTED;case qe.OUT_OF_RANGE:return z.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return z.UNIMPLEMENTED;case qe.DATA_LOSS:return z.DATA_LOSS;default:return ie(39323,{code:t})}}(ve=qe||(qe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new Cs([4294967295,4294967295],0);function Y0(t){const e=LM().encode(t),n=new dI;return n.update(e),new Uint8Array(n.digest())}function X0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Cs([n,r],0),new Cs([s,i],0)]}class ey{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qa(`Invalid padding: ${n}`);if(r<0)throw new Qa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Cs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Cs.fromNumber(r)));return s.compare(MM)===1&&(s=new Cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y0(e),[r,s]=X0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ey(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Y0(e),[r,s]=X0(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dh(oe.min(),s,new Fe(me),Lr(),ge())}}class dc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class eS{constructor(e,n){this.targetId=e,this.Ce=n}}class tS{constructor(e,n,r=yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class J0{constructor(){this.ve=0,this.Fe=Z0(),this.Me=yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie(38017,{changeType:i})}}),new dc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Z0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lr(),this.Je=iu(),this.He=iu(),this.Ye=new Fe(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Zp(i))if(r===0){const o=new ne(i.path);this.et(n,o,St.newNoDocument(o,oe.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Fs(r).toUint8Array()}catch(c){if(c instanceof TI)return Go("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ey(o,s,i)}catch(c){return Go(c instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Zp(a.target)){const c=new ne(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,St.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ge();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new dh(e,n,this.Ye,this.je,r);return this.je=Lr(),this.Je=iu(),this.He=iu(),this.Ye=new Fe(me),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new J0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new st(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new st(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function iu(){return new Fe(ne.comparator)}function Z0(){return new Fe(ne.comparator)}const jM={asc:"ASCENDING",desc:"DESCENDING"},FM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UM={and:"AND",or:"OR"};class zM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nm(t,e){return t.useProto3Json||ih(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $M(t,e){return yd(t,e.toTimestamp())}function sr(t){return xe(!!t,49232),oe.fromTimestamp(function(n){const r=js(n);return new ke(r.seconds,r.nanos)}(t))}function ty(t,e){return rm(t,e).canonicalString()}function rm(t,e){const n=function(s){return new be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rS(t){const e=be.fromString(t);return xe(lS(e),10190,{key:e.toString()}),e}function sm(t,e){return ty(t.databaseId,e.path)}function Sf(t,e){const n=rS(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(iS(n))}function sS(t,e){return ty(t.databaseId,e)}function BM(t){const e=rS(t);return e.length===4?be.emptyPath():iS(e)}function im(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iS(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function e_(t,e,n){return{name:sm(t,e),fields:n.value.mapValue.fields}}function WM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(xe(d===void 0||typeof d=="string",58123),yt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:ZI(u.code);return new Y(d,u.message||"")}(o);n=new tS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sf(t,r.document.name),i=sr(r.document.updateTime),o=r.document.createTime?sr(r.document.createTime):oe.min(),a=new Ut({mapValue:{fields:r.document.fields}}),c=St.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Cu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sf(t,r.document),i=r.readTime?sr(r.readTime):oe.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sf(t,r.document),i=r.removedTargetIds||[];n=new Cu([],i,s,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new DM(s,i),a=r.targetId;n=new eS(a,o)}}return n}function HM(t,e){let n;if(e instanceof uc)n={update:e_(t,e.key,e.value)};else if(e instanceof Jg)n={delete:sm(t,e.key)};else if(e instanceof Ks)n={update:e_(t,e.key,e.data),updateMask:eV(e.fieldMask)};else{if(!(e instanceof RM))return ie(16599,{Vt:e.type});n={verify:sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:$M(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie(27497)}(t,e.precondition)),n}function qM(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?sr(s.updateTime):sr(i);return o.isEqual(oe.min())&&(o=sr(i)),new AM(o,s.transformResults||[])}(n,e))):[]}function GM(t,e){return{documents:[sS(t,e.path)]}}function KM(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sS(t,s);const i=function(u){if(u.length!==0)return aS(Mn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Ji(p.field),direction:XM(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=nm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function QM(t){let e=BM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=oS(f);return p instanceof Mn&&OI(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(S){return new $l(Zi(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,ih(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,m=f.values||[];return new gd(m,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,m=f.values||[];return new gd(m,p)}(n.endAt)),mM(e,s,o,i,a,"F",c,u)}function YM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zi(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zi(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zi(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zi(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Zi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>oS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function XM(t){return jM[t]}function JM(t){return FM[t]}function ZM(t){return UM[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Zi(t){return pt.fromServerFormat(t.fieldPath)}function aS(t){return t instanceof Ke?function(n){if(n.op==="=="){if(z0(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(U0(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(z0(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(U0(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:JM(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(s=>aS(s));return r.length===1?r[0]:{compositeFilter:{op:ZM(n.op),filters:r}}}(t):ie(54877,{filter:t})}function eV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=yt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.yt=e}}function nV(t){const e=QM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.Cn=new sV}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Vs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class sV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new st(be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new st(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cS=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(cS,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xo(0)}static cr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LruGarbageCollector",iV=1048576;function r_([t,e],[n,r]){const s=me(t,n);return s===0?me(e,r):s}class oV{constructor(e){this.Ir=e,this.buffer=new st(r_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();r_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ua(n)?X(n_,"Ignoring IndexedDB error during garbage collection: ",n):await ca(n)}await this.Vr(3e5)})}}class lV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(sh.ce);const r=new oV(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(t_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Yi()<=pe.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function cV(t,e){return new lV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&dl(r.mutation,s,Xt.empty(),ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=di();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ka();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=di();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Lr();const o=ul(),a=function(){return ul()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Ks)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),dl(d.mutation,u,d.mutation.getFieldMask(),ke.now())):o.set(u.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new dV(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ul();let s=new Fe((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Xt.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(s.get(a.batchId)||ge()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=BI();d.forEach(p=>{if(!i.has(p)){const m=XI(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(di());let a=jl,c=i;return o.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ge())).next(d=>({batchId:a,changes:$I(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=Ka();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ka();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,c=>{const u=function(f,p){return new da(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=Ka();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&dl(d.mutation,u,Xt.empty(),ke.now()),lh(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:sr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:nV(s.bundledQuery),readTime:sr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new Fe(ne.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=di();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=di(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Fe((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=di(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=di(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NM(n,r));let i=this.qr.get(n);i===void 0&&(i=ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.Qr=new st(ct.$r),this.Ur=new st(ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new ct(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new be([])),r=new ct(n,e),s=new ct(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new be([])),r=new ct(n,e),s=new ct(n,e+1);let i=ge();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ct(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new st(ct.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new kM(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Hg:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new st(me);return n.forEach(s=>{const i=new ct(s,0),o=new ct(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new ct(new ne(i),0);let a=new st(me);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new ct(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.ri=e,this.docs=function(){return new Fe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=Lr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Lr();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KL(GL(d),r)<=0||(s.has(d.key)||lh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ie(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vV(this)}getSize(e){return $.resolve(this.size)}}class vV extends uV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.persistence=e,this.si=new Fi(n=>Kg(n),Qg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new ny,this.targetCount=0,this.ai=Xo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.ui={},this.overlays={},this.ci=new sh(0),this.li=!1,this.li=!0,this.hi=new mV,this.referenceDelegate=e(this),this.Pi=new wV(this),this.indexManager=new rV,this.remoteDocumentCache=function(s){return new yV(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new tV(n),this.Ii=new fV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new gV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new _V(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class _V extends YL{constructor(e){super(),this.currentSequenceNumber=e}}class ry{constructor(e){this.persistence=e,this.Ri=new ny,this.Vi=null}static mi(e){return new ry(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=ne.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.pi=new Fi(r=>ZL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=cV(this,n)}static mi(e,n){return new vd(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Su(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new sy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yO()?8:XL(At())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new EV;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Yi()<=pe.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Yi()<=pe.DEBUG&&X("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Yi()<=pe.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(n))):$.resolve())}ys(e,n){if(H0(n))return $.resolve(null);let r=rr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=tm(n,null,"F"),r=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,tm(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return H0(n)||s.isEqual(oe.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(Yi()<=pe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xi(n)),this.vs(e,o,n,qL(s,jl)).next(a=>a))})}Ds(e,n){let r=new st(UI(e));return n.forEach((s,i)=>{lh(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Yi()<=pe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.ps.getDocumentsMatchingQuery(e,n,Vs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="LocalStore",TV=3e8;class IV{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Fe(me),this.xs=new Fi(i=>Kg(i),Qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function SV(t,e,n,r){return new IV(t,e,n,r)}async function dS(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function bV(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,p=f.keys();let m=$.resolve();return p.forEach(S=>{m=m.next(()=>d.getEntry(c,S)).next(_=>{const E=u.docVersions.get(S);xe(E!==null,48541),_.version.compareTo(E)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ge();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function hS(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AV(t,e){const n=ae(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(yt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(_,E,w){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=TV?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let c=Lr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(CV(i,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=s,i))}function CV(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Lr();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):X(iy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:s}})}function PV(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RV(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ms(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function om(t,e,n){const r=ae(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ua(o))throw o;X(iy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function s_(t,e,n){const r=ae(t);let s=oe.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=ae(c),p=f.xs.get(d);return p!==void 0?$.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,o,rr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:ge())).next(a=>(kV(r,yM(e),a),{documents:a,Qs:i})))}function kV(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class i_{constructor(){this.activeTargetIds=TM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NV{constructor(){this.Mo=new i_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="ConnectivityMonitor";class a_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(o_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(o_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=null;function am(){return ou===null?ou=function(){return 268435456+Math.round(2147483648*Math.random())}():ou++,"0x"+ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="RestConnection",OV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===pd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=am(),a=this.zo(e,n.toUriEncodedString());X(bf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:u}=new URL(a),d=oa(u);return this.Jo(e,a,c,r,d).then(f=>(X(bf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Go(bf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=OV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class VV extends LV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=am();return new Promise((a,c)=>{const u=new hI;u.setWithCredentials(!0),u.listenOnce(fI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Iu.NO_ERROR:const f=u.getResponseJson();X(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Iu.TIMEOUT:X(Et,`RPC '${e}' ${o} timed out`),c(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:const p=u.getStatus();if(X(Et,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const _=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(S.status);c(new Y(_,S.message))}else c(new Y(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y(z.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(Et,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);X(Et,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=am(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gI(),a=mI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");X(Et,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let p=!1,m=!1;const S=new MV({Yo:E=>{m?X(Et,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(X(Et,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),X(Et,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),_=(E,w,v)=>{E.listen(w,x=>{try{v(x)}catch(D){setTimeout(()=>{throw D},0)}})};return _(f,Ga.EventType.OPEN,()=>{m||(X(Et,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),_(f,Ga.EventType.CLOSE,()=>{m||(m=!0,X(Et,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),_(f,Ga.EventType.ERROR,E=>{m||(m=!0,Go(Et,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ga.EventType.MESSAGE,E=>{var w;if(!m){const v=E.data[0];xe(!!v,16349);const x=v,D=(x==null?void 0:x.error)||((w=x[0])==null?void 0:w.error);if(D){X(Et,`RPC '${e}' stream ${s} received error:`,D);const O=D.status;let M=function(C){const R=qe[C];if(R!==void 0)return ZI(R)}(O),I=D.message;M===void 0&&(M=z.INTERNAL,I="Unknown error status: "+O+" with message "+D.message),m=!0,S.a_(new Y(M,I)),f.close()}else X(Et,`RPC '${e}' stream ${s} received:`,v),S.u_(v)}}),_(a,pI.STAT_EVENT,E=>{E.stat===Kp.PROXY?X(Et,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Kp.NOPROXY&&X(Et,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t){return new zM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="PersistentStream";class pS{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(l_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(l_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jV extends pS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WM(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?sr(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=im(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Zp(c)?{documents:GM(i,c)}:{query:KM(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nS(i,o.resumeToken);const u=nm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=yd(i,o.snapshotVersion.toTimestamp());const u=nm(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=YM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=im(this.serializer),n.removeTarget=e,this.q_(n)}}class FV extends pS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qM(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=im(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{}class zV extends UV{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,rm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,rm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $V{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="RemoteStore";class BV{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{Ui(this)&&(X(ki,"Restarting streams for network reachability change."),await async function(c){const u=ae(c);u.Ea.add(4),await hc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await fh(u)}(this))})}),this.Ra=new $V(r,s)}}async function fh(t){if(Ui(t))for(const e of t.da)await e(!0)}async function hc(t){for(const e of t.da)await e(!1)}function mS(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cy(n)?ly(n):ha(n).O_()&&ay(n,e))}function oy(t,e){const n=ae(t),r=ha(n);n.Ia.delete(e),r.O_()&&gS(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ui(n)&&n.Ra.set("Unknown"))}function ay(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ha(t).Y_(e)}function gS(t,e){t.Va.Ue(e),ha(t).Z_(e)}function ly(t){t.Va=new VM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ha(t).start(),t.Ra.ua()}function cy(t){return Ui(t)&&!ha(t).x_()&&t.Ia.size>0}function Ui(t){return ae(t).Ea.size===0}function yS(t){t.Va=void 0}async function WV(t){t.Ra.set("Online")}async function HV(t){t.Ia.forEach((e,n)=>{ay(t,e)})}async function qV(t,e){yS(t),cy(t)?(t.Ra.ha(e),ly(t)):t.Ra.set("Unknown")}async function GV(t,e,n){if(t.Ra.set("Online"),e instanceof tS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){X(ki,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wd(t,r)}else if(e instanceof Cu?t.Va.Ze(e):e instanceof eS?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await hS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(yt.EMPTY_BYTE_STRING,d.snapshotVersion)),gS(i,c);const f=new ms(d.target,c,u,d.sequenceNumber);ay(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(ki,"Failed to raise snapshot:",r),await wd(t,r)}}async function wd(t,e,n){if(!ua(e))throw e;t.Ea.add(1),await hc(t),t.Ra.set("Offline"),n||(n=()=>hS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(ki,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fh(t)})}function vS(t,e){return e().catch(n=>wd(t,n,e))}async function ph(t){const e=ae(t),n=zs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hg;for(;KV(e);)try{const s=await PV(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,QV(e,s)}catch(s){await wd(e,s)}wS(e)&&_S(e)}function KV(t){return Ui(t)&&t.Ta.length<10}function QV(t,e){t.Ta.push(e);const n=zs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wS(t){return Ui(t)&&!zs(t).x_()&&t.Ta.length>0}function _S(t){zs(t).start()}async function YV(t){zs(t).ra()}async function XV(t){const e=zs(t);for(const n of t.Ta)e.ea(n.mutations)}async function JV(t,e,n){const r=t.Ta.shift(),s=Zg.from(r,e,n);await vS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ph(t)}async function ZV(t,e){e&&zs(t).X_&&await async function(r,s){if(function(o){return OM(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();zs(r).B_(),await vS(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ph(r)}}(t,e),wS(t)&&_S(t)}async function c_(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),X(ki,"RemoteStore received new credentials");const r=Ui(n);n.Ea.add(3),await hc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fh(n)}async function e4(t,e){const n=ae(t);e?(n.Ea.delete(2),await fh(n)):e||(n.Ea.add(2),await hc(n),n.Ra.set("Unknown"))}function ha(t){return t.ma||(t.ma=function(n,r,s){const i=ae(n);return i.sa(),new jV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:WV.bind(null,t),t_:HV.bind(null,t),r_:qV.bind(null,t),H_:GV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),cy(t)?ly(t):t.Ra.set("Unknown")):(await t.ma.stop(),yS(t))})),t.ma}function zs(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new FV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:YV.bind(null,t),r_:ZV.bind(null,t),ta:XV.bind(null,t),na:JV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ph(t)):(await t.fa.stop(),t.Ta.length>0&&(X(ki,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new uy(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(Or("AsyncQueue",`${e}: ${t}`),ua(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Ka(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.ga=new Fe(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Jo{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Jo(e,n,xo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class n4{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=d_(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}}function d_(){return new Fi(t=>FI(t),ah)}async function r4(t,e){const n=ae(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new t4,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=dy(o,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&hy(n)}async function s4(t,e){const n=ae(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function i4(t,e){const n=ae(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&hy(n)}function o4(t,e,n){const r=ae(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function hy(t){t.Ca.forEach(e=>{e.next()})}var lm,h_;(h_=lm||(lm={})).Ma="default",h_.Cache="cache";class a4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Jo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.key=e}}class xS{constructor(e){this.key=e}}class l4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=UI(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new u_,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=lh(this.query,f)?f:null,S=!!p&&this.mutatedKeys.has(p.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?S!==_&&(r.track({type:3,doc:m}),E=!0):this.su(p,m)||(r.track({type:2,doc:m}),E=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(c||u)&&(a=!0)),E&&(m?(o=o.add(m),i=_?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(m,S){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:E})}};return _(m)-_(S)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new Jo(this.query,e.tu,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new xS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new ES(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fy="SyncEngine";class c4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class u4{constructor(e){this.key=e,this.hu=!1}}class d4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fi(a=>FI(a),ah),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(ne.comparator),this.Au=new Map,this.Ru=new ny,this.Vu={},this.mu=new Map,this.fu=Xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function h4(t,e,n=!0){const r=CS(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await TS(r,e,n,!0),s}async function f4(t,e){const n=CS(t);await TS(n,e,!0,!1)}async function TS(t,e,n,r){const s=await RV(t.localStore,rr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await p4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&mS(t.remoteStore,s),a}async function p4(t,e,n,r,s){t.pu=(f,p,m)=>async function(_,E,w,v){let x=E.view.ru(w);x.Cs&&(x=await s_(_.localStore,E.query,!1).then(({documents:I})=>E.view.ru(I,x)));const D=v&&v.targetChanges.get(E.targetId),O=v&&v.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(x,_.isPrimaryClient,D,O);return p_(_,E.targetId,M.au),M.snapshot}(t,f,p,m);const i=await s_(t.localStore,e,!0),o=new l4(e,i.Qs),a=o.ru(i.documents),c=dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);p_(t,n,u.au);const d=new c4(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function m4(t,e,n){const r=ae(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!ah(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await om(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&oy(r.remoteStore,s.targetId),cm(r,s.targetId)}).catch(ca)):(cm(r,s.targetId),await om(r.localStore,s.targetId,!0))}async function g4(t,e){const n=ae(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oy(n.remoteStore,r.targetId))}async function y4(t,e,n){const r=I4(t);try{const s=await function(o,a){const c=ae(o),u=ke.now(),d=a.reduce((m,S)=>m.add(S.key),ge());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=Lr(),_=ge();return c.Ns.getEntries(m,d).next(E=>{S=E,S.forEach((w,v)=>{v.isValidDocument()||(_=_.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,S)).next(E=>{f=E;const w=[];for(const v of a){const x=PM(v,f.get(v.key).overlayedDocument);x!=null&&w.push(new Ks(v.key,x,kI(x.value.mapValue),kn.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,w,a)}).next(E=>{p=E;const w=E.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(m,E.batchId,w)})}).then(()=>({batchId:p.batchId,changes:$I(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Fe(me)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,s.batchId,n),await fc(r,s.changes),await ph(r.remoteStore)}catch(s){const i=dy(s,"Failed to persist write");n.reject(i)}}async function IS(t,e){const n=ae(t);try{const r=await AV(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?xe(o.hu,14607):s.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await fc(n,r,e)}catch(r){await ca(r)}}function f_(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ae(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(u=!0)}),u&&hy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function v4(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Fe(ne.comparator);o=o.insert(i,St.newNoDocument(i,oe.min()));const a=ge().add(i),c=new dh(oe.min(),new Map,new Fe(me),o,a);await IS(r,c),r.du=r.du.remove(i),r.Au.delete(e),py(r)}else await om(r.localStore,e,!1).then(()=>cm(r,e,n)).catch(ca)}async function w4(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await bV(n.localStore,e);bS(n,r,null),SS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fc(n,s)}catch(s){await ca(s)}}async function _4(t,e,n){const r=ae(t);try{const s=await function(o,a){const c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(xe(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);bS(r,e,n),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fc(r,s)}catch(s){await ca(s)}}function SS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function bS(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||AS(t,r)})}function AS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(oy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),py(t))}function p_(t,e,n){for(const r of n)r instanceof ES?(t.Ru.addReference(r.key,e),E4(t,r)):r instanceof xS?(X(fy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||AS(t,r.key)):ie(19791,{wu:r})}function E4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(fy,"New document in limbo: "+n),t.Eu.add(r),py(t))}function py(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(be.fromString(e)),r=t.fu.next();t.Au.set(r,new u4(n)),t.du=t.du.insert(n,r),mS(t.remoteStore,new ms(rr(Yg(n.path)),r,"TargetPurposeLimboResolution",sh.ce))}}async function fc(t,e,n){const r=ae(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=sy.As(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,u){const d=ae(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(u,p=>$.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>$.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!ua(f))throw f;X(iy,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),S=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(p,_)}}}(r.localStore,i))}async function x4(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){X(fy,"User change. New user:",e.toKey());const r=await dS(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new Y(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fc(n,r.Ls)}}function T4(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let s=ge();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function CS(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=v4.bind(null,e),e.Pu.H_=i4.bind(null,e.eventManager),e.Pu.yu=o4.bind(null,e.eventManager),e}function I4(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_4.bind(null,e),e}class _d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SV(this.persistence,new xV,e.initialUser,this.serializer)}Cu(e){return new uS(ry.mi,this.serializer)}Du(e){return new NV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_d.provider={build:()=>new _d};class S4 extends _d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof vd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new uS(r=>vd.mi(r,n),this.serializer)}}class um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>f_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x4.bind(null,this.syncEngine),await e4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new n4}()}createDatastore(e){const n=hh(e.databaseInfo.databaseId),r=function(i){return new VV(i)}(e.databaseInfo);return function(i,o,a,c){return new zV(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new BV(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>f_(this.syncEngine,n,0),function(){return a_.v()?new a_:new DV}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const f=new d4(s,i,o,a,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);X(ki,"RemoteStore shutting down."),i.Ea.add(5),await hc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class A4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tt.UNAUTHENTICATED,this.clientId=Wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{X($s,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X($s,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cf(t,e){t.asyncQueue.verifyOperationInProgress(),X($s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function m_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await C4(t);X($s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>c_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>c_(e.remoteStore,s)),t._onlineComponents=e}async function C4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X($s,"Using user provided OfflineComponentProvider");try{await Cf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await Cf(t,new _d)}}else X($s,"Using default OfflineComponentProvider"),await Cf(t,new S4(void 0));return t._offlineComponents}async function PS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X($s,"Using user provided OnlineComponentProvider"),await m_(t,t._uninitializedComponentsProvider._online)):(X($s,"Using default OnlineComponentProvider"),await m_(t,new um))),t._onlineComponents}function P4(t){return PS(t).then(e=>e.syncEngine)}async function g_(t){const e=await PS(t),n=e.eventManager;return n.onListen=h4.bind(null,e.syncEngine),n.onUnlisten=m4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=g4.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firestore.googleapis.com",v_=!0;class w_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kS,this.ssl=v_}else this.host=e.host,this.ssl=e.ssl??v_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iV)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LL;switch(r.type){case"firstParty":return new FL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=y_.get(n);r&&(X("ComponentProvider","Removing Datastore"),y_.delete(n),r.terminate())}(this),Promise.resolve()}}function R4(t,e,n,r={}){var u;t=Ps(t,mh);const s=oa(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(rI(`https://${a}`),sI("Firestore",!0)),i.host!==kS&&i.host!==a&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Ci(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Tt.MOCK_USER;else{d=lO(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Tt(p)}t._authCredentials=new ML(new vI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zi(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(cc(n,Ye._jsonSchema))return new Ye(e,r||null,new ne(be.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Qe("string",Ye._jsonSchemaVersion),referencePath:Qe("string")};class Rs extends zi{constructor(e,n,r){super(e,n,Yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new ne(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function To(t,e,...n){if(t=it(t),wI("collection","path",e),t instanceof mh){const r=be.fromString(e,...n);return k0(r),new Rs(t,null,r)}{if(!(t instanceof Ye||t instanceof Rs))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return k0(r),new Rs(t.firestore,null,r)}}function hl(t,e,...n){if(t=it(t),arguments.length===1&&(e=Wg.newId()),wI("doc","path",e),t instanceof mh){const r=be.fromString(e,...n);return R0(r),new Ye(t,null,new ne(r))}{if(!(t instanceof Ye||t instanceof Rs))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(be.fromString(e,...n));return R0(r),new Ye(t.firestore,t instanceof Rs?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class E_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fS(this,"async_queue_retry"),this._c=()=>{const r=Af();r&&X(__,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new _i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ua(e))throw e;X(__,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",x_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=uy.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ie(47125,{Pc:x_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function x_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Zo extends mh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new E_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E_(e),this._firestoreClient=void 0,await e}}}function k4(t,e){const n=typeof t=="object"?t:lI(),r=typeof t=="string"?t:pd,s=$g(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=oO("firestore");i&&R4(s,...i)}return s}function NS(t){if(t._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N4(t),t._firestoreClient}function N4(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,u,d){return new nM(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new A4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dn(yt.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dn(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(cc(e,dn._jsonSchema))return dn.fromBase64String(e.bytes)}}dn._jsonSchemaVersion="firestore/bytes/1.0",dn._jsonSchema={type:Qe("string",dn._jsonSchemaVersion),bytes:Qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(cc(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:Qe("string",ir._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(cc(e,or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new or(e.vectorValues);throw new Y(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:Qe("string",or._jsonSchemaVersion),vectorValues:Qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=/^__.*__$/;class O4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new uc(e,this.data,n,this.fieldTransforms)}}class DS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class my{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new my({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(OS(this.Ac)&&D4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class L4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hh(e)}Cc(e,n,r,s=!1){return new my({Ac:e,methodName:n,Dc:r,path:pt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gy(t){const e=t._freezeSettings(),n=hh(t._databaseId);return new L4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M4(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);wy("Data must be an object, but it was:",o,r);const a=LS(r,o);let c,u;if(i.merge)c=new Xt(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=dm(e,f,n);if(!o.contains(p))throw new Y(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);VS(d,p)||d.push(p)}c=new Xt(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new O4(new Ut(a),c,u)}class yh extends pc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}class yy extends pc{_toFieldTransform(e){return new YI(e.path,new Bl)}isEqual(e){return e instanceof yy}}class vy extends pc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ql(e.serializer,HI(e.serializer,this.Fc));return new YI(e.path,n)}isEqual(e){return e instanceof vy&&this.Fc===e.Fc}}function V4(t,e,n,r){const s=t.Cc(1,e,n);wy("Data must be an object, but it was:",s,r);const i=[],o=Ut.empty();Gs(r,(c,u)=>{const d=_y(e,c,n);u=it(u);const f=s.yc(d);if(u instanceof yh)i.push(d);else{const p=mc(u,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new Xt(i);return new DS(o,a,s.fieldTransforms)}function j4(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[dm(e,r,n)],c=[s];if(i.length%2!=0)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(dm(e,i[p])),c.push(i[p+1]);const u=[],d=Ut.empty();for(let p=a.length-1;p>=0;--p)if(!VS(u,a[p])){const m=a[p];let S=c[p];S=it(S);const _=o.yc(m);if(S instanceof yh)u.push(m);else{const E=mc(S,_);E!=null&&(u.push(m),d.set(m,E))}}const f=new Xt(u);return new DS(d,f,o.fieldTransforms)}function F4(t,e,n,r=!1){return mc(n,t.Cc(r?4:3,e))}function mc(t,e){if(MS(t=it(t)))return wy("Unsupported field value:",e,t),LS(t,e);if(t instanceof pc)return function(r,s){if(!OS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=mc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=it(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ke.fromDate(r);return{timestampValue:yd(s.serializer,i)}}if(r instanceof ke){const i=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(s.serializer,i)}}if(r instanceof ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dn)return{bytesValue:nS(s.serializer,r._byteString)};if(r instanceof Ye){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ty(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof or)return function(o,a){return{mapValue:{fields:{[CI]:{stringValue:RI},[md]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Xg(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${rh(r)}`)}(t,e)}function LS(t,e){const n={};return xI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,s)=>{const i=mc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function MS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof ir||t instanceof dn||t instanceof Ye||t instanceof pc||t instanceof or)}function wy(t,e,n){if(!MS(n)||!_I(n)){const r=rh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function dm(t,e,n){if((e=it(e))instanceof gh)return e._internalPath;if(typeof e=="string")return _y(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const U4=new RegExp("[~\\*/\\[\\]]");function _y(t,e,n){if(e.search(U4)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gh(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Y(z.INVALID_ARGUMENT,a+t+c)}function VS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ey("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z4 extends jS{data(){return super.data()}}function Ey(t,e){return typeof e=="string"?_y(t,e):e instanceof gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xy{}class FS extends xy{}function hm(t,e,...n){let r=[];e instanceof xy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Iy).length,a=i.filter(c=>c instanceof Ty).length;if(o>1||o>0&&a>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ty extends FS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ty(e,n,r)}_apply(e){const n=this._parse(e);return US(e._query,n),new zi(e.firestore,e.converter,em(e._query,n))}_parse(e){const n=gy(e.firestore);return function(i,o,a,c,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){S_(f,d);const S=[];for(const _ of f)S.push(I_(c,i,_));p={arrayValue:{values:S}}}else p=I_(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||S_(f,d),p=F4(a,o,f,d==="in"||d==="not-in");return Ke.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Iy extends xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)US(o,c),o=em(o,c)}(e._query,n),new zi(e.firestore,e.converter,em(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sy extends FS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(i,o)}(e._query,this._field,this._direction);return new zi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new da(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function fm(t,e="asc"){const n=e,r=Ey("orderBy",t);return Sy._create(r,n)}function I_(t,e,n){if(typeof(n=it(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jI(e)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(be.fromString(n));if(!ne.isDocumentKey(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return F0(t,new ne(r))}if(n instanceof Ye)return F0(t,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rh(n)}.`)}function S_(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function US(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class B4{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[md].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Be(o.doubleValue));return new or(n)}convertGeoPoint(e){return new ir(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=oh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=js(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=be.fromString(e);xe(lS(r),9688,{name:e});const s=new Ul(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||Or(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ei extends jS{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ey("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ei._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ei._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ei._jsonSchema={type:Qe("string",Ei._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class Pu extends Ei{data(e={}){return super.data(e)}}class Io{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ya(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pu(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Pu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ya(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Pu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ya(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:H4(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:Qe("string",Io._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};class zS extends B4{constructor(e){super(),this.firestore=e}convertBytes(e){return new dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function pm(t,e,n,...r){t=Ps(t,Ye);const s=Ps(t.firestore,Zo),i=gy(s);let o;return o=typeof(e=it(e))=="string"||e instanceof gh?j4(i,"updateDoc",t._key,e,n,r):V4(i,"updateDoc",t._key,e),by(s,[o.toMutation(t._key,kn.exists(!0))])}function q4(t){return by(Ps(t.firestore,Zo),[new Jg(t._key,kn.none())])}function mm(t,e){const n=Ps(t.firestore,Zo),r=hl(t),s=W4(t.converter,e);return by(n,[M4(gy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function gm(t,...e){var c,u,d;t=it(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||T_(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(T_(e[r])){const f=e[r];e[r]=(c=f.next)==null?void 0:c.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,o,a;if(t instanceof Ye)o=Ps(t.firestore,Zo),a=Yg(t._key.path),i={next:f=>{e[r]&&e[r](G4(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Ps(t,zi);o=Ps(f.firestore,Zo),a=f._query;const p=new zS(o);i={next:m=>{e[r]&&e[r](new Io(o,p,f,m))},error:e[r+1],complete:e[r+2]},$4(t._query)}return function(p,m,S,_){const E=new b4(_),w=new a4(m,E,S);return p.asyncQueue.enqueueAndForget(async()=>r4(await g_(p),w)),()=>{E.Nu(),p.asyncQueue.enqueueAndForget(async()=>s4(await g_(p),w))}}(NS(o),a,s,i)}function by(t,e){return function(r,s){const i=new _i;return r.asyncQueue.enqueueAndForget(async()=>y4(await P4(r),s,i)),i.promise}(NS(t),e)}function G4(t,e,n){const r=n.docs.get(e._key),s=new zS(t);return new Ei(t,s,e._key,r,new Ya(n.hasPendingWrites,n.fromCache),e.converter)}function ym(){return new yy("serverTimestamp")}function K4(t){return new vy("increment",t)}(function(e,n=!0){(function(s){la=s})(aa),qo(new Pi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Zo(new VL(r.getProvider("auth-internal")),new UL(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(u.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),As(b0,A0,e),As(b0,A0,"esm2020")})();function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q4=$S,BS=new ac("auth","Firebase",$S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new Ug("@firebase/auth");function Y4(t,...e){xd.logLevel<=pe.WARN&&xd.warn(`Auth (${aa}): ${t}`,...e)}function Ru(t,...e){xd.logLevel<=pe.ERROR&&xd.error(`Auth (${aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw Ay(t,...e)}function ar(t,...e){return Ay(t,...e)}function WS(t,e,n){const r={...Q4(),[e]:n};return new ac("auth","Firebase",r).create(e,{appName:t.name})}function br(t){return WS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BS.create(t,...e)}function se(t,e,...n){if(!t)throw Ay(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ru(e),new Error(e)}function Mr(t,e){t||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function X4(){return b_()==="http:"||b_()==="https:"}function b_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X4()||pO()||"connection"in navigator)?navigator.onLine:!0}function Z4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mr(n>e,"Short delay should be less than long delay!"),this.isMobile=dO()||mO()}get(){return J4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){Mr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nj=new gc(3e4,6e4);function Qs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ys(t,e,n,r,s={}){return qS(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=lc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return fO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&oa(t.emulatorConfig.host)&&(u.credentials="include"),HS.fetch()(await GS(t,t.config.apiHost,n,a),u)})}async function qS(t,e,n){t._canInitEmulator=!1;const r={...ej,...e};try{const s=new sj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw au(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw au(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw au(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw WS(t,d,u);Vn(t,d)}}catch(s){if(s instanceof jr)throw s;Vn(t,"network-request-failed",{message:String(s)})}}async function yc(t,e,n,r,s={}){const i=await Ys(t,e,n,r,s);return"mfaPendingCredential"in i&&Vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function GS(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Cy(t.config,s):`${t.config.apiScheme}://${s}`;return tj.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function rj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ar(this.auth,"network-request-failed")),nj.get())})}}function au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ar(t,e,r);return s.customData._tokenResponse=n,s}function A_(t){return t!==void 0&&t.enterprise!==void 0}class ij{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oj(t,e){return Ys(t,"GET","/v2/recaptchaConfig",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return Ys(t,"POST","/v1/accounts:delete",e)}async function Td(t,e){return Ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(t,e=!1){const n=it(t),r=await n.getIdToken(e),s=Py(r);se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:fl(Pf(s.auth_time)),issuedAtTime:fl(Pf(s.iat)),expirationTime:fl(Pf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pf(t){return Number(t)*1e3}function Py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ru("JWT malformed, contained fewer than 3 sections"),null;try{const s=ZT(n);return s?JSON.parse(s):(Ru("Failed to decode base64 JWT payload"),null)}catch(s){return Ru("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function C_(t){const e=Py(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jr&&cj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Gl(t,Td(e,{idToken:n}));se(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?KS(s.providerUserInfo):[],o=hj(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new wm(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function dj(t){const e=it(t);await Id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function KS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t,e){const n=await qS(t,{},async()=>{const r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await GS(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&oa(t.emulatorConfig.host)&&(c.credentials="include"),HS.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pj(t,e){return Ys(t,"POST","/v2/accounts:revokeToken",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=C_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await fj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new So;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(se(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(se(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Cn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new uj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lj(this,e)}reload(){return dj(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(br(this.auth));const e=await this.getIdToken();return await Gl(this,aj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:S,stsTokenManager:_}=n;se(f&&_,e,"internal-error");const E=So.fromJSON(this.name,_);se(typeof f=="string",e,"internal-error"),Xr(r,e.name),Xr(s,e.name),se(typeof p=="boolean",e,"internal-error"),se(typeof m=="boolean",e,"internal-error"),Xr(i,e.name),Xr(o,e.name),Xr(a,e.name),Xr(c,e.name),Xr(u,e.name),Xr(d,e.name);const w=new Cn({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:d});return S&&Array.isArray(S)&&(w.providerData=S.map(v=>({...v}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new So;s.updateFromServerResponse(n);const i=new Cn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Id(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?KS(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new So;a.updateFromIdToken(r);const c=new Cn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function Ir(t){Mr(t instanceof Function,"Expected a class definition");let e=P_.get(t);return e?(Mr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QS.type="NONE";const R_=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e,n){return`firebase:${t}:${e}:${n}`}class bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ku(this.userKey,s.apiKey,i),this.fullPersistenceKey=ku("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Td(this.auth,{idToken:e}).catch(()=>{});return n?Cn._fromGetAccountInfoResponse(this.auth,n,e):null}return Cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bo(Ir(R_),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ir(R_);const o=ku(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const p=await Td(e,{idToken:d}).catch(()=>{});if(!p)break;f=await Cn._fromGetAccountInfoResponse(e,p,d)}else f=Cn._fromJSON(e,d);u!==i&&(a=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new bo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new bo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tb(e))return"Blackberry";if(nb(e))return"Webos";if(XS(e))return"Safari";if((e.includes("chrome/")||JS(e))&&!e.includes("edge/"))return"Chrome";if(eb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YS(t=At()){return/firefox\//i.test(t)}function XS(t=At()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JS(t=At()){return/crios\//i.test(t)}function ZS(t=At()){return/iemobile/i.test(t)}function eb(t=At()){return/android/i.test(t)}function tb(t=At()){return/blackberry/i.test(t)}function nb(t=At()){return/webos/i.test(t)}function Ry(t=At()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mj(t=At()){var e;return Ry(t)&&!!((e=window.navigator)!=null&&e.standalone)}function gj(){return gO()&&document.documentMode===10}function rb(t=At()){return Ry(t)||eb(t)||nb(t)||tb(t)||/windows phone/i.test(t)||ZS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t,e=[]){let n;switch(t){case"Browser":n=k_(At());break;case"Worker":n=`${k_(At())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e={}){return Ys(t,"GET","/v2/passwordPolicy",Qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=6;class _j{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??wj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new yj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Td(this,{idToken:e}),r=await Cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(un(this.app))return Promise.reject(br(this));const n=e?it(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return un(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vj(this),n=new _j(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await pj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Y4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function $i(t){return it(t)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=IO(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xj(t){vh=t}function ib(t){return vh.loadJS(t)}function Tj(){return vh.recaptchaEnterpriseScript}function Ij(){return vh.gapiScript}function Sj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bj{constructor(){this.enterprise=new Aj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Aj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Cj="recaptcha-enterprise",ob="NO_RECAPTCHA";class Pj{constructor(e){this.type=Cj,this.auth=$i(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{oj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new ij(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;A_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(ob)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bj().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&A_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Tj();c.length!==0&&(c+=a),ib(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function D_(t,e,n,r=!1,s=!1){const i=new Pj(t);let o;if(s)o=ob;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function O_(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await D_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await D_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t,e){const n=$g(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ci(i,e??{}))return s;Vn(s,"already-initialized")}return n.initialize({options:e})}function kj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Nj(t,e,n){const r=$i(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=ab(e),{host:o,port:a}=Dj(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(Ci(u,r.config.emulator)&&Ci(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,oa(o)?(rI(`${i}//${o}${c}`),sI("Auth",!0)):Oj()}function ab(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dj(t){const e=ab(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:L_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:L_(o)}}}function L_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Oj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}async function Lj(t,e){return Ys(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e){return yc(t,"POST","/v1/accounts:signInWithPassword",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){return yc(t,"POST","/v1/accounts:signInWithEmailLink",Qs(t,e))}async function jj(t,e){return yc(t,"POST","/v1/accounts:signInWithEmailLink",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends ky{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,n,"signInWithPassword",Mj);case"emailLink":return Vj(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,r,"signUpPassword",Lj);case"emailLink":return jj(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e){return yc(t,"POST","/v1/accounts:signInWithIdp",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="http://localhost";class Ni extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Ni(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:Fj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zj(t){const e=Ha(qa(t)).link,n=e?Ha(qa(e)).deep_link_id:null,r=Ha(qa(t)).deep_link_id;return(r?Ha(qa(r)).link:null)||r||n||e||t}class Ny{constructor(e){const n=Ha(qa(e)),r=n.apiKey??null,s=n.oobCode??null,i=Uj(n.mode??null);se(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zj(e);try{return new Ny(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,n){return Kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ny.parseLink(n);return se(r,"argument-error"),Kl._fromEmailAndCode(e,r.code,r.tenantId)}}fa.PROVIDER_ID="password";fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends lb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends vc{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ss.credential(n,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends vc{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends vc{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e){return yc(t,"POST","/v1/accounts:signUp",Qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Cn._fromIdTokenResponse(e,r,s),o=M_(r);return new Bs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=M_(r);return new Bs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function M_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V_(t){var s;if(un(t.app))return Promise.reject(br(t));const e=$i(t);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new Bs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await $j(e,{returnSecureToken:!0}),r=await Bs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends jr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Sd(e,n,r,s)}}function cb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Sd._fromErrorAndOperation(t,i,e,r):i})}async function Bj(t,e,n=!1){const r=await Gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wj(t,e,n=!1){const{auth:r}=t;if(un(r.app))return Promise.reject(br(r));const s="reauthenticate";try{const i=await Gl(t,cb(r,s,e,t),n);se(i.idToken,r,"internal-error");const o=Py(i.idToken);se(o,r,"internal-error");const{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),Bs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(t,e,n=!1){if(un(t.app))return Promise.reject(br(t));const r="signIn",s=await cb(t,r,e),i=await Bs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Hj(t,e){return ub($i(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Gj(t,e,n){return un(t.app)?Promise.reject(br(t)):Hj(it(t),fa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qj(t),r})}function Kj(t,e,n,r){return it(t).onIdTokenChanged(e,n,r)}function Qj(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function db(t,e,n,r){return it(t).onAuthStateChanged(e,n,r)}function hb(t){return it(t).signOut()}const bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=1e3,Xj=10;class pb extends fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);gj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Xj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pb.type="LOCAL";const Jj=pb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb extends fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mb.type="SESSION";const gb=mb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await Zj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Dy("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return window}function tF(t){lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function nF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sF(){return yb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebaseLocalStorageDb",iF=1,Ad="firebaseLocalStorage",wb="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _h(t,e){return t.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function oF(){const t=indexedDB.deleteDatabase(vb);return new wc(t).toPromise()}function _m(){const t=indexedDB.open(vb,iF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ad,{keyPath:wb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ad)?e(r):(r.close(),await oF(),e(await _m()))})})}async function j_(t,e,n){const r=_h(t,!0).put({[wb]:e,value:n});return new wc(r).toPromise()}async function aF(t,e){const n=_h(t,!1).get(e),r=await new wc(n).toPromise();return r===void 0?null:r.value}function F_(t,e){const n=_h(t,!0).delete(e);return new wc(n).toPromise()}const lF=800,cF=3;class _b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(sF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await nF(),!this.activeServiceWorker)return;this.sender=new eF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await j_(e,bd,"1"),await F_(e,bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_h(s,!1).getAll();return new wc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_b.type="LOCAL";const uF=_b;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e){return e?Ir(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hF(t){return ub(t.auth,new Oy(t),t.bypassAuthState)}function fF(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Wj(n,new Oy(t),t.bypassAuthState)}async function pF(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),Bj(n,new Oy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hF;case"linkViaPopup":case"linkViaRedirect":return pF;case"reauthViaPopup":case"reauthViaRedirect":return fF;default:Vn(this.auth,"internal-error")}}resolve(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=new gc(2e3,1e4);class fo extends Eb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mF.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="pendingRedirect",Nu=new Map;class yF extends Eb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nu.get(this.auth._key());if(!e){try{const r=await vF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nu.set(this.auth._key(),e)}return this.bypassAuthState||Nu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vF(t,e){const n=EF(e),r=_F(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function wF(t,e){Nu.set(t._key(),e)}function _F(t){return Ir(t._redirectPersistence)}function EF(t){return ku(gF,t.config.apiKey,t.name)}async function xF(t,e,n=!1){if(un(t.app))return Promise.reject(br(t));const r=$i(t),s=dF(r,e),o=await new yF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=10*60*1e3;class IF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xb(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ar(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TF&&this.cachedEventUids.clear(),this.cachedEventUids.has(U_(e))}saveEventToCache(e){this.cachedEventUids.add(U_(e)),this.lastProcessedEventTime=Date.now()}}function U_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bF(t,e={}){return Ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CF=/^https?/;async function PF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bF(t);for(const n of e)try{if(RF(n))return}catch{}Vn(t,"unauthorized-domain")}function RF(t){const e=vm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CF.test(n))return!1;if(AF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=new gc(3e4,6e4);function z_(){const t=lr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NF(t){return new Promise((e,n)=>{var s,i,o;function r(){z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z_(),n(ar(t,"network-request-failed"))},timeout:kF.get()})}if((i=(s=lr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=lr().gapi)!=null&&o.load)r();else{const a=Sj("iframefcb");return lr()[a]=()=>{gapi.load?r():n(ar(t,"network-request-failed"))},ib(`${Ij()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Du=null,e})}let Du=null;function DF(t){return Du=Du||NF(t),Du}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF=new gc(5e3,15e3),LF="__/auth/iframe",MF="emulator/auth/iframe",VF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FF(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cy(e,MF):`https://${t.config.authDomain}/${LF}`,r={apiKey:e.apiKey,appName:t.name,v:aa},s=jF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${lc(r).slice(1)}`}async function UF(t){const e=await DF(t),n=lr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:FF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ar(t,"network-request-failed"),a=lr().setTimeout(()=>{i(o)},OF.get());function c(){lr().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$F=500,BF=600,WF="_blank",HF="http://localhost";class $_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qF(t,e,n,r=$F,s=BF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...zF,width:r.toString(),height:s.toString(),top:i,left:o},u=At().toLowerCase();n&&(a=JS(u)?WF:n),YS(u)&&(e=e||HF,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,S])=>`${p}${m}=${S},`,"");if(mj(u)&&a!=="_self")return GF(e||"",a),new $_(null);const f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new $_(f)}function GF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="__/auth/handler",QF="emulator/auth/handler",YF=encodeURIComponent("fac");async function B_(t,e,n,r,s,i){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:aa,eventId:s};if(e instanceof lb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",TO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof vc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${YF}=${encodeURIComponent(c)}`:"";return`${XF(t)}?${lc(a).slice(1)}${u}`}function XF({config:t}){return t.emulator?Cy(t,QF):`https://${t.authDomain}/${KF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class JF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gb,this._completeRedirectFn=xF,this._overrideRedirectResult=wF}async _openPopup(e,n,r,s){var o;Mr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await B_(e,n,r,vm(),s);return qF(e,i,Dy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await B_(e,n,r,vm(),s);return tF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Mr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UF(e),r=new IF(e);return n.register("authEvent",s=>(se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rf,{type:Rf},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Rf];i!==void 0&&n(!!i),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rb()||XS()||Ry()}}const ZF=JF;var W_="@firebase/auth",H_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n3(t){qo(new Pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(t)},u=new Ej(r,s,i,c);return kj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new Pi("auth-internal",e=>{const n=$i(e.getProvider("auth").getImmediate());return(r=>new e3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(W_,H_,t3(t)),As(W_,H_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=5*60,s3=nI("authIdTokenMaxAge")||r3;let q_=null;const i3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>s3)return;const s=n==null?void 0:n.token;q_!==s&&(q_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function o3(t=lI()){const e=$g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Rj(t,{popupRedirectResolver:ZF,persistence:[uF,Jj,gb]}),r=nI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=i3(i.toString());Qj(n,o,()=>o(n.currentUser)),Kj(n,a=>o(a))}}const s=eI("auth");return s&&Nj(n,`http://${s}`),n}function a3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ar("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",a3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n3("Browser");var l3="firebase",c3="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(l3,c3,"app");const Em={apiKey:"AIzaSyAA76KwXiz1415R0Ogr-BiqhOV29Rwpolc",authDomain:"ai-art-prompt-bc87f.firebaseapp.com",projectId:"ai-art-prompt-bc87f",storageBucket:"ai-art-prompt-bc87f.firebasestorage.app",messagingSenderId:"778571230462",appId:"1:778571230462:web:72438c4a008b7c4bbbc9af"},xm={cloudName:"dop0p5gir",uploadPreset:"prompt_art"},Ua=Em.apiKey!==""&&xm.cloudName!=="";let kf,an,An;Em.apiKey!==""&&(kf=aI(Em),an=k4(kf),An=o3(kf));const Tb=async t=>{const e=new FormData;e.append("file",t),e.append("upload_preset",xm.uploadPreset);const n=await fetch(`https://api.cloudinary.com/v1_1/${xm.cloudName}/image/upload`,{method:"POST",body:e});if(!n.ok)throw new Error("Cloudinary upload failed");return(await n.json()).secure_url},Tm=({message:t,type:e="success"})=>g.jsxs("div",{className:`fixed bottom-4 right-4 px-6 py-3 rounded-lg shadow-lg flex items-center gap-2 text-white transform transition-all duration-300 z-50 ${e==="success"?"bg-emerald-600":"bg-destructive"}`,children:[e==="success"?g.jsx(Tg,{size:18}):g.jsx(Gd,{size:18}),g.jsx("span",{className:"font-medium",children:t})]}),Ly=({isOpen:t,onClose:e,title:n,children:r})=>t?g.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-card border border-border rounded-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl",children:[g.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-border sticky top-0 bg-card z-10",children:[g.jsx("h2",{className:"text-xl font-bold text-foreground",children:n}),g.jsx("button",{onClick:e,className:"text-muted-foreground hover:text-foreground transition-colors",children:g.jsx(Gd,{size:24})})]}),g.jsx("div",{className:"p-6",children:r})]})}):null,Ib=({isOpen:t,onClose:e,onUpload:n,isConfigured:r})=>{const[s,i]=P.useState({image:null,prompt:"",description:"",model:"Gemini 2.5 Flash Image (Nano Banana)",uploaderName:"",uploaderEmail:""}),[o,a]=P.useState(!1),c=async u=>{if(u.preventDefault(),!(!s.image||!s.prompt||!s.uploaderName||!s.uploaderEmail)){a(!0);try{await n(s),e(),i({image:null,prompt:"",description:"",model:"Gemini 2.5 Flash Image (Nano Banana)",uploaderName:"",uploaderEmail:""})}catch(d){console.error(d)}finally{a(!1)}}};return g.jsxs(Ly,{isOpen:t,onClose:e,title:"Upload New Artwork",children:[!r&&g.jsxs("div",{className:"mb-4 p-3 bg-amber-500/10 border border-amber-500/50 rounded text-amber-200 text-sm",children:[g.jsx("strong",{children:"Warning:"})," Missing keys. Please set Firebase AND Cloudinary config."]}),g.jsxs("form",{onSubmit:c,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Image File"}),g.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-8 text-center hover:border-primary/50 transition-colors bg-background",children:s.image?g.jsxs("div",{className:"text-primary flex items-center justify-center gap-2",children:[g.jsx(Tg,{size:18})," ",s.image.name]}):g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"file",accept:"image/*",onChange:u=>{var d;return i({...s,image:((d=u.target.files)==null?void 0:d[0])||null})},className:"hidden",id:"file-upload"}),g.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2 text-muted-foreground hover:text-foreground",children:[g.jsx(Ig,{size:24}),g.jsx("span",{children:"Click to select image"})]})]})})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Your Name"}),g.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.uploaderName,onChange:u=>i({...s,uploaderName:u.target.value}),placeholder:"John Doe"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Your Email"}),g.jsx("input",{type:"email",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.uploaderEmail,onChange:u=>i({...s,uploaderEmail:u.target.value}),placeholder:"john@example.com"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Title / Description"}),g.jsx("input",{type:"text",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.description,onChange:u=>i({...s,description:u.target.value}),placeholder:"e.g. Cyberpunk Cityscape"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"AI Model Used"}),g.jsxs("select",{className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:s.model,onChange:u=>i({...s,model:u.target.value}),children:[g.jsx("option",{children:"Midjourney v6"}),g.jsx("option",{children:"Gemini 2.5 Flash Image (Nano Banana)"}),g.jsx("option",{children:"DALL-E 3"}),g.jsx("option",{children:"Stable Diffusion XL"}),g.jsx("option",{children:"Leonardo AI"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Prompt"}),g.jsx("textarea",{required:!0,rows:4,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none font-mono text-sm text-foreground",value:s.prompt,onChange:u=>i({...s,prompt:u.target.value}),placeholder:"Enter the exact prompt used..."})]}),g.jsxs("button",{type:"submit",disabled:o,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-medium transition-colors flex justify-center items-center gap-2",children:[o?g.jsx(Bo,{className:"animate-spin"}):g.jsx(_R,{size:18}),o?"Uploading to Cloudinary...":"Publish Artwork"]})]})]})},u3=({artwork:t,onCopy:e,onLike:n,onClick:r})=>{var s;return g.jsxs("div",{className:"group relative bg-card rounded-xl overflow-hidden border border-border hover:border-primary/50 transition-all duration-300 hover:shadow-2xl hover:shadow-primary/10 flex flex-col",children:[g.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden cursor-pointer",onClick:r,children:[g.jsx("img",{src:t.imageUrl,alt:t.description,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-4 group-hover:translate-y-0 transition-transform duration-300 opacity-0 group-hover:opacity-100",children:g.jsxs("div",{className:"flex justify-between items-end",children:[g.jsx("span",{className:"bg-primary/90 text-primary-foreground text-xs px-2 py-1 rounded backdrop-blur-sm",children:t.model}),g.jsxs("button",{onClick:i=>{i.stopPropagation(),n(t.id)},className:"flex items-center gap-1 text-foreground hover:text-primary transition-colors",children:[g.jsx(Pp,{size:18,className:t.likes>0?"fill-primary text-primary":""}),g.jsx("span",{className:"text-sm font-medium",children:t.likes})]})]})})]}),g.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[g.jsx("h3",{className:"font-semibold text-foreground truncate mb-1",title:t.description,children:t.description||"Untitled Artwork"}),g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[g.jsx(vR,{size:12}),(s=t.createdAt)!=null&&s.seconds?new Date(t.createdAt.seconds*1e3).toLocaleDateString():"Just now"]}),t.uploaderName&&g.jsxs("p",{className:"text-xs text-primary font-medium",children:["by ",t.uploaderName]})]}),g.jsxs("div",{className:"mt-auto bg-background rounded-lg p-3 border border-border group-hover:border-primary/30 transition-colors",children:[g.jsxs("p",{className:"text-muted-foreground text-xs line-clamp-3 font-mono mb-3 select-none",children:[t.prompt.split(" ").slice(0,2).join(" "),"..."]}),g.jsxs("button",{onClick:()=>e(t.prompt),className:"w-full flex items-center justify-center gap-2 bg-secondary hover:bg-primary hover:text-primary-foreground text-secondary-foreground text-xs py-2 rounded-md transition-all font-medium",children:[g.jsx(ER,{size:14}),"Copy Prompt"]})]})]})]})},d3=["gmail.com","icloud.com"],h3=({isOpen:t,onClose:e,onSubmit:n})=>{const[r,s]=P.useState(""),[i,o]=P.useState(""),[a,c]=P.useState(!1),u=f=>{var S;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f))return o("Please enter a valid email address"),!1;const m=(S=f.split("@")[1])==null?void 0:S.toLowerCase();return d3.includes(m)?!0:(o("Only @gmail.com and @icloud.com emails are allowed"),!1)},d=async f=>{if(f.preventDefault(),o(""),!!u(r)){c(!0);try{await n(r.toLowerCase().trim()),s(""),e()}catch(p){o(p.message||"Failed to submit email")}finally{c(!1)}}};return g.jsxs(Ly,{isOpen:t,onClose:e,title:"Access Prompt",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(xu,{className:"text-primary",size:24})}),g.jsx("p",{className:"text-muted-foreground",children:"To copy prompts, please provide your email address. This is a one-time requirement for this session."})]}),g.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i&&g.jsx("div",{className:"p-3 bg-destructive/20 border border-destructive/50 text-destructive text-sm rounded-lg",children:i}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email Address"}),g.jsx("input",{type:"email",required:!0,value:r,onChange:f=>s(f.target.value),placeholder:"your.email@gmail.com",className:"w-full bg-background border border-border rounded-lg px-4 py-3 focus:ring-2 focus:ring-ring outline-none text-foreground",disabled:a}),g.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Only @gmail.com and @icloud.com addresses are accepted"})]}),g.jsx("button",{type:"submit",disabled:a,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:a?g.jsxs(g.Fragment,{children:[g.jsx(Bo,{className:"animate-spin",size:18}),"Submitting..."]}):"Continue"})]})]})},My=({searchTerm:t,setSearchTerm:e,isAdmin:n,handleLogout:r,showSearch:s=!0,showAdminControls:i=!0})=>g.jsx("nav",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-md border-b border-border",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsxs($p,{to:"/",className:"flex items-center gap-2 text-primary hover:opacity-90 transition-opacity",children:[g.jsx(bR,{size:28}),g.jsxs("span",{className:"text-xl font-bold text-foreground tracking-tight",children:["Prompt",g.jsx("span",{className:"text-primary",children:"Gallery"})]})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[s&&e&&g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(SR,{size:16,className:"text-muted-foreground"})}),g.jsx("input",{type:"text",placeholder:"Search prompts...",value:t,onChange:o=>e(o.target.value),className:"bg-card border border-border text-sm rounded-full pl-10 pr-4 py-2 w-64 focus:outline-none focus:ring-2 focus:ring-ring transition-all text-foreground"})]}),i&&n&&r&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>window.location.href="/admin",className:"text-xs font-medium px-3 py-1 rounded-full bg-primary/20 border border-primary text-primary hover:bg-primary/30 transition-colors",children:"Admin Panel"}),g.jsx("button",{onClick:r,className:"text-xs font-medium px-3 py-1 rounded-full border bg-primary/20 border-primary text-primary transition-colors",children:"Log Out"})]})]})]})})}),f3=[{id:"1",imageUrl:"https://images.unsplash.com/photo-1675271591211-6029fe4066d1?q=80&w=800&auto=format&fit=crop",prompt:"Cyberpunk city street at night, neon lights reflecting on wet pavement",model:"Midjourney v6",description:"Neo-Tokyo night drive",likes:124,createdAt:{seconds:1709251200}},{id:"2",imageUrl:"https://images.unsplash.com/photo-1655720828018-edd2daec9349?q=80&w=800&auto=format&fit=crop",prompt:"A cute robot gardener watering plants in a greenhouse",model:"DALL-E 3",description:"Eco-bot 3000",likes:89,createdAt:{seconds:1709164800}}],p3=()=>{const[t,e]=P.useState([]),[n,r]=P.useState(!0),[s,i]=P.useState(null),[o,a]=P.useState(!1),[c,u]=P.useState(null),[d,f]=P.useState(""),[p,m]=P.useState("All"),[S,_]=P.useState("newest"),[E,w]=P.useState(!1),[v,x]=P.useState(null),[D,O]=P.useState(()=>sessionStorage.getItem("promptAccessGranted")==="true"),M=!!(c&&!c.isAnonymous);P.useEffect(()=>{const W=V=>{if(V.key==="F12"||V.ctrlKey&&V.shiftKey&&(V.key==="I"||V.key==="J"||V.key==="C")||V.ctrlKey&&V.key==="U")return V.preventDefault(),!1},B=V=>(V.preventDefault(),!1);document.addEventListener("keydown",W),document.addEventListener("contextmenu",B);const J=setInterval(()=>{(window.outerWidth-window.innerWidth>160||window.outerHeight-window.innerHeight>160)&&(document.body.innerHTML="")},1e3);return()=>{document.removeEventListener("keydown",W),document.removeEventListener("contextmenu",B),clearInterval(J)}},[]),P.useEffect(()=>{if(!Ua){e(f3),r(!1);return}(async()=>{try{An.currentUser||await V_(An)}catch(F){console.error("Auth error:",F),(F.code==="auth/configuration-not-found"||F.code==="auth/operation-not-allowed")&&i({message:"SETUP REQUIRED: Enable 'Anonymous' Sign-in in Firebase Console",type:"error"})}})();const B=db(An,F=>{u(F)}),J=hm(To(an,"artworks"),fm("createdAt","desc")),V=gm(J,F=>{const Q=F.docs.map(te=>({id:te.id,...te.data()}));e(Q),r(!1)},F=>{console.error("Data fetch error:",F),i({message:"Error connecting to database",type:"error"}),r(!1)});return()=>{B(),V()}},[]);const I=(W,B="success")=>{i({message:W,type:B}),setTimeout(()=>i(null),3e3)},T=async()=>{An&&(await hb(An),await V_(An),I("Logged out"))},C=W=>{if(!D){x(W),w(!0);return}if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(W).then(()=>{I("Prompt copied!")}).catch(()=>{I("Failed to copy","error")});else{const B=document.createElement("textarea");B.value=W,document.body.appendChild(B),B.select();try{document.execCommand("copy"),I("Prompt copied!")}catch{I("Failed to copy","error")}document.body.removeChild(B)}},R=async W=>{if(!Ua){I("Firebase not configured","error");return}try{await mm(To(an,"prompt_access_emails"),{email:W,submittedAt:ym(),userAgent:navigator.userAgent}),sessionStorage.setItem("promptAccessGranted","true"),O(!0),v&&(C(v),x(null)),I("Email submitted successfully!")}catch(B){throw console.error("Email submission error:",B),new Error("Failed to submit email. Please try again.")}},A=async W=>{if(!(!Ua||!c))try{const B=hl(an,"artworks",W);await pm(B,{likes:K4(1)})}catch(B){console.error("Error liking:",B)}},N=async W=>{if(!W.image||!W.prompt){I("Image and Prompt are required","error");return}if(!Ua){I("Configure API keys first","error");return}try{const B=await Tb(W.image);await mm(To(an,"artworks"),{imageUrl:B,prompt:W.prompt,description:W.description,model:W.model,likes:0,createdAt:ym(),uploaderId:c?c.uid:"anon",uploaderName:W.uploaderName,uploaderEmail:W.uploaderEmail,status:"pending"}),I("Artwork submitted for approval!")}catch(B){throw console.error(B),I("Upload failed: "+B.message,"error"),B}},k=P.useMemo(()=>{let W=[...t];if(W=W.filter(B=>!B.status||B.status==="approved"),d){const B=d.toLowerCase();W=W.filter(J=>J.prompt.toLowerCase().includes(B)||J.description.toLowerCase().includes(B)||J.model.toLowerCase().includes(B))}return p!=="All"&&(W=W.filter(B=>B.model===p)),S==="oldest"?W.sort((B,J)=>{var V,F;return((V=B.createdAt)==null?void 0:V.seconds)-((F=J.createdAt)==null?void 0:F.seconds)}):S==="likes"?W.sort((B,J)=>J.likes-B.likes):W.sort((B,J)=>{var V,F;return((V=J.createdAt)==null?void 0:V.seconds)-((F=B.createdAt)==null?void 0:F.seconds)}),W},[t,d,p,S]),H=["All",...new Set(t.map(W=>W.model))];return g.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[g.jsx(Ib,{isOpen:o,onClose:()=>a(!1),onUpload:N,isConfigured:Ua}),g.jsx(h3,{isOpen:E,onClose:()=>{w(!1),x(null)},onSubmit:R}),s&&g.jsx(Tm,{message:s.message,type:s.type}),g.jsx(My,{searchTerm:d,setSearchTerm:f,isAdmin:M,handleLogout:T}),g.jsx("div",{className:"relative bg-gradient-to-b from-card to-background border-b border-border",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8 text-center",children:[g.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-6",children:["Discover the Art of"," ",g.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary to-accent",children:"Prompt Engineering"})]}),g.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto mb-8",children:"A curated collection of AI-generated imagery and the exact prompts used to create them. Explore, learn, and create."}),g.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-6 py-3 rounded-full font-medium transition-all shadow-lg",children:[g.jsx(Ig,{size:18}),"Upload Your Artwork"]})]})}),g.jsx("div",{className:"border-b border-border bg-background",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 sm:px-6 lg:px-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto w-full sm:w-auto pb-2 sm:pb-0 no-scrollbar",children:[g.jsx(IR,{size:16,className:"text-muted-foreground mr-2 flex-shrink-0"}),H.map(W=>g.jsx("button",{onClick:()=>m(W),className:`px - 4 py - 1.5 rounded - full text - sm whitespace - nowrap transition - colors ${p===W?"bg-primary text-primary-foreground font-medium":"bg-card text-muted-foreground hover:text-foreground hover:bg-muted"} `,children:W},W))]}),g.jsxs("select",{value:S,onChange:W=>_(W.target.value),className:"bg-card border-none text-foreground text-sm rounded-lg focus:ring-2 focus:ring-ring block w-full sm:w-auto p-2.5 cursor-pointer",children:[g.jsx("option",{value:"newest",children:"Newest First"}),g.jsx("option",{value:"oldest",children:"Oldest First"}),g.jsx("option",{value:"likes",children:"Most Liked"})]})]})}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:n?g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-muted-foreground",children:[g.jsx(Bo,{className:"animate-spin mb-4",size:40}),g.jsx("p",{children:"Loading library..."})]}):k.length===0?g.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[g.jsx(Rp,{size:48,className:"mx-auto mb-4 opacity-50"}),g.jsx("p",{className:"text-xl font-medium",children:"No artworks found"}),g.jsx("p",{children:"Try adjusting your search or filters"})]}):g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.map(W=>g.jsx(u3,{artwork:W,onCopy:C,onLike:A,onClick:()=>{}},W.id))})})]})},G_=({isOpen:t,onClose:e,onLogin:n})=>{const[r,s]=P.useState(""),[i,o]=P.useState(""),[a,c]=P.useState(""),[u,d]=P.useState(!1),f=async p=>{p.preventDefault(),c(""),d(!0);try{await n(r,i),e()}catch{c("Invalid email or password")}finally{d(!1)}};return g.jsx(Ly,{isOpen:t,onClose:e,title:"Admin Login",children:g.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a&&g.jsx("div",{className:"p-3 bg-destructive/20 border border-destructive/50 text-destructive-foreground text-sm rounded",children:a}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Email"}),g.jsx("input",{type:"email",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:r,onChange:p=>s(p.target.value)})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Password"}),g.jsx("input",{type:"password",required:!0,className:"w-full bg-background border border-border rounded-lg px-3 py-2 focus:ring-2 focus:ring-ring outline-none text-foreground",value:i,onChange:p=>o(p.target.value)})]}),g.jsx("button",{type:"submit",disabled:u,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground py-2 rounded-lg font-medium transition-colors",children:u?g.jsx(Bo,{className:"animate-spin mx-auto",size:20}):"Login"})]})})},m3=()=>{const t=GT(),[e,n]=P.useState(null),[r,s]=P.useState([]),[i,o]=P.useState(!0),[a,c]=P.useState(null),[u,d]=P.useState(!1),[f,p]=P.useState(!1),[m,S]=P.useState([]),[_,E]=P.useState(!0),[w,v]=P.useState({totalArtworks:0,totalLikes:0,totalViews:0,recentUploads:0}),x=!!(e&&!e.isAnonymous);P.useEffect(()=>{const A=db(An,B=>{n(B),(!B||B.isAnonymous)&&(d(!0),o(!1))});if(!an){o(!1);return}const N=hm(To(an,"artworks"),fm("createdAt","desc")),k=gm(N,B=>{const J=B.docs.map(te=>({id:te.id,...te.data()}));s(J);const V=J.reduce((te,ee)=>te+(ee.likes||0),0),F=Date.now()/1e3,Q=J.filter(te=>{var ee;return((ee=te.createdAt)==null?void 0:ee.seconds)>F-7*24*60*60}).length;v({totalArtworks:J.length,totalLikes:V,totalViews:J.length*15,recentUploads:Q}),o(!1)},B=>{console.error("Data fetch error:",B),o(!1)}),H=hm(To(an,"prompt_access_emails"),fm("submittedAt","desc")),W=gm(H,B=>{const J=B.docs.map(V=>({id:V.id,...V.data()}));S(J),E(!1)},B=>{console.error("Email fetch error:",B),E(!1)});return()=>{A(),k(),W()}},[t]);const D=(A,N="success")=>{c({message:A,type:N}),setTimeout(()=>c(null),3e3)},O=async(A,N)=>{An&&(await hb(An),await Gj(An,A,N),D("Welcome back, Admin!"),d(!1))},M=async A=>{if(window.confirm("Are you sure you want to delete this artwork?"))try{await q4(hl(an,"artworks",A)),D("Artwork deleted successfully")}catch(N){console.error("Error deleting:",N),D("Failed to delete artwork","error")}},I=async A=>{try{await pm(hl(an,"artworks",A),{status:"approved"}),D("Artwork approved!")}catch(N){console.error("Error approving:",N),D("Failed to approve artwork","error")}},T=async A=>{if(window.confirm("Are you sure you want to reject this artwork?"))try{await pm(hl(an,"artworks",A),{status:"rejected"}),D("Artwork rejected")}catch(N){console.error("Error rejecting:",N),D("Failed to reject artwork","error")}},C=async A=>{if(!A.image||!A.prompt){D("Image and Prompt are required","error");return}try{const N=await Tb(A.image);await mm(To(an,"artworks"),{imageUrl:N,prompt:A.prompt,description:A.description,model:A.model,likes:0,createdAt:ym(),uploaderId:e?e.uid:"anon"}),D("Artwork published!"),p(!1)}catch(N){throw console.error(N),D("Upload failed: "+N.message,"error"),N}},R=()=>{if(m.length===0){D("No emails to export","error");return}const A=[["Email","Submitted At","User Agent"].join(","),...m.map(W=>{var B;return[W.email,(B=W.submittedAt)!=null&&B.seconds?new Date(W.submittedAt.seconds*1e3).toISOString():"Recent",`"${(W.userAgent||"N/A").replace(/"/g,'""')}"`].join(",")})].join(`
`),N=new Blob([A],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),H=URL.createObjectURL(N);k.setAttribute("href",H),k.setAttribute("download",`email_submissions_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k),D("Emails exported successfully!")};return!x&&!i?g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(G_,{isOpen:u,onClose:()=>t("/"),onLogin:O}),a&&g.jsx(Tm,{message:a.message,type:a.type}),g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:"Admin Access Required"}),g.jsx("p",{className:"text-muted-foreground mb-6",children:"Please log in to access the admin dashboard."}),g.jsx("button",{onClick:()=>t("/"),className:"bg-muted hover:bg-muted/80 text-foreground px-6 py-2 rounded-lg",children:"Back to Home"})]})})]}):i?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:g.jsx(Bo,{className:"animate-spin text-primary",size:40})}):g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(G_,{isOpen:u,onClose:()=>t("/"),onLogin:O}),a&&g.jsx(Tm,{message:a.message,type:a.type}),g.jsx(Ib,{isOpen:f,onClose:()=>p(!1),onUpload:C,isConfigured:!0}),g.jsx("div",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-10",children:g.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("button",{onClick:()=>t("/"),className:"text-muted-foreground hover:text-foreground transition-colors",children:g.jsx(yR,{size:24})}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Admin Dashboard"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your prompt gallery"})]})]}),g.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 text-primary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:[g.jsx(Ig,{size:18}),"Upload New"]})]})})}),g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[g.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:g.jsx(Rp,{className:"text-primary",size:24})}),g.jsx(Va,{className:"text-emerald-400",size:20})]}),g.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:w.totalArtworks}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Artworks"})]}),g.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:g.jsx(Pp,{className:"text-primary",size:24})}),g.jsx(Va,{className:"text-emerald-400",size:20})]}),g.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:w.totalLikes}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Likes"})]}),g.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:g.jsx(TR,{className:"text-primary",size:24})}),g.jsx(Va,{className:"text-emerald-400",size:20})]}),g.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:w.totalViews}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Views"})]}),g.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:g.jsx(wR,{className:"text-primary",size:24})}),g.jsx(Va,{className:"text-emerald-400",size:20})]}),g.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:w.recentUploads}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"This Week"})]}),g.jsxs("div",{className:"bg-card border border-border rounded-xl p-6 hover:border-primary/50 transition-colors",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:g.jsx(xu,{className:"text-primary",size:24})}),g.jsx(Va,{className:"text-emerald-400",size:20})]}),g.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:m.length}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Email Submissions"})]})]}),g.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden mb-8",children:[g.jsxs("div",{className:"p-6 border-b border-border flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsxs("h2",{className:"text-xl font-bold text-foreground flex items-center gap-2",children:[g.jsx(xu,{size:20,className:"text-primary"}),"Email Submissions"]}),g.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Users who submitted emails to access prompts"})]}),g.jsxs("button",{onClick:R,disabled:m.length===0,className:"inline-flex items-center gap-2 bg-primary hover:bg-primary/90 disabled:bg-muted disabled:text-muted-foreground disabled:cursor-not-allowed text-primary-foreground px-4 py-2 rounded-lg font-medium transition-colors",children:[g.jsx(xR,{size:18}),"Export CSV"]})]}),g.jsx("div",{className:"overflow-x-auto",children:_?g.jsx("div",{className:"flex justify-center py-12",children:g.jsx(Bo,{className:"animate-spin text-primary",size:32})}):m.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(xu,{size:48,className:"mx-auto mb-4 text-muted-foreground opacity-50"}),g.jsx("p",{className:"text-muted-foreground",children:"No email submissions yet"})]}):g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{className:"bg-muted/50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Email"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Submitted At"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"User Agent"})]})}),g.jsx("tbody",{className:"divide-y divide-border",children:m.map(A=>{var N;return g.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:"font-medium text-foreground",children:A.email})}),g.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:(N=A.submittedAt)!=null&&N.seconds?new Date(A.submittedAt.seconds*1e3).toLocaleString():"Recent"}),g.jsx("td",{className:"px-6 py-4 text-xs text-muted-foreground max-w-xs truncate",children:A.userAgent||"N/A"})]},A.id)})})]})})]}),g.jsxs("div",{className:"bg-card border border-border rounded-xl overflow-hidden",children:[g.jsxs("div",{className:"p-6 border-b border-border",children:[g.jsx("h2",{className:"text-xl font-bold text-foreground",children:"All Artworks"}),g.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage and moderate your gallery content"})]}),g.jsxs("div",{className:"overflow-x-auto",children:[g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{className:"bg-muted/50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Artwork"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Uploader"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Status"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Likes"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Date"}),g.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"divide-y divide-border",children:r.map(A=>{var N;return g.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:A.imageUrl,alt:A.description,className:"w-16 h-16 rounded-lg object-cover border border-border"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium text-foreground",children:A.description}),g.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 max-w-md",children:A.prompt}),g.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-muted text-muted-foreground mt-1",children:A.model})]})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"text-sm",children:[g.jsx("p",{className:"font-medium text-foreground",children:A.uploaderName||"Anonymous"}),g.jsx("p",{className:"text-xs text-muted-foreground",children:A.uploaderEmail||"No email"})]})}),g.jsx("td",{className:"px-6 py-4",children:g.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.status==="approved"?"bg-green-500/10 text-green-500":A.status==="rejected"?"bg-red-500/10 text-red-500":"bg-yellow-500/10 text-yellow-500"}`,children:A.status||"approved"})}),g.jsx("td",{className:"px-6 py-4",children:g.jsxs("div",{className:"flex items-center gap-1 text-foreground",children:[g.jsx(Pp,{size:14,className:A.likes>0?"fill-primary text-primary":""}),g.jsx("span",{className:"text-sm font-medium",children:A.likes||0})]})}),g.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:(N=A.createdAt)!=null&&N.seconds?new Date(A.createdAt.seconds*1e3).toLocaleDateString():"Just now"}),g.jsx("td",{className:"px-6 py-4 text-right",children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(!A.status||A.status==="pending")&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>I(A.id),className:"p-1 text-green-500 hover:bg-green-500/10 rounded transition-colors",title:"Approve",children:g.jsx(Tg,{size:18})}),g.jsx("button",{onClick:()=>T(A.id),className:"p-1 text-red-500 hover:bg-red-500/10 rounded transition-colors",title:"Reject",children:g.jsx(Gd,{size:18})})]}),g.jsx("button",{onClick:()=>M(A.id),className:"p-1 text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded transition-colors",title:"Delete",children:g.jsx(AR,{size:18})})]})})]},A.id)})})]}),r.length===0&&g.jsxs("div",{className:"text-center py-12",children:[g.jsx(Rp,{size:48,className:"mx-auto mb-4 text-muted-foreground opacity-50"}),g.jsx("p",{className:"text-muted-foreground",children:"No artworks yet. Upload your first piece!"})]})]})]})]})]})},g3=()=>{const t=oc();return P.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),g.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:g.jsxs("div",{className:"text-center",children:[g.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),g.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),g.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},y3=()=>g.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[g.jsx(My,{showSearch:!1,showAdminControls:!1}),g.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[g.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Privacy Policy"}),g.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-6",children:[g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Introduction"}),g.jsx("p",{className:"text-muted-foreground",children:"Welcome to Prompt Vision Gallery. We respect your privacy and are committed to protecting your personal data. This privacy policy will inform you as to how we look after your personal data when you visit our website and tell you about your privacy rights and how the law protects you."})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Data We Collect"}),g.jsx("p",{className:"text-muted-foreground",children:"We may collect, use, store and transfer different kinds of personal data about you which we have grouped together follows:"}),g.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[g.jsx("li",{children:"Identity Data includes first name, last name, username or similar identifier."}),g.jsx("li",{children:"Contact Data includes email address."}),g.jsx("li",{children:"Technical Data includes internet protocol (IP) address, your login data, browser type and version, time zone setting and location, browser plug-in types and versions, operating system and platform and other technology on the devices you use to access this website."}),g.jsx("li",{children:"Usage Data includes information about how you use our website, products and services."})]})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. How We Use Your Data"}),g.jsx("p",{className:"text-muted-foreground",children:"We will only use your personal data when the law allows us to. Most commonly, we will use your personal data in the following circumstances:"}),g.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[g.jsx("li",{children:"Where we need to perform the contract we are about to enter into or have entered into with you."}),g.jsx("li",{children:"Where it is necessary for our legitimate interests (or those of a third party) and your interests and fundamental rights do not override those interests."}),g.jsx("li",{children:"Where we need to comply with a legal or regulatory obligation."})]})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Data Security"}),g.jsx("p",{className:"text-muted-foreground",children:"We have put in place appropriate security measures to prevent your personal data from being accidentally lost, used or accessed in an unauthorized way, altered or disclosed. In addition, we limit access to your personal data to those employees, agents, contractors and other third parties who have a business need to know."})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Contact Us"}),g.jsx("p",{className:"text-muted-foreground",children:"If you have any questions about this privacy policy or our privacy practices, please contact us."})]})]})]})]}),v3=()=>g.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[g.jsx(My,{showSearch:!1,showAdminControls:!1}),g.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[g.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Terms of Service"}),g.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none space-y-6",children:[g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Agreement to Terms"}),g.jsx("p",{className:"text-muted-foreground",children:"By accessing or using Prompt Vision Gallery, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site."})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Use License"}),g.jsx("p",{className:"text-muted-foreground",children:"Permission is granted to temporarily download one copy of the materials (information or software) on Prompt Vision Gallery's website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),g.jsxs("ul",{className:"list-disc pl-6 mt-2 text-muted-foreground space-y-1",children:[g.jsx("li",{children:"modify or copy the materials;"}),g.jsx("li",{children:"use the materials for any commercial purpose, or for any public display (commercial or non-commercial);"}),g.jsx("li",{children:"attempt to decompile or reverse engineer any software contained on Prompt Vision Gallery's website;"}),g.jsx("li",{children:"remove any copyright or other proprietary notations from the materials; or"}),g.jsx("li",{children:'transfer the materials to another person or "mirror" the materials on any other server.'})]})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. User Content"}),g.jsx("p",{className:"text-muted-foreground",children:"You retain all rights in, and are solely responsible for, the User Content you post to Prompt Vision Gallery. By posting User Content, you grant Prompt Vision Gallery a non-exclusive, transferable, sub-licensable, royalty-free, worldwide license to use, copy, modify, create derivative works based upon, distribute, publicly display, and publicly perform your User Content in connection with operating and providing the Service."})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Disclaimer"}),g.jsx("p",{className:"text-muted-foreground",children:"The materials on Prompt Vision Gallery's website are provided on an 'as is' basis. Prompt Vision Gallery makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),g.jsxs("section",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Limitations"}),g.jsx("p",{className:"text-muted-foreground",children:"In no event shall Prompt Vision Gallery or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on Prompt Vision Gallery's website."})]})]})]})]}),w3=()=>g.jsx("footer",{className:"bg-background border-t py-12 mt-auto",children:g.jsxs("div",{className:"container mx-auto px-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("span",{className:"text-xl font-bold text-foreground tracking-tight",children:["Prompt",g.jsx("span",{className:"text-primary",children:"Gallery"})]}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover and share amazing AI-generated art prompts."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium mb-4",children:"Legal"}),g.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[g.jsx("li",{children:g.jsx($p,{to:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy Policy"})}),g.jsx("li",{children:g.jsx($p,{to:"/terms",className:"hover:text-foreground transition-colors",children:"Terms of Service"})})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium mb-4",children:"Credits"}),g.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"Developer:"}),g.jsxs("a",{href:"https://instagram.com/sahilgupta.pvtt",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-foreground transition-colors",children:["Sahil Gupta ",g.jsx(Vw,{className:"h-4 w-4"})]})]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{children:"Promoter:"}),g.jsxs("a",{href:"https://instagram.com/bytanmay",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-foreground transition-colors",children:["Tanmay Pandey ",g.jsx(Vw,{className:"h-4 w-4"})]})]})]})]})]}),g.jsx("div",{className:"mt-12 pt-8 border-t text-center text-sm text-muted-foreground",children:g.jsxs("p",{children:[" ",new Date().getFullYear()," PromptGallery. All rights reserved."]})})]})}),_3=new Y2,E3=()=>g.jsx(J2,{client:_3,children:g.jsxs(b2,{children:[g.jsx(ck,{}),g.jsx(zk,{}),g.jsx(KD,{children:g.jsxs("div",{className:"flex flex-col min-h-screen",children:[g.jsxs(zD,{children:[g.jsx(Qi,{path:"/",element:g.jsx(p3,{})}),g.jsx(Qi,{path:"/admin",element:g.jsx(m3,{})}),g.jsx(Qi,{path:"/privacy",element:g.jsx(y3,{})}),g.jsx(Qi,{path:"/terms",element:g.jsx(v3,{})}),g.jsx(Qi,{path:"*",element:g.jsx(g3,{})})]}),g.jsx(w3,{})]})})]})});yx(document.getElementById("root")).render(g.jsx(E3,{}));
